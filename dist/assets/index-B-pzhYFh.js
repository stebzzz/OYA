function NE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function ev(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tv={exports:{}},ru={},nv={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),EE=Symbol.for("react.portal"),jE=Symbol.for("react.fragment"),TE=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),kE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),AE=Symbol.for("react.suspense"),RE=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),Gg=Symbol.iterator;function DE(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var rv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sv=Object.assign,iv={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=iv,this.updater=n||rv}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function av(){}av.prototype=Fi.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=iv,this.updater=n||rv}var zm=Um.prototype=new av;zm.constructor=Um;sv(zm,Fi.prototype);zm.isPureReactComponent=!0;var Kg=Array.isArray,ov=Object.prototype.hasOwnProperty,Bm={current:null},lv={key:!0,ref:!0,__self:!0,__source:!0};function cv(t,e,n){var r,s={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)ov.call(e,r)&&!lv.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Ro,type:t,key:a,ref:o,props:s,_owner:Bm.current}}function LE(t,e){return{$$typeof:Ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ro}function OE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qg=/\/+/g;function wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OE(""+t.key):e.toString(36)}function zl(t,e,n,r,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ro:case EE:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wd(o,0):r,Kg(s)?(n="",t!=null&&(n=t.replace(Qg,"$&/")+"/"),zl(s,e,n,"",function(d){return d})):s!=null&&($m(s)&&(s=LE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Kg(t))for(var c=0;c<t.length;c++){a=t[c];var u=r+wd(a,c);o+=zl(a,e,n,u,s)}else if(u=DE(t),typeof u=="function")for(t=u.call(t),c=0;!(a=t.next()).done;)a=a.value,u=r+wd(a,c++),o+=zl(a,e,n,u,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pl(t,e,n){if(t==null)return t;var r=[],s=0;return zl(t,r,"","",function(a){return e.call(n,a,s++)}),r}function ME(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Bl={transition:null},VE={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:Bm};function uv(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!$m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Fi;re.Fragment=jE;re.Profiler=IE;re.PureComponent=Um;re.StrictMode=TE;re.Suspense=AE;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;re.act=uv;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sv({},t.props),s=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Bm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)ov.call(e,u)&&!lv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Ro,type:t.type,key:s,ref:a,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:SE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kE,_context:t},t.Consumer=t};re.createElement=cv;re.createFactory=function(t){var e=cv.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:CE,render:t}};re.isValidElement=$m;re.lazy=function(t){return{$$typeof:PE,_payload:{_status:-1,_result:t},_init:ME}};re.memo=function(t,e){return{$$typeof:RE,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Bl.transition;Bl.transition={};try{t()}finally{Bl.transition=e}};re.unstable_act=uv;re.useCallback=function(t,e){return Nt.current.useCallback(t,e)};re.useContext=function(t){return Nt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Nt.current.useEffect(t,e)};re.useId=function(){return Nt.current.useId()};re.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Nt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};re.useRef=function(t){return Nt.current.useRef(t)};re.useState=function(t){return Nt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Nt.current.useTransition()};re.version="18.3.1";nv.exports=re;var A=nv.exports;const dv=ev(A),FE=NE({__proto__:null,default:dv},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=A,zE=Symbol.for("react.element"),BE=Symbol.for("react.fragment"),$E=Object.prototype.hasOwnProperty,qE=UE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WE={key:!0,ref:!0,__self:!0,__source:!0};function hv(t,e,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$E.call(e,r)&&!WE.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zE,type:t,key:a,ref:o,props:s,_owner:qE.current}}ru.Fragment=BE;ru.jsx=hv;ru.jsxs=hv;tv.exports=ru;var i=tv.exports,mv={exports:{}},Wt={},fv={exports:{}},pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,J){var V=q.length;q.push(J);e:for(;0<V;){var G=V-1>>>1,K=q[G];if(0<s(K,J))q[G]=J,q[V]=K,V=G;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],V=q.pop();if(V!==J){q[0]=V;e:for(var G=0,K=q.length,X=K>>>1;G<X;){var ie=2*(G+1)-1,$e=q[ie],Ye=ie+1,Pn=q[Ye];if(0>s($e,V))Ye<K&&0>s(Pn,$e)?(q[G]=Pn,q[Ye]=V,G=Ye):(q[G]=$e,q[ie]=V,G=ie);else if(Ye<K&&0>s(Pn,V))q[G]=Pn,q[Ye]=V,G=Ye;else break e}}return J}function s(q,J){var V=q.sortIndex-J.sortIndex;return V!==0?V:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],d=[],m=1,p=null,f=3,x=!1,j=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(q){for(var J=n(d);J!==null;){if(J.callback===null)r(d);else if(J.startTime<=q)r(d),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(d)}}function k(q){if(b=!1,I(q),!j)if(n(u)!==null)j=!0,Rn(D);else{var J=n(d);J!==null&&Lt(k,J.startTime-q)}}function D(q,J){j=!1,b&&(b=!1,T(w),w=-1),x=!0;var V=f;try{for(I(J),p=n(u);p!==null&&(!(p.expirationTime>J)||q&&!R());){var G=p.callback;if(typeof G=="function"){p.callback=null,f=p.priorityLevel;var K=G(p.expirationTime<=J);J=t.unstable_now(),typeof K=="function"?p.callback=K:p===n(u)&&r(u),I(J)}else r(u);p=n(u)}if(p!==null)var X=!0;else{var ie=n(d);ie!==null&&Lt(k,ie.startTime-J),X=!1}return X}finally{p=null,f=V,x=!1}}var L=!1,E=null,w=-1,y=5,N=-1;function R(){return!(t.unstable_now()-N<y)}function P(){if(E!==null){var q=t.unstable_now();N=q;var J=!0;try{J=E(!0,q)}finally{J?S():(L=!1,E=null)}}else L=!1}var S;if(typeof _=="function")S=function(){_(P)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,jt=fe.port2;fe.port1.onmessage=P,S=function(){jt.postMessage(null)}}else S=function(){C(P,0)};function Rn(q){E=q,L||(L=!0,S())}function Lt(q,J){w=C(function(){q(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,Rn(D))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var V=f;f=J;try{return q()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=f;f=q;try{return J()}finally{f=V}},t.unstable_scheduleCallback=function(q,J,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=V+K,q={id:m++,callback:J,priorityLevel:q,startTime:V,expirationTime:K,sortIndex:-1},V>G?(q.sortIndex=V,e(d,q),n(u)===null&&q===n(d)&&(b?(T(w),w=-1):b=!0,Lt(k,V-G))):(q.sortIndex=K,e(u,q),j||x||(j=!0,Rn(D))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var J=f;return function(){var V=f;f=J;try{return q.apply(this,arguments)}finally{f=V}}}})(pv);fv.exports=pv;var HE=fv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE=A,qt=HE;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gv=new Set,Ya={};function Cs(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(Ya[t]=e,t=0;t<e.length;t++)gv.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=Object.prototype.hasOwnProperty,KE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},Jg={};function QE(t){return mh.call(Jg,t)?!0:mh.call(Yg,t)?!1:KE.test(t)?Jg[t]=!0:(Yg[t]=!0,!1)}function YE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JE(t,e,n,r){if(e===null||typeof e>"u"||YE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qm,Wm);st[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qm,Wm);st[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qm,Wm);st[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hm(t,e,n,r){var s=st.hasOwnProperty(e)?st[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JE(e,n,s,r)&&(n=null),r||s===null?QE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nr=GE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),fh=Symbol.for("react.profiler"),yv=Symbol.for("react.provider"),xv=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),ph=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),dr=Symbol.for("react.lazy"),vv=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,_d;function Na(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var bd=!1;function Nd(t,e){if(!t||bd)return"";bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,c=a.length-1;1<=o&&0<=c&&s[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==a[c]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=c);break}}}finally{bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function XE(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Nd(t.type,!1),t;case 11:return t=Nd(t.type.render,!1),t;case 1:return t=Nd(t.type,!0),t;default:return""}}function yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Js:return"Portal";case fh:return"Profiler";case Gm:return"StrictMode";case ph:return"Suspense";case gh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xv:return(t.displayName||"Context")+".Consumer";case yv:return(t._context.displayName||"Context")+".Provider";case Km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:yh(t.type)||"Memo";case dr:e=t._payload,t=t._init;try{return yh(t(e))}catch{}}return null}function ZE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yh(e);case 8:return e===Gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e2(t){var e=wv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yl(t){t._valueTracker||(t._valueTracker=e2(t))}function _v(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bv(t,e){e=e.checked,e!=null&&Hm(t,"checked",e,!1)}function vh(t,e){bv(t,e);var n=Or(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wh(t,e.type,n):e.hasOwnProperty("defaultValue")&&wh(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wh(t,e,n){(e!=="number"||uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ea=Array.isArray;function ui(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _h(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Ea(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function Nv(t,e){var n=Or(e.value),r=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ev(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ev(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xl,jv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t2=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){t2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function Tv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function Iv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Tv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var n2=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(n2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Eh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Th=null,di=null,hi=null;function r0(t){if(t=Lo(t)){if(typeof Th!="function")throw Error(z(280));var e=t.stateNode;e&&(e=lu(e),Th(t.stateNode,t.type,e))}}function kv(t){di?hi?hi.push(t):hi=[t]:di=t}function Sv(){if(di){var t=di,e=hi;if(hi=di=null,r0(t),e)for(t=0;t<e.length;t++)r0(e[t])}}function Cv(t,e){return t(e)}function Av(){}var Ed=!1;function Rv(t,e,n){if(Ed)return t(e,n);Ed=!0;try{return Cv(t,e,n)}finally{Ed=!1,(di!==null||hi!==null)&&(Av(),Sv())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var r=lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ih=!1;if(Hn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Ih=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Ih=!1}function r2(t,e,n,r,s,a,o,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(m){this.onError(m)}}var Da=!1,dc=null,hc=!1,kh=null,s2={onError:function(t){Da=!0,dc=t}};function i2(t,e,n,r,s,a,o,c,u){Da=!1,dc=null,r2.apply(s2,arguments)}function a2(t,e,n,r,s,a,o,c,u){if(i2.apply(this,arguments),Da){if(Da){var d=dc;Da=!1,dc=null}else throw Error(z(198));hc||(hc=!0,kh=d)}}function As(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s0(t){if(As(t)!==t)throw Error(z(188))}function o2(t){var e=t.alternate;if(!e){if(e=As(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return s0(s),t;if(a===r)return s0(s),e;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=a;break}if(c===r){o=!0,r=s,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=s;break}if(c===r){o=!0,r=a,n=s;break}c=c.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Dv(t){return t=o2(t),t!==null?Lv(t):null}function Lv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lv(t);if(e!==null)return e;t=t.sibling}return null}var Ov=qt.unstable_scheduleCallback,i0=qt.unstable_cancelCallback,l2=qt.unstable_shouldYield,c2=qt.unstable_requestPaint,Ve=qt.unstable_now,u2=qt.unstable_getCurrentPriorityLevel,Jm=qt.unstable_ImmediatePriority,Mv=qt.unstable_UserBlockingPriority,mc=qt.unstable_NormalPriority,d2=qt.unstable_LowPriority,Vv=qt.unstable_IdlePriority,su=null,bn=null;function h2(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(su,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:p2,m2=Math.log,f2=Math.LN2;function p2(t){return t>>>=0,t===0?32:31-(m2(t)/f2|0)|0}var vl=64,wl=4194304;function ja(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=ja(c):(a&=o,a!==0&&(r=ja(a)))}else o=n&~s,o!==0?r=ja(o):a!==0&&(r=ja(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function g2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-un(a),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=g2(c,e)):u<=e&&(t.expiredLanes|=c),a&=~c}}function Sh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fv(){var t=vl;return vl<<=1,!(vl&4194240)&&(vl=64),t}function jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Po(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function x2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),a=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~a}}function Xm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function Uv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zv,Zm,Bv,$v,qv,Ch=!1,_l=[],Er=null,jr=null,Tr=null,Za=new Map,eo=new Map,mr=[],v2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a0(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(e.pointerId)}}function fa(t,e,n,r,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Lo(e),e!==null&&Zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function w2(t,e,n,r,s){switch(e){case"focusin":return Er=fa(Er,t,e,n,r,s),!0;case"dragenter":return jr=fa(jr,t,e,n,r,s),!0;case"mouseover":return Tr=fa(Tr,t,e,n,r,s),!0;case"pointerover":var a=s.pointerId;return Za.set(a,fa(Za.get(a)||null,t,e,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,eo.set(a,fa(eo.get(a)||null,t,e,n,r,s)),!0}return!1}function Wv(t){var e=as(t.target);if(e!==null){var n=As(e);if(n!==null){if(e=n.tag,e===13){if(e=Pv(n),e!==null){t.blockedOn=e,qv(t.priority,function(){Bv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ah(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jh=r,n.target.dispatchEvent(r),jh=null}else return e=Lo(n),e!==null&&Zm(e),t.blockedOn=n,!1;e.shift()}return!0}function o0(t,e,n){$l(t)&&n.delete(e)}function _2(){Ch=!1,Er!==null&&$l(Er)&&(Er=null),jr!==null&&$l(jr)&&(jr=null),Tr!==null&&$l(Tr)&&(Tr=null),Za.forEach(o0),eo.forEach(o0)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,_2)))}function to(t){function e(s){return pa(s,t)}if(0<_l.length){pa(_l[0],t);for(var n=1;n<_l.length;n++){var r=_l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&pa(Er,t),jr!==null&&pa(jr,t),Tr!==null&&pa(Tr,t),Za.forEach(e),eo.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)Wv(n),n.blockedOn===null&&mr.shift()}var mi=nr.ReactCurrentBatchConfig,pc=!0;function b2(t,e,n,r){var s=de,a=mi.transition;mi.transition=null;try{de=1,ef(t,e,n,r)}finally{de=s,mi.transition=a}}function N2(t,e,n,r){var s=de,a=mi.transition;mi.transition=null;try{de=4,ef(t,e,n,r)}finally{de=s,mi.transition=a}}function ef(t,e,n,r){if(pc){var s=Ah(t,e,n,r);if(s===null)Ld(t,e,r,gc,n),a0(t,r);else if(w2(s,t,e,n,r))r.stopPropagation();else if(a0(t,r),e&4&&-1<v2.indexOf(t)){for(;s!==null;){var a=Lo(s);if(a!==null&&zv(a),a=Ah(t,e,n,r),a===null&&Ld(t,e,r,gc,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Ld(t,e,r,null,n)}}var gc=null;function Ah(t,e,n,r){if(gc=null,t=Ym(r),t=as(t),t!==null)if(e=As(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gc=t,null}function Hv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u2()){case Jm:return 1;case Mv:return 4;case mc:case d2:return 16;case Vv:return 536870912;default:return 16}default:return 16}}var wr=null,tf=null,ql=null;function Gv(){if(ql)return ql;var t,e=tf,n=e.length,r,s="value"in wr?wr.value:wr.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[a-r];r++);return ql=s.slice(t,1<r?1-r:void 0)}function Wl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function l0(){return!1}function Ht(t){function e(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bl:l0,this.isPropagationStopped=l0,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nf=Ht(Ui),Do=Se({},Ui,{view:0,detail:0}),E2=Ht(Do),Td,Id,ga,iu=Se({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(Td=t.screenX-ga.screenX,Id=t.screenY-ga.screenY):Id=Td=0,ga=t),Td)},movementY:function(t){return"movementY"in t?t.movementY:Id}}),c0=Ht(iu),j2=Se({},iu,{dataTransfer:0}),T2=Ht(j2),I2=Se({},Do,{relatedTarget:0}),kd=Ht(I2),k2=Se({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),S2=Ht(k2),C2=Se({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A2=Ht(C2),R2=Se({},Ui,{data:0}),u0=Ht(R2),P2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L2[t])?!!e[t]:!1}function rf(){return O2}var M2=Se({},Do,{key:function(t){if(t.key){var e=P2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rf,charCode:function(t){return t.type==="keypress"?Wl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V2=Ht(M2),F2=Se({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=Ht(F2),U2=Se({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rf}),z2=Ht(U2),B2=Se({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=Ht(B2),q2=Se({},iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W2=Ht(q2),H2=[9,13,27,32],sf=Hn&&"CompositionEvent"in window,La=null;Hn&&"documentMode"in document&&(La=document.documentMode);var G2=Hn&&"TextEvent"in window&&!La,Kv=Hn&&(!sf||La&&8<La&&11>=La),h0=" ",m0=!1;function Qv(t,e){switch(t){case"keyup":return H2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zs=!1;function K2(t,e){switch(t){case"compositionend":return Yv(e);case"keypress":return e.which!==32?null:(m0=!0,h0);case"textInput":return t=e.data,t===h0&&m0?null:t;default:return null}}function Q2(t,e){if(Zs)return t==="compositionend"||!sf&&Qv(t,e)?(t=Gv(),ql=tf=wr=null,Zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kv&&e.locale!=="ko"?null:e.data;default:return null}}var Y2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y2[t.type]:e==="textarea"}function Jv(t,e,n,r){kv(r),e=yc(e,"onChange"),0<e.length&&(n=new nf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oa=null,no=null;function J2(t){lw(t,0)}function au(t){var e=ni(t);if(_v(e))return t}function X2(t,e){if(t==="change")return e}var Xv=!1;if(Hn){var Sd;if(Hn){var Cd="oninput"in document;if(!Cd){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),Cd=typeof p0.oninput=="function"}Sd=Cd}else Sd=!1;Xv=Sd&&(!document.documentMode||9<document.documentMode)}function g0(){Oa&&(Oa.detachEvent("onpropertychange",Zv),no=Oa=null)}function Zv(t){if(t.propertyName==="value"&&au(no)){var e=[];Jv(e,no,t,Ym(t)),Rv(J2,e)}}function Z2(t,e,n){t==="focusin"?(g0(),Oa=e,no=n,Oa.attachEvent("onpropertychange",Zv)):t==="focusout"&&g0()}function ej(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(no)}function tj(t,e){if(t==="click")return au(e)}function nj(t,e){if(t==="input"||t==="change")return au(e)}function rj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mn=typeof Object.is=="function"?Object.is:rj;function ro(t,e){if(mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mh.call(e,s)||!mn(t[s],e[s]))return!1}return!0}function y0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=y0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y0(n)}}function ew(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ew(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tw(){for(var t=window,e=uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uc(t.document)}return e}function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sj(t){var e=tw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ew(n.ownerDocument.documentElement,n)){if(r!==null&&af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!t.extend&&a>r&&(s=r,r=a,a=s),s=x0(n,a);var o=x0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ij=Hn&&"documentMode"in document&&11>=document.documentMode,ei=null,Rh=null,Ma=null,Ph=!1;function v0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ph||ei==null||ei!==uc(r)||(r=ei,"selectionStart"in r&&af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&ro(Ma,r)||(Ma=r,r=yc(Rh,"onSelect"),0<r.length&&(e=new nf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ei)))}function Nl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ti={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},Ad={},nw={};Hn&&(nw=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function ou(t){if(Ad[t])return Ad[t];if(!ti[t])return t;var e=ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nw)return Ad[t]=e[n];return t}var rw=ou("animationend"),sw=ou("animationiteration"),iw=ou("animationstart"),aw=ou("transitionend"),ow=new Map,w0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){ow.set(t,e),Cs(e,[t])}for(var Rd=0;Rd<w0.length;Rd++){var Pd=w0[Rd],aj=Pd.toLowerCase(),oj=Pd[0].toUpperCase()+Pd.slice(1);$r(aj,"on"+oj)}$r(rw,"onAnimationEnd");$r(sw,"onAnimationIteration");$r(iw,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(aw,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function _0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a2(r,e,void 0,t),t.currentTarget=null}function lw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==a&&s.isPropagationStopped())break e;_0(s,c,d),a=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,d=c.currentTarget,c=c.listener,u!==a&&s.isPropagationStopped())break e;_0(s,c,d),a=u}}}if(hc)throw t=kh,hc=!1,kh=null,t}function xe(t,e){var n=e[Vh];n===void 0&&(n=e[Vh]=new Set);var r=t+"__bubble";n.has(r)||(cw(e,t,2,!1),n.add(r))}function Dd(t,e,n){var r=0;e&&(r|=4),cw(n,t,r,e)}var El="_reactListening"+Math.random().toString(36).slice(2);function so(t){if(!t[El]){t[El]=!0,gv.forEach(function(n){n!=="selectionchange"&&(lj.has(n)||Dd(n,!1,t),Dd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[El]||(e[El]=!0,Dd("selectionchange",!1,e))}}function cw(t,e,n,r){switch(Hv(e)){case 1:var s=b2;break;case 4:s=N2;break;default:s=ef}n=s.bind(null,e,n,t),s=void 0,!Ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ld(t,e,n,r,s){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=as(c),o===null)return;if(u=o.tag,u===5||u===6){r=a=o;continue e}c=c.parentNode}}r=r.return}Rv(function(){var d=a,m=Ym(n),p=[];e:{var f=ow.get(t);if(f!==void 0){var x=nf,j=t;switch(t){case"keypress":if(Wl(n)===0)break e;case"keydown":case"keyup":x=V2;break;case"focusin":j="focus",x=kd;break;case"focusout":j="blur",x=kd;break;case"beforeblur":case"afterblur":x=kd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=c0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=z2;break;case rw:case sw:case iw:x=S2;break;case aw:x=$2;break;case"scroll":x=E2;break;case"wheel":x=W2;break;case"copy":case"cut":case"paste":x=A2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=d0}var b=(e&4)!==0,C=!b&&t==="scroll",T=b?f!==null?f+"Capture":null:f;b=[];for(var _=d,I;_!==null;){I=_;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,T!==null&&(k=Xa(_,T),k!=null&&b.push(io(_,k,I)))),C)break;_=_.return}0<b.length&&(f=new x(f,j,null,n,m),p.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&n!==jh&&(j=n.relatedTarget||n.fromElement)&&(as(j)||j[Gn]))break e;if((x||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,x?(j=n.relatedTarget||n.toElement,x=d,j=j?as(j):null,j!==null&&(C=As(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(x=null,j=d),x!==j)){if(b=c0,k="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=d0,k="onPointerLeave",T="onPointerEnter",_="pointer"),C=x==null?f:ni(x),I=j==null?f:ni(j),f=new b(k,_+"leave",x,n,m),f.target=C,f.relatedTarget=I,k=null,as(m)===d&&(b=new b(T,_+"enter",j,n,m),b.target=I,b.relatedTarget=C,k=b),C=k,x&&j)t:{for(b=x,T=j,_=0,I=b;I;I=qs(I))_++;for(I=0,k=T;k;k=qs(k))I++;for(;0<_-I;)b=qs(b),_--;for(;0<I-_;)T=qs(T),I--;for(;_--;){if(b===T||T!==null&&b===T.alternate)break t;b=qs(b),T=qs(T)}b=null}else b=null;x!==null&&b0(p,f,x,b,!1),j!==null&&C!==null&&b0(p,C,j,b,!0)}}e:{if(f=d?ni(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var D=X2;else if(f0(f))if(Xv)D=nj;else{D=ej;var L=Z2}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=tj);if(D&&(D=D(t,d))){Jv(p,D,n,m);break e}L&&L(t,f,d),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&wh(f,"number",f.value)}switch(L=d?ni(d):window,t){case"focusin":(f0(L)||L.contentEditable==="true")&&(ei=L,Rh=d,Ma=null);break;case"focusout":Ma=Rh=ei=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,v0(p,n,m);break;case"selectionchange":if(ij)break;case"keydown":case"keyup":v0(p,n,m)}var E;if(sf)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Zs?Qv(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(Kv&&n.locale!=="ko"&&(Zs||w!=="onCompositionStart"?w==="onCompositionEnd"&&Zs&&(E=Gv()):(wr=m,tf="value"in wr?wr.value:wr.textContent,Zs=!0)),L=yc(d,w),0<L.length&&(w=new u0(w,t,null,n,m),p.push({event:w,listeners:L}),E?w.data=E:(E=Yv(n),E!==null&&(w.data=E)))),(E=G2?K2(t,n):Q2(t,n))&&(d=yc(d,"onBeforeInput"),0<d.length&&(m=new u0("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:d}),m.data=E))}lw(p,e)})}function io(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Xa(t,n),a!=null&&r.unshift(io(t,a,s)),a=Xa(t,e),a!=null&&r.push(io(t,a,s))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function b0(t,e,n,r,s){for(var a=e._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=Xa(n,a),u!=null&&o.unshift(io(n,u,c))):s||(u=Xa(n,a),u!=null&&o.push(io(n,u,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cj=/\r\n?/g,uj=/\u0000|\uFFFD/g;function N0(t){return(typeof t=="string"?t:""+t).replace(cj,`
`).replace(uj,"")}function jl(t,e,n){if(e=N0(e),N0(t)!==e&&n)throw Error(z(425))}function xc(){}var Dh=null,Lh=null;function Oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mh=typeof setTimeout=="function"?setTimeout:void 0,dj=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,hj=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch(mj)}:Mh;function mj(t){setTimeout(function(){throw t})}function Od(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),to(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);to(e)}function Ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zi=Math.random().toString(36).slice(2),vn="__reactFiber$"+zi,ao="__reactProps$"+zi,Gn="__reactContainer$"+zi,Vh="__reactEvents$"+zi,fj="__reactListeners$"+zi,pj="__reactHandles$"+zi;function as(t){var e=t[vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gn]||n[vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j0(t);t!==null;){if(n=t[vn])return n;t=j0(t)}return e}t=n,n=t.parentNode}return null}function Lo(t){return t=t[vn]||t[Gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function lu(t){return t[ao]||null}var Fh=[],ri=-1;function qr(t){return{current:t}}function we(t){0>ri||(t.current=Fh[ri],Fh[ri]=null,ri--)}function ge(t,e){ri++,Fh[ri]=t.current,t.current=e}var Mr={},gt=qr(Mr),St=qr(!1),ps=Mr;function bi(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(t){return t=t.childContextTypes,t!=null}function vc(){we(St),we(gt)}function T0(t,e,n){if(gt.current!==Mr)throw Error(z(168));ge(gt,e),ge(St,n)}function uw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,ZE(t)||"Unknown",s));return Se({},n,r)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,ps=gt.current,ge(gt,t),ge(St,St.current),!0}function I0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=uw(t,e,ps),r.__reactInternalMemoizedMergedChildContext=t,we(St),we(gt),ge(gt,t)):we(St),ge(St,n)}var Mn=null,cu=!1,Md=!1;function dw(t){Mn===null?Mn=[t]:Mn.push(t)}function gj(t){cu=!0,dw(t)}function Wr(){if(!Md&&Mn!==null){Md=!0;var t=0,e=de;try{var n=Mn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,cu=!1}catch(s){throw Mn!==null&&(Mn=Mn.slice(t+1)),Ov(Jm,Wr),s}finally{de=e,Md=!1}}return null}var si=[],ii=0,_c=null,bc=0,Gt=[],Kt=0,gs=null,Vn=1,Fn="";function ns(t,e){si[ii++]=bc,si[ii++]=_c,_c=t,bc=e}function hw(t,e,n){Gt[Kt++]=Vn,Gt[Kt++]=Fn,Gt[Kt++]=gs,gs=t;var r=Vn;t=Fn;var s=32-un(r)-1;r&=~(1<<s),n+=1;var a=32-un(e)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vn=1<<32-un(e)+s|n<<s|r,Fn=a+t}else Vn=1<<a|n<<s|r,Fn=t}function of(t){t.return!==null&&(ns(t,1),hw(t,1,0))}function lf(t){for(;t===_c;)_c=si[--ii],si[ii]=null,bc=si[--ii],si[ii]=null;for(;t===gs;)gs=Gt[--Kt],Gt[Kt]=null,Fn=Gt[--Kt],Gt[Kt]=null,Vn=Gt[--Kt],Gt[Kt]=null}var Bt=null,Ft=null,be=!1,on=null;function mw(t,e){var n=Qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ft=Ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:Vn,overflow:Fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,Ft=null,!0):!1;default:return!1}}function Uh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zh(t){if(be){var e=Ft;if(e){var n=e;if(!k0(t,e)){if(Uh(t))throw Error(z(418));e=Ir(n.nextSibling);var r=Bt;e&&k0(t,e)?mw(r,n):(t.flags=t.flags&-4097|2,be=!1,Bt=t)}}else{if(Uh(t))throw Error(z(418));t.flags=t.flags&-4097|2,be=!1,Bt=t}}}function S0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Tl(t){if(t!==Bt)return!1;if(!be)return S0(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oh(t.type,t.memoizedProps)),e&&(e=Ft)){if(Uh(t))throw fw(),Error(z(418));for(;e;)mw(t,e),e=Ir(e.nextSibling)}if(S0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ft=Ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ft=null}}else Ft=Bt?Ir(t.stateNode.nextSibling):null;return!0}function fw(){for(var t=Ft;t;)t=Ir(t.nextSibling)}function Ni(){Ft=Bt=null,be=!1}function cf(t){on===null?on=[t]:on.push(t)}var yj=nr.ReactCurrentBatchConfig;function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=s.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C0(t){var e=t._init;return e(t._payload)}function pw(t){function e(T,_){if(t){var I=T.deletions;I===null?(T.deletions=[_],T.flags|=16):I.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function s(T,_){return T=Ar(T,_),T.index=0,T.sibling=null,T}function a(T,_,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<_?(T.flags|=2,_):I):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function c(T,_,I,k){return _===null||_.tag!==6?(_=qd(I,T.mode,k),_.return=T,_):(_=s(_,I),_.return=T,_)}function u(T,_,I,k){var D=I.type;return D===Xs?m(T,_,I.props.children,k,I.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===dr&&C0(D)===_.type)?(k=s(_,I.props),k.ref=ya(T,_,I),k.return=T,k):(k=Xl(I.type,I.key,I.props,null,T.mode,k),k.ref=ya(T,_,I),k.return=T,k)}function d(T,_,I,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=Wd(I,T.mode,k),_.return=T,_):(_=s(_,I.children||[]),_.return=T,_)}function m(T,_,I,k,D){return _===null||_.tag!==7?(_=hs(I,T.mode,k,D),_.return=T,_):(_=s(_,I),_.return=T,_)}function p(T,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qd(""+_,T.mode,I),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gl:return I=Xl(_.type,_.key,_.props,null,T.mode,I),I.ref=ya(T,null,_),I.return=T,I;case Js:return _=Wd(_,T.mode,I),_.return=T,_;case dr:var k=_._init;return p(T,k(_._payload),I)}if(Ea(_)||ha(_))return _=hs(_,T.mode,I,null),_.return=T,_;Il(T,_)}return null}function f(T,_,I,k){var D=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:c(T,_,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case gl:return I.key===D?u(T,_,I,k):null;case Js:return I.key===D?d(T,_,I,k):null;case dr:return D=I._init,f(T,_,D(I._payload),k)}if(Ea(I)||ha(I))return D!==null?null:m(T,_,I,k,null);Il(T,I)}return null}function x(T,_,I,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(I)||null,c(_,T,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case gl:return T=T.get(k.key===null?I:k.key)||null,u(_,T,k,D);case Js:return T=T.get(k.key===null?I:k.key)||null,d(_,T,k,D);case dr:var L=k._init;return x(T,_,I,L(k._payload),D)}if(Ea(k)||ha(k))return T=T.get(I)||null,m(_,T,k,D,null);Il(_,k)}return null}function j(T,_,I,k){for(var D=null,L=null,E=_,w=_=0,y=null;E!==null&&w<I.length;w++){E.index>w?(y=E,E=null):y=E.sibling;var N=f(T,E,I[w],k);if(N===null){E===null&&(E=y);break}t&&E&&N.alternate===null&&e(T,E),_=a(N,_,w),L===null?D=N:L.sibling=N,L=N,E=y}if(w===I.length)return n(T,E),be&&ns(T,w),D;if(E===null){for(;w<I.length;w++)E=p(T,I[w],k),E!==null&&(_=a(E,_,w),L===null?D=E:L.sibling=E,L=E);return be&&ns(T,w),D}for(E=r(T,E);w<I.length;w++)y=x(E,T,w,I[w],k),y!==null&&(t&&y.alternate!==null&&E.delete(y.key===null?w:y.key),_=a(y,_,w),L===null?D=y:L.sibling=y,L=y);return t&&E.forEach(function(R){return e(T,R)}),be&&ns(T,w),D}function b(T,_,I,k){var D=ha(I);if(typeof D!="function")throw Error(z(150));if(I=D.call(I),I==null)throw Error(z(151));for(var L=D=null,E=_,w=_=0,y=null,N=I.next();E!==null&&!N.done;w++,N=I.next()){E.index>w?(y=E,E=null):y=E.sibling;var R=f(T,E,N.value,k);if(R===null){E===null&&(E=y);break}t&&E&&R.alternate===null&&e(T,E),_=a(R,_,w),L===null?D=R:L.sibling=R,L=R,E=y}if(N.done)return n(T,E),be&&ns(T,w),D;if(E===null){for(;!N.done;w++,N=I.next())N=p(T,N.value,k),N!==null&&(_=a(N,_,w),L===null?D=N:L.sibling=N,L=N);return be&&ns(T,w),D}for(E=r(T,E);!N.done;w++,N=I.next())N=x(E,T,w,N.value,k),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?w:N.key),_=a(N,_,w),L===null?D=N:L.sibling=N,L=N);return t&&E.forEach(function(P){return e(T,P)}),be&&ns(T,w),D}function C(T,_,I,k){if(typeof I=="object"&&I!==null&&I.type===Xs&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case gl:e:{for(var D=I.key,L=_;L!==null;){if(L.key===D){if(D=I.type,D===Xs){if(L.tag===7){n(T,L.sibling),_=s(L,I.props.children),_.return=T,T=_;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===dr&&C0(D)===L.type){n(T,L.sibling),_=s(L,I.props),_.ref=ya(T,L,I),_.return=T,T=_;break e}n(T,L);break}else e(T,L);L=L.sibling}I.type===Xs?(_=hs(I.props.children,T.mode,k,I.key),_.return=T,T=_):(k=Xl(I.type,I.key,I.props,null,T.mode,k),k.ref=ya(T,_,I),k.return=T,T=k)}return o(T);case Js:e:{for(L=I.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){n(T,_.sibling),_=s(_,I.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=Wd(I,T.mode,k),_.return=T,T=_}return o(T);case dr:return L=I._init,C(T,_,L(I._payload),k)}if(Ea(I))return j(T,_,I,k);if(ha(I))return b(T,_,I,k);Il(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,_!==null&&_.tag===6?(n(T,_.sibling),_=s(_,I),_.return=T,T=_):(n(T,_),_=qd(I,T.mode,k),_.return=T,T=_),o(T)):n(T,_)}return C}var Ei=pw(!0),gw=pw(!1),Nc=qr(null),Ec=null,ai=null,uf=null;function df(){uf=ai=Ec=null}function hf(t){var e=Nc.current;we(Nc),t._currentValue=e}function Bh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fi(t,e){Ec=t,uf=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(uf!==t)if(t={context:t,memoizedValue:e,next:null},ai===null){if(Ec===null)throw Error(z(308));ai=t,Ec.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return e}var os=null;function mf(t){os===null?os=[t]:os.push(t)}function yw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kn(t,r)}function Kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hr=!1;function ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kn(t,n)}return s=r.interleaved,s===null?(e.next=e,mf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kn(t,n)}function Hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}function A0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jc(t,e,n,r){var s=t.updateQueue;hr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,o===null?a=d:o.next=d,o=u;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==o&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=u))}if(a!==null){var p=s.baseState;o=0,m=d=u=null,c=a;do{var f=c.lane,x=c.eventTime;if((r&f)===f){m!==null&&(m=m.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var j=t,b=c;switch(f=e,x=n,b.tag){case 1:if(j=b.payload,typeof j=="function"){p=j.call(x,p,f);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=b.payload,f=typeof j=="function"?j.call(x,p,f):j,f==null)break e;p=Se({},p,f);break e;case 2:hr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else x={eventTime:x,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=x,u=p):m=m.next=x,o|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(m===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=m,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);xs|=o,t.lanes=o,t.memoizedState=p}}function R0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Oo={},Nn=qr(Oo),oo=qr(Oo),lo=qr(Oo);function ls(t){if(t===Oo)throw Error(z(174));return t}function pf(t,e){switch(ge(lo,e),ge(oo,t),ge(Nn,Oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bh(e,t)}we(Nn),ge(Nn,e)}function ji(){we(Nn),we(oo),we(lo)}function vw(t){ls(lo.current);var e=ls(Nn.current),n=bh(e,t.type);e!==n&&(ge(oo,t),ge(Nn,n))}function gf(t){oo.current===t&&(we(Nn),we(oo))}var Ee=qr(0);function Tc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function yf(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var Gl=nr.ReactCurrentDispatcher,Fd=nr.ReactCurrentBatchConfig,ys=0,Ie=null,qe=null,Ge=null,Ic=!1,Va=!1,co=0,xj=0;function ct(){throw Error(z(321))}function xf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mn(t[n],e[n]))return!1;return!0}function vf(t,e,n,r,s,a){if(ys=a,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gl.current=t===null||t.memoizedState===null?bj:Nj,t=n(r,s),Va){a=0;do{if(Va=!1,co=0,25<=a)throw Error(z(301));a+=1,Ge=qe=null,e.updateQueue=null,Gl.current=Ej,t=n(r,s)}while(Va)}if(Gl.current=kc,e=qe!==null&&qe.next!==null,ys=0,Ge=qe=Ie=null,Ic=!1,e)throw Error(z(300));return t}function wf(){var t=co!==0;return co=0,t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t,Ge}function Xt(){if(qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ge===null?Ie.memoizedState:Ge.next;if(e!==null)Ge=e,qe=t;else{if(t===null)throw Error(z(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ge===null?Ie.memoizedState=Ge=t:Ge=Ge.next=t}return Ge}function uo(t,e){return typeof e=="function"?e(t):e}function Ud(t){var e=Xt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=qe,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var c=o=null,u=null,d=a;do{var m=d.lane;if((ys&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,o=r):u=u.next=p,Ie.lanes|=m,xs|=m}d=d.next}while(d!==null&&d!==a);u===null?o=r:u.next=c,mn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do a=s.lane,Ie.lanes|=a,xs|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=t(a,o.action),o=o.next;while(o!==s);mn(a,e.memoizedState)||(kt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function ww(){}function _w(t,e){var n=Ie,r=Xt(),s=e(),a=!mn(r.memoizedState,s);if(a&&(r.memoizedState=s,kt=!0),r=r.queue,_f(Ew.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,ho(9,Nw.bind(null,n,r,s,e),void 0,null),Qe===null)throw Error(z(349));ys&30||bw(n,e,s)}return s}function bw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nw(t,e,n,r){e.value=n,e.getSnapshot=r,jw(e)&&Tw(t)}function Ew(t,e,n){return n(function(){jw(e)&&Tw(t)})}function jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mn(t,n)}catch{return!0}}function Tw(t){var e=Kn(t,1);e!==null&&dn(e,t,1,-1)}function P0(t){var e=xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},e.queue=t,t=t.dispatch=_j.bind(null,Ie,t),[e.memoizedState,t]}function ho(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Iw(){return Xt().memoizedState}function Kl(t,e,n,r){var s=xn();Ie.flags|=t,s.memoizedState=ho(1|e,n,void 0,r===void 0?null:r)}function uu(t,e,n,r){var s=Xt();r=r===void 0?null:r;var a=void 0;if(qe!==null){var o=qe.memoizedState;if(a=o.destroy,r!==null&&xf(r,o.deps)){s.memoizedState=ho(e,n,a,r);return}}Ie.flags|=t,s.memoizedState=ho(1|e,n,a,r)}function D0(t,e){return Kl(8390656,8,t,e)}function _f(t,e){return uu(2048,8,t,e)}function kw(t,e){return uu(4,2,t,e)}function Sw(t,e){return uu(4,4,t,e)}function Cw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Aw(t,e,n){return n=n!=null?n.concat([t]):null,uu(4,4,Cw.bind(null,e,t),n)}function bf(){}function Rw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pw(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dw(t,e,n){return ys&21?(mn(n,e)||(n=Fv(),Ie.lanes|=n,xs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function vj(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Fd.transition;Fd.transition={};try{t(!1),e()}finally{de=n,Fd.transition=r}}function Lw(){return Xt().memoizedState}function wj(t,e,n){var r=Cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ow(t))Mw(e,n);else if(n=yw(t,e,n,r),n!==null){var s=bt();dn(n,t,r,s),Vw(n,e,r)}}function _j(t,e,n){var r=Cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ow(t))Mw(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,n);if(s.hasEagerState=!0,s.eagerState=c,mn(c,o)){var u=e.interleaved;u===null?(s.next=s,mf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=yw(t,e,s,r),n!==null&&(s=bt(),dn(n,t,r,s),Vw(n,e,r))}}function Ow(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function Mw(t,e){Va=Ic=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xm(t,n)}}var kc={readContext:Jt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},bj={readContext:Jt,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:D0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4194308,4,Cw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kl(4,2,t,e)},useMemo:function(t,e){var n=xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wj.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:P0,useDebugValue:bf,useDeferredValue:function(t){return xn().memoizedState=t},useTransition:function(){var t=P0(!1),e=t[0];return t=vj.bind(null,t[1]),xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=xn();if(be){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Qe===null)throw Error(z(349));ys&30||bw(r,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,D0(Ew.bind(null,r,a,t),[t]),r.flags|=2048,ho(9,Nw.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=xn(),e=Qe.identifierPrefix;if(be){var n=Fn,r=Vn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nj={readContext:Jt,useCallback:Rw,useContext:Jt,useEffect:_f,useImperativeHandle:Aw,useInsertionEffect:kw,useLayoutEffect:Sw,useMemo:Pw,useReducer:Ud,useRef:Iw,useState:function(){return Ud(uo)},useDebugValue:bf,useDeferredValue:function(t){var e=Xt();return Dw(e,qe.memoizedState,t)},useTransition:function(){var t=Ud(uo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:ww,useSyncExternalStore:_w,useId:Lw,unstable_isNewReconciler:!1},Ej={readContext:Jt,useCallback:Rw,useContext:Jt,useEffect:_f,useImperativeHandle:Aw,useInsertionEffect:kw,useLayoutEffect:Sw,useMemo:Pw,useReducer:zd,useRef:Iw,useState:function(){return zd(uo)},useDebugValue:bf,useDeferredValue:function(t){var e=Xt();return qe===null?e.memoizedState=t:Dw(e,qe.memoizedState,t)},useTransition:function(){var t=zd(uo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:ww,useSyncExternalStore:_w,useId:Lw,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $h(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var du={isMounted:function(t){return(t=t._reactInternals)?As(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Cr(t),a=$n(r,s);a.payload=e,n!=null&&(a.callback=n),e=kr(t,a,s),e!==null&&(dn(e,t,s,r),Hl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Cr(t),a=$n(r,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=kr(t,a,s),e!==null&&(dn(e,t,s,r),Hl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Cr(t),s=$n(n,r);s.tag=2,e!=null&&(s.callback=e),e=kr(t,s,r),e!==null&&(dn(e,t,r,n),Hl(e,t,r))}};function L0(t,e,n,r,s,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!ro(n,r)||!ro(s,a):!0}function Fw(t,e,n){var r=!1,s=Mr,a=e.contextType;return typeof a=="object"&&a!==null?a=Jt(a):(s=Ct(e)?ps:gt.current,r=e.contextTypes,a=(r=r!=null)?bi(t,s):Mr),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&du.enqueueReplaceState(e,e.state,null)}function qh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ff(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Jt(a):(a=Ct(e)?ps:gt.current,s.context=bi(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&($h(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&du.enqueueReplaceState(s,s.state,null),jc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e){try{var n="",r=e;do n+=XE(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function Bd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jj=typeof WeakMap=="function"?WeakMap:Map;function Uw(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cc||(Cc=!0,tm=r),Wh(t,e)},n}function zw(t,e,n){n=$n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wh(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Wh(t,e),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jj;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Fj.bind(null,t,e,n),e.then(t,t))}function V0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function F0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,kr(n,e,1))),n.lanes|=1),t)}var Tj=nr.ReactCurrentOwner,kt=!1;function _t(t,e,n,r){e.child=t===null?gw(e,null,n,r):Ei(e,t.child,n,r)}function U0(t,e,n,r,s){n=n.render;var a=e.ref;return fi(e,s),r=vf(t,e,n,r,a,s),n=wf(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qn(t,e,s)):(be&&n&&of(e),e.flags|=1,_t(t,e,r,s),e.child)}function z0(t,e,n,r,s){if(t===null){var a=n.type;return typeof a=="function"&&!Cf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Bw(t,e,a,r,s)):(t=Xl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ro,n(o,r)&&t.ref===e.ref)return Qn(t,e,s)}return e.flags|=1,t=Ar(a,r),t.ref=e.ref,t.return=e,e.child=t}function Bw(t,e,n,r,s){if(t!==null){var a=t.memoizedProps;if(ro(a,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=a,(t.lanes&s)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,Qn(t,e,s)}return Hh(t,e,n,r,s)}function $w(t,e,n){var r=e.pendingProps,s=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(li,Mt),Mt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(li,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ge(li,Mt),Mt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,ge(li,Mt),Mt|=r;return _t(t,e,s,n),e.child}function qw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hh(t,e,n,r,s){var a=Ct(n)?ps:gt.current;return a=bi(e,a),fi(e,s),n=vf(t,e,n,r,a,s),r=wf(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Qn(t,e,s)):(be&&r&&of(e),e.flags|=1,_t(t,e,n,s),e.child)}function B0(t,e,n,r,s){if(Ct(n)){var a=!0;wc(e)}else a=!1;if(fi(e,s),e.stateNode===null)Ql(t,e),Fw(e,n,r),qh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Jt(d):(d=Ct(n)?ps:gt.current,d=bi(e,d));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==d)&&O0(e,o,r,d),hr=!1;var f=e.memoizedState;o.state=f,jc(e,r,o,s),u=e.memoizedState,c!==r||f!==u||St.current||hr?(typeof m=="function"&&($h(e,n,m,r),u=e.memoizedState),(c=hr||L0(e,n,c,r,f,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xw(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:sn(e.type,c),o.props=d,p=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jt(u):(u=Ct(n)?ps:gt.current,u=bi(e,u));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==p||f!==u)&&O0(e,o,r,u),hr=!1,f=e.memoizedState,o.state=f,jc(e,r,o,s);var j=e.memoizedState;c!==p||f!==j||St.current||hr?(typeof x=="function"&&($h(e,n,x,r),j=e.memoizedState),(d=hr||L0(e,n,d,r,f,j,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=j),o.props=r,o.state=j,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gh(t,e,n,r,a,s)}function Gh(t,e,n,r,s,a){qw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&I0(e,n,!1),Qn(t,e,a);r=e.stateNode,Tj.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ei(e,t.child,null,a),e.child=Ei(e,null,c,a)):_t(t,e,c,a),e.memoizedState=r.state,s&&I0(e,n,!0),e.child}function Ww(t){var e=t.stateNode;e.pendingContext?T0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T0(t,e.context,!1),pf(t,e.containerInfo)}function $0(t,e,n,r,s){return Ni(),cf(s),e.flags|=256,_t(t,e,n,r),e.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hw(t,e,n){var r=e.pendingProps,s=Ee.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Ee,s&1),t===null)return zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=fu(o,r,0,null),t=hs(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Qh(n),e.memoizedState=Kh,t):Nf(e,o));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Ij(t,e,o,r,c,s,n);if(a){a=r.fallback,o=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ar(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=Ar(c,a):(a=hs(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Qh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Kh,r}return a=t.child,t=a.sibling,r=Ar(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Nf(t,e){return e=fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kl(t,e,n,r){return r!==null&&cf(r),Ei(e,t.child,null,n),t=Nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ij(t,e,n,r,s,a,o){if(n)return e.flags&256?(e.flags&=-257,r=Bd(Error(z(422))),kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,s=e.mode,r=fu({mode:"visible",children:r.children},s,0,null),a=hs(a,s,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Ei(e,t.child,null,o),e.child.memoizedState=Qh(o),e.memoizedState=Kh,a);if(!(e.mode&1))return kl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(z(419)),r=Bd(a,r,void 0),kl(t,e,o,r)}if(c=(o&t.childLanes)!==0,kt||c){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Kn(t,s),dn(r,t,s,-1))}return Sf(),r=Bd(Error(z(421))),kl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Uj.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,Ft=Ir(s.nextSibling),Bt=e,be=!0,on=null,t!==null&&(Gt[Kt++]=Vn,Gt[Kt++]=Fn,Gt[Kt++]=gs,Vn=t.id,Fn=t.overflow,gs=e),e=Nf(e,r.children),e.flags|=4096,e)}function q0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bh(t.return,e,n)}function $d(t,e,n,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Gw(t,e,n){var r=e.pendingProps,s=r.revealOrder,a=r.tail;if(_t(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q0(t,n,e);else if(t.tag===19)q0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Tc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),$d(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Tc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}$d(e,!0,n,null,a);break;case"together":$d(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kj(t,e,n){switch(e.tag){case 3:Ww(e),Ni();break;case 5:vw(e);break;case 1:Ct(e.type)&&wc(e);break;case 4:pf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Nc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Hw(t,e,n):(ge(Ee,Ee.current&1),t=Qn(t,e,n),t!==null?t.sibling:null);ge(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,$w(t,e,n)}return Qn(t,e,n)}var Kw,Yh,Qw,Yw;Kw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yh=function(){};Qw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ls(Nn.current);var a=null;switch(n){case"input":s=xh(t,s),r=xh(t,r),a=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),a=[];break;case"textarea":s=_h(t,s),r=_h(t,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}Nh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ya.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(a=a||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&xe("scroll",t),a||c===u||(a=[])):(a=a||[]).push(d,u))}n&&(a=a||[]).push("style",n);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};Yw=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Sj(t,e,n){var r=e.pendingProps;switch(lf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return Ct(e.type)&&vc(),ut(e),null;case 3:return r=e.stateNode,ji(),we(St),we(gt),yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(sm(on),on=null))),Yh(t,e),ut(e),null;case 5:gf(e);var s=ls(lo.current);if(n=e.type,t!==null&&e.stateNode!=null)Qw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ut(e),null}if(t=ls(Nn.current),Tl(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[vn]=e,r[ao]=a,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Ta.length;s++)xe(Ta[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":Zg(r,a),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},xe("invalid",r);break;case"textarea":t0(r,a),xe("invalid",r)}Nh(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&jl(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&jl(r.textContent,c,t),s=["children",""+c]):Ya.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":yl(r),e0(r,a,!0);break;case"textarea":yl(r),n0(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ev(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vn]=e,t[ao]=r,Kw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eh(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ta.length;s++)xe(Ta[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":Zg(t,r),s=xh(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),xe("invalid",t);break;case"textarea":t0(t,r),s=_h(t,r),xe("invalid",t);break;default:s=r}Nh(n,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var u=c[a];a==="style"?Iv(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&jv(t,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ja(t,u):typeof u=="number"&&Ja(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ya.hasOwnProperty(a)?u!=null&&a==="onScroll"&&xe("scroll",t):u!=null&&Hm(t,a,u,o))}switch(n){case"input":yl(t),e0(t,r,!1);break;case"textarea":yl(t),n0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Or(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ui(t,!!r.multiple,a,!1):r.defaultValue!=null&&ui(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)Yw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ls(lo.current),ls(Nn.current),Tl(e)){if(r=e.stateNode,n=e.memoizedProps,r[vn]=e,(a=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vn]=e,e.stateNode=r}return ut(e),null;case 13:if(we(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Ft!==null&&e.mode&1&&!(e.flags&128))fw(),Ni(),e.flags|=98560,a=!1;else if(a=Tl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[vn]=e}else Ni(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),a=!1}else on!==null&&(sm(on),on=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?We===0&&(We=3):Sf())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return ji(),Yh(t,e),t===null&&so(e.stateNode.containerInfo),ut(e),null;case 10:return hf(e.type._context),ut(e),null;case 17:return Ct(e.type)&&vc(),ut(e),null;case 19:if(we(Ee),a=e.memoizedState,a===null)return ut(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)xa(a,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Tc(t),o!==null){for(e.flags|=128,xa(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Ee,Ee.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ve()>Ii&&(e.flags|=128,r=!0,xa(a,!1),e.lanes=4194304)}else{if(!r)if(t=Tc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!be)return ut(e),null}else 2*Ve()-a.renderingStartTime>Ii&&n!==1073741824&&(e.flags|=128,r=!0,xa(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ve(),e.sibling=null,n=Ee.current,ge(Ee,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return kf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Cj(t,e){switch(lf(e),e.tag){case 1:return Ct(e.type)&&vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(),we(St),we(gt),yf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gf(e),null;case 13:if(we(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ni()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ee),null;case 4:return ji(),null;case 10:return hf(e.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var Sl=!1,mt=!1,Aj=typeof WeakSet=="function"?WeakSet:Set,H=null;function oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Jh(t,e,n){try{n()}catch(r){Re(t,e,r)}}var W0=!1;function Rj(t,e){if(Dh=pc,t=tw(),af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,d=0,m=0,p=t,f=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(c=o+s),p!==a||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)f=p,p=x;for(;;){if(p===t)break t;if(f===n&&++d===s&&(c=o),f===a&&++m===r&&(u=o),(x=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=x}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lh={focusedElem:t,selectionRange:n},pc=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var j=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var b=j.memoizedProps,C=j.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:sn(e.type,b),C);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){Re(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return j=W0,W0=!1,j}function Fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&Jh(e,n,a)}s=s.next}while(s!==r)}}function hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jw(t){var e=t.alternate;e!==null&&(t.alternate=null,Jw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vn],delete e[ao],delete e[Vh],delete e[fj],delete e[pj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xw(t){return t.tag===5||t.tag===3||t.tag===4}function H0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(Zh(t,e,n),t=t.sibling;t!==null;)Zh(t,e,n),t=t.sibling}function em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(em(t,e,n),t=t.sibling;t!==null;)em(t,e,n),t=t.sibling}var Xe=null,an=!1;function cr(t,e,n){for(n=n.child;n!==null;)Zw(t,e,n),n=n.sibling}function Zw(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(su,n)}catch{}switch(n.tag){case 5:mt||oi(n,e);case 6:var r=Xe,s=an;Xe=null,cr(t,e,n),Xe=r,an=s,Xe!==null&&(an?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(an?(t=Xe,n=n.stateNode,t.nodeType===8?Od(t.parentNode,n):t.nodeType===1&&Od(t,n),to(t)):Od(Xe,n.stateNode));break;case 4:r=Xe,s=an,Xe=n.stateNode.containerInfo,an=!0,cr(t,e,n),Xe=r,an=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jh(n,e,o),s=s.next}while(s!==r)}cr(t,e,n);break;case 1:if(!mt&&(oi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Re(n,e,c)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,cr(t,e,n),mt=r):cr(t,e,n);break;default:cr(t,e,n)}}function G0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Aj),e.forEach(function(r){var s=zj.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Xe=c.stateNode,an=!1;break e;case 3:Xe=c.stateNode.containerInfo,an=!0;break e;case 4:Xe=c.stateNode.containerInfo,an=!0;break e}c=c.return}if(Xe===null)throw Error(z(160));Zw(a,o,s),Xe=null,an=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Re(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e1(e,t),e=e.sibling}function e1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),yn(t),r&4){try{Fa(3,t,t.return),hu(3,t)}catch(b){Re(t,t.return,b)}try{Fa(5,t,t.return)}catch(b){Re(t,t.return,b)}}break;case 1:rn(e,t),yn(t),r&512&&n!==null&&oi(n,n.return);break;case 5:if(rn(e,t),yn(t),r&512&&n!==null&&oi(n,n.return),t.flags&32){var s=t.stateNode;try{Ja(s,"")}catch(b){Re(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&bv(s,a),Eh(c,o);var d=Eh(c,a);for(o=0;o<u.length;o+=2){var m=u[o],p=u[o+1];m==="style"?Iv(s,p):m==="dangerouslySetInnerHTML"?jv(s,p):m==="children"?Ja(s,p):Hm(s,m,p,d)}switch(c){case"input":vh(s,a);break;case"textarea":Nv(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?ui(s,!!a.multiple,x,!1):f!==!!a.multiple&&(a.defaultValue!=null?ui(s,!!a.multiple,a.defaultValue,!0):ui(s,!!a.multiple,a.multiple?[]:"",!1))}s[ao]=a}catch(b){Re(t,t.return,b)}}break;case 6:if(rn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(b){Re(t,t.return,b)}}break;case 3:if(rn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{to(e.containerInfo)}catch(b){Re(t,t.return,b)}break;case 4:rn(e,t),yn(t);break;case 13:rn(e,t),yn(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Tf=Ve())),r&4&&G0(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(d=mt)||m,rn(e,t),mt=d):rn(e,t),yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(H=t,m=t.child;m!==null;){for(p=H=m;H!==null;){switch(f=H,x=f.child,f.tag){case 0:case 11:case 14:case 15:Fa(4,f,f.return);break;case 1:oi(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,j.props=e.memoizedProps,j.state=e.memoizedState,j.componentWillUnmount()}catch(b){Re(r,n,b)}}break;case 5:oi(f,f.return);break;case 22:if(f.memoizedState!==null){Q0(p);continue}}x!==null?(x.return=f,H=x):Q0(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Tv("display",o))}catch(b){Re(t,t.return,b)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(b){Re(t,t.return,b)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:rn(e,t),yn(t),r&4&&G0(t);break;case 21:break;default:rn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xw(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ja(s,""),r.flags&=-33);var a=H0(t);em(t,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=H0(t);Zh(t,c,o);break;default:throw Error(z(161))}}catch(u){Re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pj(t,e,n){H=t,t1(t)}function t1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sl;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||mt;c=Sl;var d=mt;if(Sl=o,(mt=u)&&!d)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?Y0(s):u!==null?(u.return=o,H=u):Y0(s);for(;a!==null;)H=a,t1(a),a=a.sibling;H=s,Sl=c,mt=d}K0(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,H=a):K0(t)}}function K0(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&R0(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}R0(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&to(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}mt||e.flags&512&&Xh(e)}catch(f){Re(e,e.return,f)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Q0(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Y0(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hu(4,e)}catch(u){Re(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Re(e,s,u)}}var a=e.return;try{Xh(e)}catch(u){Re(e,a,u)}break;case 5:var o=e.return;try{Xh(e)}catch(u){Re(e,o,u)}}}catch(u){Re(e,e.return,u)}if(e===t){H=null;break}var c=e.sibling;if(c!==null){c.return=e.return,H=c;break}H=e.return}}var Dj=Math.ceil,Sc=nr.ReactCurrentDispatcher,Ef=nr.ReactCurrentOwner,Yt=nr.ReactCurrentBatchConfig,le=0,Qe=null,ze=null,tt=0,Mt=0,li=qr(0),We=0,mo=null,xs=0,mu=0,jf=0,Ua=null,Tt=null,Tf=0,Ii=1/0,On=null,Cc=!1,tm=null,Sr=null,Cl=!1,_r=null,Ac=0,za=0,nm=null,Yl=-1,Jl=0;function bt(){return le&6?Ve():Yl!==-1?Yl:Yl=Ve()}function Cr(t){return t.mode&1?le&2&&tt!==0?tt&-tt:yj.transition!==null?(Jl===0&&(Jl=Fv()),Jl):(t=de,t!==0||(t=window.event,t=t===void 0?16:Hv(t.type)),t):1}function dn(t,e,n,r){if(50<za)throw za=0,nm=null,Error(z(185));Po(t,n,r),(!(le&2)||t!==Qe)&&(t===Qe&&(!(le&2)&&(mu|=n),We===4&&fr(t,tt)),At(t,r),n===1&&le===0&&!(e.mode&1)&&(Ii=Ve()+500,cu&&Wr()))}function At(t,e){var n=t.callbackNode;y2(t,e);var r=fc(t,t===Qe?tt:0);if(r===0)n!==null&&i0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&i0(n),e===1)t.tag===0?gj(J0.bind(null,t)):dw(J0.bind(null,t)),hj(function(){!(le&6)&&Wr()}),n=null;else{switch(Uv(r)){case 1:n=Jm;break;case 4:n=Mv;break;case 16:n=mc;break;case 536870912:n=Vv;break;default:n=mc}n=c1(n,n1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n1(t,e){if(Yl=-1,Jl=0,le&6)throw Error(z(327));var n=t.callbackNode;if(pi()&&t.callbackNode!==n)return null;var r=fc(t,t===Qe?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var s=le;le|=2;var a=s1();(Qe!==t||tt!==e)&&(On=null,Ii=Ve()+500,ds(t,e));do try{Mj();break}catch(c){r1(t,c)}while(!0);df(),Sc.current=a,le=s,ze!==null?e=0:(Qe=null,tt=0,e=We)}if(e!==0){if(e===2&&(s=Sh(t),s!==0&&(r=s,e=rm(t,s))),e===1)throw n=mo,ds(t,0),fr(t,r),At(t,Ve()),n;if(e===6)fr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Lj(s)&&(e=Rc(t,r),e===2&&(a=Sh(t),a!==0&&(r=a,e=rm(t,a))),e===1))throw n=mo,ds(t,0),fr(t,r),At(t,Ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:rs(t,Tt,On);break;case 3:if(fr(t,r),(r&130023424)===r&&(e=Tf+500-Ve(),10<e)){if(fc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mh(rs.bind(null,t,Tt,On),e);break}rs(t,Tt,On);break;case 4:if(fr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);a=1<<o,o=e[o],o>s&&(s=o),r&=~a}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Dj(r/1960))-r,10<r){t.timeoutHandle=Mh(rs.bind(null,t,Tt,On),r);break}rs(t,Tt,On);break;case 5:rs(t,Tt,On);break;default:throw Error(z(329))}}}return At(t,Ve()),t.callbackNode===n?n1.bind(null,t):null}function rm(t,e){var n=Ua;return t.current.memoizedState.isDehydrated&&(ds(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&sm(e)),t}function sm(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function Lj(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!mn(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e){for(e&=~jf,e&=~mu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function J0(t){if(le&6)throw Error(z(327));pi();var e=fc(t,0);if(!(e&1))return At(t,Ve()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Sh(t);r!==0&&(e=r,n=rm(t,r))}if(n===1)throw n=mo,ds(t,0),fr(t,e),At(t,Ve()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rs(t,Tt,On),At(t,Ve()),null}function If(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Ii=Ve()+500,cu&&Wr())}}function vs(t){_r!==null&&_r.tag===0&&!(le&6)&&pi();var e=le;le|=1;var n=Yt.transition,r=de;try{if(Yt.transition=null,de=1,t)return t()}finally{de=r,Yt.transition=n,le=e,!(le&6)&&Wr()}}function kf(){Mt=li.current,we(li)}function ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dj(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(lf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vc();break;case 3:ji(),we(St),we(gt),yf();break;case 5:gf(r);break;case 4:ji();break;case 13:we(Ee);break;case 19:we(Ee);break;case 10:hf(r.type._context);break;case 22:case 23:kf()}n=n.return}if(Qe=t,ze=t=Ar(t.current,null),tt=Mt=e,We=0,mo=null,jf=mu=xs=0,Tt=Ua=null,os!==null){for(e=0;e<os.length;e++)if(n=os[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}os=null}return t}function r1(t,e){do{var n=ze;try{if(df(),Gl.current=kc,Ic){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ic=!1}if(ys=0,Ge=qe=Ie=null,Va=!1,co=0,Ef.current=null,n===null||n.return===null){We=1,mo=e,ze=null;break}e:{var a=t,o=n.return,c=n,u=e;if(e=tt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=c,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=V0(o);if(x!==null){x.flags&=-257,F0(x,o,c,a,e),x.mode&1&&M0(a,d,e),e=x,u=d;var j=e.updateQueue;if(j===null){var b=new Set;b.add(u),e.updateQueue=b}else j.add(u);break e}else{if(!(e&1)){M0(a,d,e),Sf();break e}u=Error(z(426))}}else if(be&&c.mode&1){var C=V0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),F0(C,o,c,a,e),cf(Ti(u,c));break e}}a=u=Ti(u,c),We!==4&&(We=2),Ua===null?Ua=[a]:Ua.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var T=Uw(a,u,e);A0(a,T);break e;case 1:c=u;var _=a.type,I=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Sr===null||!Sr.has(I)))){a.flags|=65536,e&=-e,a.lanes|=e;var k=zw(a,c,e);A0(a,k);break e}}a=a.return}while(a!==null)}a1(n)}catch(D){e=D,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function s1(){var t=Sc.current;return Sc.current=kc,t===null?kc:t}function Sf(){(We===0||We===3||We===2)&&(We=4),Qe===null||!(xs&268435455)&&!(mu&268435455)||fr(Qe,tt)}function Rc(t,e){var n=le;le|=2;var r=s1();(Qe!==t||tt!==e)&&(On=null,ds(t,e));do try{Oj();break}catch(s){r1(t,s)}while(!0);if(df(),le=n,Sc.current=r,ze!==null)throw Error(z(261));return Qe=null,tt=0,We}function Oj(){for(;ze!==null;)i1(ze)}function Mj(){for(;ze!==null&&!l2();)i1(ze)}function i1(t){var e=l1(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?a1(t):ze=e,Ef.current=null}function a1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Cj(n,e),n!==null){n.flags&=32767,ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,ze=null;return}}else if(n=Sj(n,e,Mt),n!==null){ze=n;return}if(e=e.sibling,e!==null){ze=e;return}ze=e=t}while(e!==null);We===0&&(We=5)}function rs(t,e,n){var r=de,s=Yt.transition;try{Yt.transition=null,de=1,Vj(t,e,n,r)}finally{Yt.transition=s,de=r}return null}function Vj(t,e,n,r){do pi();while(_r!==null);if(le&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(x2(t,a),t===Qe&&(ze=Qe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cl||(Cl=!0,c1(mc,function(){return pi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Yt.transition,Yt.transition=null;var o=de;de=1;var c=le;le|=4,Ef.current=null,Rj(t,n),e1(n,t),sj(Lh),pc=!!Dh,Lh=Dh=null,t.current=n,Pj(n),c2(),le=c,de=o,Yt.transition=a}else t.current=n;if(Cl&&(Cl=!1,_r=t,Ac=s),a=t.pendingLanes,a===0&&(Sr=null),h2(n.stateNode),At(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cc)throw Cc=!1,t=tm,tm=null,t;return Ac&1&&t.tag!==0&&pi(),a=t.pendingLanes,a&1?t===nm?za++:(za=0,nm=t):za=0,Wr(),null}function pi(){if(_r!==null){var t=Uv(Ac),e=Yt.transition,n=de;try{if(Yt.transition=null,de=16>t?16:t,_r===null)var r=!1;else{if(t=_r,_r=null,Ac=0,le&6)throw Error(z(331));var s=le;for(le|=4,H=t.current;H!==null;){var a=H,o=a.child;if(H.flags&16){var c=a.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(H=d;H!==null;){var m=H;switch(m.tag){case 0:case 11:case 15:Fa(8,m,a)}var p=m.child;if(p!==null)p.return=m,H=p;else for(;H!==null;){m=H;var f=m.sibling,x=m.return;if(Jw(m),m===d){H=null;break}if(f!==null){f.return=x,H=f;break}H=x}}}var j=a.alternate;if(j!==null){var b=j.child;if(b!==null){j.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}H=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,H=o;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Fa(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,H=T;break e}H=a.return}}var _=t.current;for(H=_;H!==null;){o=H;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,H=I;else e:for(o=_;H!==null;){if(c=H,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:hu(9,c)}}catch(D){Re(c,c.return,D)}if(c===o){H=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,H=k;break e}H=c.return}}if(le=s,Wr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(su,t)}catch{}r=!0}return r}finally{de=n,Yt.transition=e}}return!1}function X0(t,e,n){e=Ti(n,e),e=Uw(t,e,1),t=kr(t,e,1),e=bt(),t!==null&&(Po(t,1,e),At(t,e))}function Re(t,e,n){if(t.tag===3)X0(t,t,n);else for(;e!==null;){if(e.tag===3){X0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){t=Ti(n,t),t=zw(e,t,1),e=kr(e,t,1),t=bt(),e!==null&&(Po(e,1,t),At(e,t));break}}e=e.return}}function Fj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(tt&n)===n&&(We===4||We===3&&(tt&130023424)===tt&&500>Ve()-Tf?ds(t,0):jf|=n),At(t,e)}function o1(t,e){e===0&&(t.mode&1?(e=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):e=1);var n=bt();t=Kn(t,e),t!==null&&(Po(t,e,n),At(t,n))}function Uj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o1(t,n)}function zj(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),o1(t,n)}var l1;l1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,kj(t,e,n);kt=!!(t.flags&131072)}else kt=!1,be&&e.flags&1048576&&hw(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ql(t,e),t=e.pendingProps;var s=bi(e,gt.current);fi(e,n),s=vf(null,e,r,t,s,n);var a=wf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(a=!0,wc(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ff(e),s.updater=du,e.stateNode=s,s._reactInternals=e,qh(e,r,t,n),e=Gh(null,e,r,!0,a,n)):(e.tag=0,be&&a&&of(e),_t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ql(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=$j(r),t=sn(r,t),s){case 0:e=Hh(null,e,r,t,n);break e;case 1:e=B0(null,e,r,t,n);break e;case 11:e=U0(null,e,r,t,n);break e;case 14:e=z0(null,e,r,sn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),Hh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),B0(t,e,r,s,n);case 3:e:{if(Ww(e),t===null)throw Error(z(387));r=e.pendingProps,a=e.memoizedState,s=a.element,xw(t,e),jc(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=Ti(Error(z(423)),e),e=$0(t,e,r,n,s);break e}else if(r!==s){s=Ti(Error(z(424)),e),e=$0(t,e,r,n,s);break e}else for(Ft=Ir(e.stateNode.containerInfo.firstChild),Bt=e,be=!0,on=null,n=gw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ni(),r===s){e=Qn(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return vw(e),t===null&&zh(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,o=s.children,Oh(r,s)?o=null:a!==null&&Oh(r,a)&&(e.flags|=32),qw(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&zh(e),null;case 13:return Hw(t,e,n);case 4:return pf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ei(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),U0(t,e,r,s,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,ge(Nc,r._currentValue),r._currentValue=o,a!==null)if(mn(a.value,o)){if(a.children===s.children&&!St.current){e=Qn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=$n(-1,n&-n),u.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Bh(a.return,n,e),c.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(z(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Bh(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fi(e,n),s=Jt(s),r=r(s),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,s=sn(r,e.pendingProps),s=sn(r.type,s),z0(t,e,r,s,n);case 15:return Bw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sn(r,s),Ql(t,e),e.tag=1,Ct(r)?(t=!0,wc(e)):t=!1,fi(e,n),Fw(e,r,s),qh(e,r,s,n),Gh(null,e,r,!0,t,n);case 19:return Gw(t,e,n);case 22:return $w(t,e,n)}throw Error(z(156,e.tag))};function c1(t,e){return Ov(t,e)}function Bj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(t,e,n,r){return new Bj(t,e,n,r)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $j(t){if(typeof t=="function")return Cf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Km)return 11;if(t===Qm)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xl(t,e,n,r,s,a){var o=2;if(r=t,typeof t=="function")Cf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return hs(n.children,s,a,e);case Gm:o=8,s|=8;break;case fh:return t=Qt(12,n,e,s|2),t.elementType=fh,t.lanes=a,t;case ph:return t=Qt(13,n,e,s),t.elementType=ph,t.lanes=a,t;case gh:return t=Qt(19,n,e,s),t.elementType=gh,t.lanes=a,t;case vv:return fu(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yv:o=10;break e;case xv:o=9;break e;case Km:o=11;break e;case Qm:o=14;break e;case dr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=a,e}function hs(t,e,n,r){return t=Qt(7,t,r,e),t.lanes=n,t}function fu(t,e,n,r){return t=Qt(22,t,r,e),t.elementType=vv,t.lanes=n,t.stateNode={isHidden:!1},t}function qd(t,e,n){return t=Qt(6,t,null,e),t.lanes=n,t}function Wd(t,e,n){return e=Qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qj(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jd(0),this.expirationTimes=jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Af(t,e,n,r,s,a,o,c,u){return t=new qj(t,e,n,c,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Qt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(a),t}function Wj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function u1(t){if(!t)return Mr;t=t._reactInternals;e:{if(As(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ct(n))return uw(t,n,e)}return e}function d1(t,e,n,r,s,a,o,c,u){return t=Af(n,r,!0,t,s,a,o,c,u),t.context=u1(null),n=t.current,r=bt(),s=Cr(n),a=$n(r,s),a.callback=e??null,kr(n,a,s),t.current.lanes=s,Po(t,s,r),At(t,r),t}function pu(t,e,n,r){var s=e.current,a=bt(),o=Cr(s);return n=u1(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kr(s,e,o),t!==null&&(dn(t,s,o,a),Hl(t,s,o)),o}function Pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rf(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function Hj(){return null}var h1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}gu.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));pu(t,e,null,null)};gu.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vs(function(){pu(null,t,null,null)}),e[Gn]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=$v();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&Wv(t)}};function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ey(){}function Gj(t,e,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Pc(o);a.call(d)}}var o=d1(e,r,t,0,null,!1,!1,"",ey);return t._reactRootContainer=o,t[Gn]=o.current,so(t.nodeType===8?t.parentNode:t),vs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=Pc(u);c.call(d)}}var u=Af(t,0,!1,null,null,!1,!1,"",ey);return t._reactRootContainer=u,t[Gn]=u.current,so(t.nodeType===8?t.parentNode:t),vs(function(){pu(e,u,n,r)}),u}function xu(t,e,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var c=s;s=function(){var u=Pc(o);c.call(u)}}pu(e,o,t,s)}else o=Gj(n,e,t,s,r);return Pc(o)}zv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ja(e.pendingLanes);n!==0&&(Xm(e,n|1),At(e,Ve()),!(le&6)&&(Ii=Ve()+500,Wr()))}break;case 13:vs(function(){var r=Kn(t,1);if(r!==null){var s=bt();dn(r,t,1,s)}}),Rf(t,1)}};Zm=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var n=bt();dn(e,t,134217728,n)}Rf(t,134217728)}};Bv=function(t){if(t.tag===13){var e=Cr(t),n=Kn(t,e);if(n!==null){var r=bt();dn(n,t,e,r)}Rf(t,e)}};$v=function(){return de};qv=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Th=function(t,e,n){switch(e){case"input":if(vh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=lu(r);if(!s)throw Error(z(90));_v(r),vh(r,s)}}}break;case"textarea":Nv(t,n);break;case"select":e=n.value,e!=null&&ui(t,!!n.multiple,e,!1)}};Cv=If;Av=vs;var Kj={usingClientEntryPoint:!1,Events:[Lo,ni,lu,kv,Sv,If]},va={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qj={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dv(t),t===null?null:t.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||Hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{su=Al.inject(Qj),bn=Al}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kj;Wt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(e))throw Error(z(200));return Wj(t,e,null,n)};Wt.createRoot=function(t,e){if(!Df(t))throw Error(z(299));var n=!1,r="",s=h1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Af(t,1,!1,null,null,n,!1,r,s),t[Gn]=e.current,so(t.nodeType===8?t.parentNode:t),new Pf(e)};Wt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Dv(e),t=t===null?null:t.stateNode,t};Wt.flushSync=function(t){return vs(t)};Wt.hydrate=function(t,e,n){if(!yu(e))throw Error(z(200));return xu(null,t,e,!0,n)};Wt.hydrateRoot=function(t,e,n){if(!Df(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=h1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d1(e,null,t,1,n??null,s,!1,a,o),t[Gn]=e.current,so(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gu(e)};Wt.render=function(t,e,n){if(!yu(e))throw Error(z(200));return xu(null,t,e,!1,n)};Wt.unmountComponentAtNode=function(t){if(!yu(t))throw Error(z(40));return t._reactRootContainer?(vs(function(){xu(null,null,t,!1,function(){t._reactRootContainer=null,t[Gn]=null})}),!0):!1};Wt.unstable_batchedUpdates=If;Wt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return xu(t,e,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function m1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m1)}catch(t){console.error(t)}}m1(),mv.exports=Wt;var Yj=mv.exports,f1,ty=Yj;f1=ty.createRoot,ty.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const ny="popstate";function Jj(t){t===void 0&&(t={});function e(r,s){let{pathname:a,search:o,hash:c}=r.location;return im("",{pathname:a,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dc(s)}return Zj(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function p1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xj(){return Math.random().toString(36).substr(2,8)}function ry(t,e){return{usr:t.state,key:t.key,idx:e}}function im(t,e,n,r){return n===void 0&&(n=null),fo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:n,key:e&&e.key||r||Xj()})}function Dc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Zj(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,c=br.Pop,u=null,d=m();d==null&&(d=0,o.replaceState(fo({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function p(){c=br.Pop;let C=m(),T=C==null?null:C-d;d=C,u&&u({action:c,location:b.location,delta:T})}function f(C,T){c=br.Push;let _=im(b.location,C,T);d=m()+1;let I=ry(_,d),k=b.createHref(_);try{o.pushState(I,"",k)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(k)}a&&u&&u({action:c,location:b.location,delta:1})}function x(C,T){c=br.Replace;let _=im(b.location,C,T);d=m();let I=ry(_,d),k=b.createHref(_);o.replaceState(I,"",k),a&&u&&u({action:c,location:b.location,delta:0})}function j(C){let T=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof C=="string"?C:Dc(C);return _=_.replace(/ $/,"%20"),ke(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let b={get action(){return c},get location(){return t(s,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ny,p),u=C,()=>{s.removeEventListener(ny,p),u=null}},createHref(C){return e(s,C)},createURL:j,encodeLocation(C){let T=j(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:x,go(C){return o.go(C)}};return b}var sy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(sy||(sy={}));function eT(t,e,n){return n===void 0&&(n="/"),tT(t,e,n,!1)}function tT(t,e,n,r){let s=typeof e=="string"?Bi(e):e,a=ki(s.pathname||"/",n);if(a==null)return null;let o=g1(t);nT(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let d=mT(a);c=dT(o[u],d,r)}return c}function g1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,c)=>{let u={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Rr([r,u.relativePath]),m=n.concat(u);a.children&&a.children.length>0&&(ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),g1(a.children,e,m,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:cT(d,a.index),routesMeta:m})};return t.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,o);else for(let u of y1(a.path))s(a,o,u)}),e}function y1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=y1(r.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),s&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function nT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rT=/^:[\w-]+$/,sT=3,iT=2,aT=1,oT=10,lT=-2,iy=t=>t==="*";function cT(t,e){let n=t.split("/"),r=n.length;return n.some(iy)&&(r+=lT),e&&(r+=iT),n.filter(s=>!iy(s)).reduce((s,a)=>s+(rT.test(a)?sT:a===""?aT:oT),r)}function uT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function dT(t,e,n){let{routesMeta:r}=t,s={},a="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",p=Lc({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),f=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Lc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Rr([a,p.pathname]),pathnameBase:yT(Rr([a,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(a=Rr([a,p.pathnameBase]))}return o}function Lc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,m,p)=>{let{paramName:f,isOptional:x}=m;if(f==="*"){let b=c[p]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const j=c[p];return x&&!j?d[f]=void 0:d[f]=(j||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:t}}function hT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),p1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return p1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ki(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bi(t):t;return{pathname:n?n.startsWith("/")?n:pT(n,e):e,search:xT(r),hash:vT(s)}}function pT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lf(t,e){let n=gT(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Of(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bi(t):(s=fo({},t),ke(!s.pathname||!s.pathname.includes("?"),Hd("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Hd("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Hd("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}c=p>=0?e[p]:"/"}let u=fT(s,c),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const Rr=t=>t.join("/").replace(/\/\/+/g,"/"),yT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x1=["post","put","patch","delete"];new Set(x1);const _T=["get",...x1];new Set(_T);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},po.apply(this,arguments)}const vu=A.createContext(null),v1=A.createContext(null),rr=A.createContext(null),wu=A.createContext(null),Sn=A.createContext({outlet:null,matches:[],isDataRoute:!1}),w1=A.createContext(null);function bT(t,e){let{relative:n}=e===void 0?{}:e;$i()||ke(!1);let{basename:r,navigator:s}=A.useContext(rr),{hash:a,pathname:o,search:c}=_u(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Rr([r,o])),s.createHref({pathname:u,search:c,hash:a})}function $i(){return A.useContext(wu)!=null}function qi(){return $i()||ke(!1),A.useContext(wu).location}function _1(t){A.useContext(rr).static||A.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=A.useContext(Sn);return t?MT():NT()}function NT(){$i()||ke(!1);let t=A.useContext(vu),{basename:e,future:n,navigator:r}=A.useContext(rr),{matches:s}=A.useContext(Sn),{pathname:a}=qi(),o=JSON.stringify(Lf(s,n.v7_relativeSplatPath)),c=A.useRef(!1);return _1(()=>{c.current=!0}),A.useCallback(function(d,m){if(m===void 0&&(m={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=Of(d,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Rr([e,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[e,r,o,a,t])}const ET=A.createContext(null);function jT(t){let e=A.useContext(Sn).outlet;return e&&A.createElement(ET.Provider,{value:t},e)}function Mf(){let{matches:t}=A.useContext(Sn),e=t[t.length-1];return e?e.params:{}}function _u(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(rr),{matches:s}=A.useContext(Sn),{pathname:a}=qi(),o=JSON.stringify(Lf(s,r.v7_relativeSplatPath));return A.useMemo(()=>Of(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function TT(t,e){return IT(t,e)}function IT(t,e,n,r){$i()||ke(!1);let{navigator:s,static:a}=A.useContext(rr),{matches:o}=A.useContext(Sn),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let m=qi(),p;if(e){var f;let T=typeof e=="string"?Bi(e):e;d==="/"||(f=T.pathname)!=null&&f.startsWith(d)||ke(!1),p=T}else p=m;let x=p.pathname||"/",j=x;if(d!=="/"){let T=d.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let b=!a&&n&&n.matches&&n.matches.length>0?n.matches:eT(t,{pathname:j}),C=RT(b&&b.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:Rr([d,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?d:Rr([d,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&C?A.createElement(wu.Provider,{value:{location:po({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:br.Pop}},C):C}function kT(){let t=OT(),e=wT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const ST=A.createElement(kT,null);class CT extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Sn.Provider,{value:this.props.routeContext},A.createElement(w1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AT(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(vu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Sn.Provider,{value:e},r)}function RT(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);m>=0||ke(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:f,errors:x}=n,j=p.route.loader&&f[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||j){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,p,f)=>{let x,j=!1,b=null,C=null;n&&(x=c&&p.route.id?c[p.route.id]:void 0,b=p.route.errorElement||ST,u&&(d<0&&f===0?(j=!0,C=null):d===f&&(j=!0,C=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),_=()=>{let I;return x?I=b:j?I=C:p.route.Component?I=A.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=m,A.createElement(AT,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?A.createElement(CT,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var b1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b1||{}),Oc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Oc||{});function PT(t){let e=A.useContext(vu);return e||ke(!1),e}function DT(t){let e=A.useContext(v1);return e||ke(!1),e}function LT(t){let e=A.useContext(Sn);return e||ke(!1),e}function N1(t){let e=LT(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function OT(){var t;let e=A.useContext(w1),n=DT(Oc.UseRouteError),r=N1(Oc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MT(){let{router:t}=PT(b1.UseNavigateStable),e=N1(Oc.UseNavigateStable),n=A.useRef(!1);return _1(()=>{n.current=!0}),A.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,po({fromRouteId:e},a)))},[t,e])}function VT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ts(t){let{to:e,replace:n,state:r,relative:s}=t;$i()||ke(!1);let{future:a,static:o}=A.useContext(rr),{matches:c}=A.useContext(Sn),{pathname:u}=qi(),d=Wi(),m=Of(e,Lf(c,a.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(m);return A.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function FT(t){return jT(t.context)}function Oe(t){ke(!1)}function UT(t){let{basename:e="/",children:n=null,location:r,navigationType:s=br.Pop,navigator:a,static:o=!1,future:c}=t;$i()&&ke(!1);let u=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:u,navigator:a,static:o,future:po({v7_relativeSplatPath:!1},c)}),[u,c,a,o]);typeof r=="string"&&(r=Bi(r));let{pathname:m="/",search:p="",hash:f="",state:x=null,key:j="default"}=r,b=A.useMemo(()=>{let C=ki(m,u);return C==null?null:{location:{pathname:C,search:p,hash:f,state:x,key:j},navigationType:s}},[u,m,p,f,x,j,s]);return b==null?null:A.createElement(rr.Provider,{value:d},A.createElement(wu.Provider,{children:n,value:b}))}function zT(t){let{children:e,location:n}=t;return TT(am(e),n)}new Promise(()=>{});function am(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let a=[...e,s];if(r.type===A.Fragment){n.push.apply(n,am(r.props.children,a));return}r.type!==Oe&&ke(!1),!r.props.index||!r.props.children||ke(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=am(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}function E1(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $T(t,e){return t.button===0&&(!e||e==="_self")&&!BT(t)}const qT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],HT="6";try{window.__reactRouterVersion=HT}catch{}const GT=A.createContext({isTransitioning:!1}),KT="startTransition",ay=FE[KT];function QT(t){let{basename:e,children:n,future:r,window:s}=t,a=A.useRef();a.current==null&&(a.current=Jj({window:s,v5Compat:!0}));let o=a.current,[c,u]=A.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},m=A.useCallback(p=>{d&&ay?ay(()=>u(p)):u(p)},[u,d]);return A.useLayoutEffect(()=>o.listen(m),[o,m]),A.useEffect(()=>VT(r),[r]),A.createElement(UT,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:c,target:u,to:d,preventScrollReset:m,viewTransition:p}=e,f=E1(e,qT),{basename:x}=A.useContext(rr),j,b=!1;if(typeof d=="string"&&JT.test(d)&&(j=d,YT))try{let I=new URL(window.location.href),k=d.startsWith("//")?new URL(I.protocol+d):new URL(d),D=ki(k.pathname,x);k.origin===I.origin&&D!=null?d=D+k.search+k.hash:b=!0}catch{}let C=bT(d,{relative:s}),T=eI(d,{replace:o,state:c,target:u,preventScrollReset:m,relative:s,viewTransition:p});function _(I){r&&r(I),I.defaultPrevented||T(I)}return A.createElement("a",Mc({},f,{href:j||C,onClick:b||a?r:_,ref:n,target:u}))}),XT=A.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:c,to:u,viewTransition:d,children:m}=e,p=E1(e,WT),f=_u(u,{relative:p.relative}),x=qi(),j=A.useContext(v1),{navigator:b,basename:C}=A.useContext(rr),T=j!=null&&tI(f)&&d===!0,_=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,I=x.pathname,k=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(I=I.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&C&&(k=ki(k,C)||k);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let L=I===_||!o&&I.startsWith(_)&&I.charAt(D)==="/",E=k!=null&&(k===_||!o&&k.startsWith(_)&&k.charAt(_.length)==="/"),w={isActive:L,isPending:E,isTransitioning:T},y=L?r:void 0,N;typeof a=="function"?N=a(w):N=[a,L?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof c=="function"?c(w):c;return A.createElement(je,Mc({},p,{"aria-current":y,className:N,ref:n,style:R,to:u,viewTransition:d}),typeof m=="function"?m(w):m)});var om;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(om||(om={}));var oy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oy||(oy={}));function ZT(t){let e=A.useContext(vu);return e||ke(!1),e}function eI(t,e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:c}=e===void 0?{}:e,u=Wi(),d=qi(),m=_u(t,{relative:o});return A.useCallback(p=>{if($T(p,n)){p.preventDefault();let f=r!==void 0?r:Dc(d)===Dc(m);u(t,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[d,u,m,r,s,n,t,a,o,c])}function tI(t,e){e===void 0&&(e={});let n=A.useContext(GT);n==null&&ke(!1);let{basename:r}=ZT(om.useViewTransitionState),s=_u(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ki(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ki(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lc(s.pathname,o)!=null||Lc(s.pathname,a)!=null}const nI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ly=t=>{let e;const n=new Set,r=(m,p)=>{const f=typeof m=="function"?m(e):m;if(!Object.is(f,e)){const x=e;e=p??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(j=>j(e,x))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>d,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(nI?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=e=t(r,s,u);return u},rI=t=>t?ly(t):ly;var j1={exports:{}},T1={},I1={exports:{}},k1={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=A;function sI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iI=typeof Object.is=="function"?Object.is:sI,aI=Si.useState,oI=Si.useEffect,lI=Si.useLayoutEffect,cI=Si.useDebugValue;function uI(t,e){var n=e(),r=aI({inst:{value:n,getSnapshot:e}}),s=r[0].inst,a=r[1];return lI(function(){s.value=n,s.getSnapshot=e,Gd(s)&&a({inst:s})},[t,n,e]),oI(function(){return Gd(s)&&a({inst:s}),t(function(){Gd(s)&&a({inst:s})})},[t]),cI(n),n}function Gd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iI(t,n)}catch{return!0}}function dI(t,e){return e()}var hI=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dI:uI;k1.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:hI;I1.exports=k1;var mI=I1.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=A,fI=mI;function pI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gI=typeof Object.is=="function"?Object.is:pI,yI=fI.useSyncExternalStore,xI=bu.useRef,vI=bu.useEffect,wI=bu.useMemo,_I=bu.useDebugValue;T1.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var a=xI(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=wI(function(){function u(x){if(!d){if(d=!0,m=x,x=r(x),s!==void 0&&o.hasValue){var j=o.value;if(s(j,x))return p=j}return p=x}if(j=p,gI(m,x))return j;var b=r(x);return s!==void 0&&s(j,b)?(m=x,j):(m=x,p=b)}var d=!1,m,p,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,s]);var c=yI(t,a[0],a[1]);return vI(function(){o.hasValue=!0,o.value=c},[c]),_I(c),c};j1.exports=T1;var bI=j1.exports;const NI=ev(bI),S1={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:EI}=dv,{useSyncExternalStoreWithSelector:jI}=NI;let cy=!1;const TI=t=>t;function II(t,e=TI,n){(S1?"production":void 0)!=="production"&&n&&!cy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cy=!0);const r=jI(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return EI(r),r}const uy=t=>{(S1?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?rI(t):t,n=(r,s)=>II(e,r,s);return Object.assign(n,e),n},kI=t=>t?uy(t):uy;var dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},SI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],o=t[n++],c=t[n++],u=((s&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},A1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,c=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,m=a>>2,p=(a&3)<<4|c>>4;let f=(c&15)<<2|d>>6,x=d&63;u||(x=64,o||(f=64)),r.push(n[m],n[p],n[f],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||d==null||p==null)throw new CI;const f=a<<2|c>>4;if(r.push(f),d!==64){const x=c<<4&240|d>>2;if(r.push(x),p!==64){const j=d<<6&192|p;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AI=function(t){const e=C1(t);return A1.encodeByteArray(e,!0)},Vc=function(t){return AI(t).replace(/\./g,"")},R1=function(t){try{return A1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>RI().__FIREBASE_DEFAULTS__,DI=()=>{if(typeof process>"u"||typeof dy>"u")return;const t=dy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&R1(t[1]);return e&&JSON.parse(e)},Nu=()=>{try{return PI()||DI()||LI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P1=t=>{var e,n;return(n=(e=Nu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},D1=t=>{const e=P1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L1=()=>{var t;return(t=Nu())===null||t===void 0?void 0:t.config},O1=t=>{var e;return(e=Nu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function VI(){var t;const e=(t=Nu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zI(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BI(){return!VI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function $I(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class tn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qI,Object.setPrototypeOf(this,tn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rs.prototype.create)}}class Rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?WI(a,r):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new tn(s,c,r)}}function WI(t,e){return t.replace(HI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const HI=/\{\$([^}]+)}/g;function GI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],o=e[s];if(hy(a)&&hy(o)){if(!go(a,o))return!1}else if(a!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function ka(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KI(t,e){const n=new QI(t,e);return n.subscribe.bind(n)}class QI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kd),s.error===void 0&&(s.error=Kd),s.complete===void 0&&(s.complete=Kd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=1e3,XI=2,ZI=4*60*60*1e3,ek=.5;function my(t,e=JI,n=XI){const r=e*Math.pow(n,t),s=Math.round(ek*r*(Math.random()-.5)*2);return Math.min(ZI,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nk(t){return t===ss?void 0:t}function rk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const ik={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},ak=ae.INFO,ok={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},lk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ok[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eu{constructor(e){this.name=e,this._logLevel=ak,this._logHandler=lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const ck=(t,e)=>e.some(n=>t instanceof n);let fy,py;function uk(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dk(){return py||(py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z1=new WeakMap,lm=new WeakMap,B1=new WeakMap,Qd=new WeakMap,Vf=new WeakMap;function hk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Pr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z1.set(n,t)}).catch(()=>{}),Vf.set(e,t),e}function mk(t){if(lm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});lm.set(t,e)}let cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fk(t){cm=t(cm)}function pk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yd(this),e,...n);return B1.set(r,e.sort?e.sort():[e]),Pr(r)}:dk().includes(t)?function(...e){return t.apply(Yd(this),e),Pr(z1.get(this))}:function(...e){return Pr(t.apply(Yd(this),e))}}function gk(t){return typeof t=="function"?pk(t):(t instanceof IDBTransaction&&mk(t),ck(t,uk())?new Proxy(t,cm):t)}function Pr(t){if(t instanceof IDBRequest)return hk(t);if(Qd.has(t))return Qd.get(t);const e=gk(t);return e!==t&&(Qd.set(t,e),Vf.set(e,t)),e}const Yd=t=>Vf.get(t);function $1(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),c=Pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pr(o.result),u.oldVersion,u.newVersion,Pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const yk=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],Jd=new Map;function gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yk.includes(n)))return;const a=async function(o,...c){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return Jd.set(e,a),a}fk(t=>({...t,get:(e,n,r)=>gy(e,n)||t.get(e,n,r),has:(e,n)=>!!gy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",yy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Eu("@firebase/app"),_k="@firebase/app-compat",bk="@firebase/analytics-compat",Nk="@firebase/analytics",Ek="@firebase/app-check-compat",jk="@firebase/app-check",Tk="@firebase/auth",Ik="@firebase/auth-compat",kk="@firebase/database",Sk="@firebase/data-connect",Ck="@firebase/database-compat",Ak="@firebase/functions",Rk="@firebase/functions-compat",Pk="@firebase/installations",Dk="@firebase/installations-compat",Lk="@firebase/messaging",Ok="@firebase/messaging-compat",Mk="@firebase/performance",Vk="@firebase/performance-compat",Fk="@firebase/remote-config",Uk="@firebase/remote-config-compat",zk="@firebase/storage",Bk="@firebase/storage-compat",$k="@firebase/firestore",qk="@firebase/vertexai-preview",Wk="@firebase/firestore-compat",Hk="firebase",Gk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",Kk={[um]:"fire-core",[_k]:"fire-core-compat",[Nk]:"fire-analytics",[bk]:"fire-analytics-compat",[jk]:"fire-app-check",[Ek]:"fire-app-check-compat",[Tk]:"fire-auth",[Ik]:"fire-auth-compat",[kk]:"fire-rtdb",[Sk]:"fire-data-connect",[Ck]:"fire-rtdb-compat",[Ak]:"fire-fn",[Rk]:"fire-fn-compat",[Pk]:"fire-iid",[Dk]:"fire-iid-compat",[Lk]:"fire-fcm",[Ok]:"fire-fcm-compat",[Mk]:"fire-perf",[Vk]:"fire-perf-compat",[Fk]:"fire-rc",[Uk]:"fire-rc-compat",[zk]:"fire-gcs",[Bk]:"fire-gcs-compat",[$k]:"fire-fst",[Wk]:"fire-fst-compat",[qk]:"fire-vertex","fire-js":"fire-js",[Hk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,Qk=new Map,hm=new Map;function xy(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){const e=t.name;if(hm.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,t);for(const n of Fc.values())xy(n,t);for(const n of Qk.values())xy(n,t);return!0}function Hr(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Rs("app","Firebase",Yk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=Gk;function q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Dr.create("bad-app-name",{appName:String(s)});if(n||(n=L1()),!n)throw Dr.create("no-options");const a=Fc.get(s);if(a){if(go(n,a.options)&&go(r,a.config))return a;throw Dr.create("duplicate-app",{appName:s})}const o=new sk(s);for(const u of hm.values())o.addComponent(u);const c=new Jk(n,r,o);return Fc.set(s,c),c}function ju(t=dm){const e=Fc.get(t);if(!e&&t===dm&&L1())return q1();if(!e)throw Dr.create("no-app",{appName:t});return e}function Rt(t,e,n){var r;let s=(r=Kk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(c.join(" "));return}fn(new Zt(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebase-heartbeat-database",Zk=1,yo="firebase-heartbeat-store";let Xd=null;function W1(){return Xd||(Xd=$1(Xk,Zk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),Xd}async function eS(t){try{const n=(await W1()).transaction(yo),r=await n.objectStore(yo).get(H1(t));return await n.done,r}catch(e){if(e instanceof tn)Yn.warn(e.message);else{const n=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function vy(t,e){try{const r=(await W1()).transaction(yo,"readwrite");await r.objectStore(yo).put(e,H1(t)),await r.done}catch(n){if(n instanceof tn)Yn.warn(n.message);else{const r=Dr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function H1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=1024,nS=30*24*60*60*1e3;class rS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=wy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=nS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wy(),{heartbeatsToSend:r,unsentEntries:s}=sS(this._heartbeatsCache.heartbeats),a=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Yn.warn(n),""}}}function wy(){return new Date().toISOString().substring(0,10)}function sS(t,e=tS){const n=[];let r=t.slice();for(const s of t){const a=n.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),_y(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),_y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return vy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function _y(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){fn(new Zt("platform-logger",e=>new vk(e),"PRIVATE")),fn(new Zt("heartbeat",e=>new rS(e),"PRIVATE")),Rt(um,yy,t),Rt(um,yy,"esm2017"),Rt("fire-js","")}aS("");var oS="firebase",lS="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt(oS,lS,"app");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,G1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,w){function y(){}y.prototype=w.prototype,E.D=w.prototype,E.prototype=new y,E.prototype.constructor=E,E.C=function(N,R,P){for(var S=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];return w.prototype[R].apply(N,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,w,y){y||(y=0);var N=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)N[R]=w.charCodeAt(y++)|w.charCodeAt(y++)<<8|w.charCodeAt(y++)<<16|w.charCodeAt(y++)<<24;else for(R=0;16>R;++R)N[R]=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24;w=E.g[0],y=E.g[1],R=E.g[2];var P=E.g[3],S=w+(P^y&(R^P))+N[0]+3614090360&4294967295;w=y+(S<<7&4294967295|S>>>25),S=P+(R^w&(y^R))+N[1]+3905402710&4294967295,P=w+(S<<12&4294967295|S>>>20),S=R+(y^P&(w^y))+N[2]+606105819&4294967295,R=P+(S<<17&4294967295|S>>>15),S=y+(w^R&(P^w))+N[3]+3250441966&4294967295,y=R+(S<<22&4294967295|S>>>10),S=w+(P^y&(R^P))+N[4]+4118548399&4294967295,w=y+(S<<7&4294967295|S>>>25),S=P+(R^w&(y^R))+N[5]+1200080426&4294967295,P=w+(S<<12&4294967295|S>>>20),S=R+(y^P&(w^y))+N[6]+2821735955&4294967295,R=P+(S<<17&4294967295|S>>>15),S=y+(w^R&(P^w))+N[7]+4249261313&4294967295,y=R+(S<<22&4294967295|S>>>10),S=w+(P^y&(R^P))+N[8]+1770035416&4294967295,w=y+(S<<7&4294967295|S>>>25),S=P+(R^w&(y^R))+N[9]+2336552879&4294967295,P=w+(S<<12&4294967295|S>>>20),S=R+(y^P&(w^y))+N[10]+4294925233&4294967295,R=P+(S<<17&4294967295|S>>>15),S=y+(w^R&(P^w))+N[11]+2304563134&4294967295,y=R+(S<<22&4294967295|S>>>10),S=w+(P^y&(R^P))+N[12]+1804603682&4294967295,w=y+(S<<7&4294967295|S>>>25),S=P+(R^w&(y^R))+N[13]+4254626195&4294967295,P=w+(S<<12&4294967295|S>>>20),S=R+(y^P&(w^y))+N[14]+2792965006&4294967295,R=P+(S<<17&4294967295|S>>>15),S=y+(w^R&(P^w))+N[15]+1236535329&4294967295,y=R+(S<<22&4294967295|S>>>10),S=w+(R^P&(y^R))+N[1]+4129170786&4294967295,w=y+(S<<5&4294967295|S>>>27),S=P+(y^R&(w^y))+N[6]+3225465664&4294967295,P=w+(S<<9&4294967295|S>>>23),S=R+(w^y&(P^w))+N[11]+643717713&4294967295,R=P+(S<<14&4294967295|S>>>18),S=y+(P^w&(R^P))+N[0]+3921069994&4294967295,y=R+(S<<20&4294967295|S>>>12),S=w+(R^P&(y^R))+N[5]+3593408605&4294967295,w=y+(S<<5&4294967295|S>>>27),S=P+(y^R&(w^y))+N[10]+38016083&4294967295,P=w+(S<<9&4294967295|S>>>23),S=R+(w^y&(P^w))+N[15]+3634488961&4294967295,R=P+(S<<14&4294967295|S>>>18),S=y+(P^w&(R^P))+N[4]+3889429448&4294967295,y=R+(S<<20&4294967295|S>>>12),S=w+(R^P&(y^R))+N[9]+568446438&4294967295,w=y+(S<<5&4294967295|S>>>27),S=P+(y^R&(w^y))+N[14]+3275163606&4294967295,P=w+(S<<9&4294967295|S>>>23),S=R+(w^y&(P^w))+N[3]+4107603335&4294967295,R=P+(S<<14&4294967295|S>>>18),S=y+(P^w&(R^P))+N[8]+1163531501&4294967295,y=R+(S<<20&4294967295|S>>>12),S=w+(R^P&(y^R))+N[13]+2850285829&4294967295,w=y+(S<<5&4294967295|S>>>27),S=P+(y^R&(w^y))+N[2]+4243563512&4294967295,P=w+(S<<9&4294967295|S>>>23),S=R+(w^y&(P^w))+N[7]+1735328473&4294967295,R=P+(S<<14&4294967295|S>>>18),S=y+(P^w&(R^P))+N[12]+2368359562&4294967295,y=R+(S<<20&4294967295|S>>>12),S=w+(y^R^P)+N[5]+4294588738&4294967295,w=y+(S<<4&4294967295|S>>>28),S=P+(w^y^R)+N[8]+2272392833&4294967295,P=w+(S<<11&4294967295|S>>>21),S=R+(P^w^y)+N[11]+1839030562&4294967295,R=P+(S<<16&4294967295|S>>>16),S=y+(R^P^w)+N[14]+4259657740&4294967295,y=R+(S<<23&4294967295|S>>>9),S=w+(y^R^P)+N[1]+2763975236&4294967295,w=y+(S<<4&4294967295|S>>>28),S=P+(w^y^R)+N[4]+1272893353&4294967295,P=w+(S<<11&4294967295|S>>>21),S=R+(P^w^y)+N[7]+4139469664&4294967295,R=P+(S<<16&4294967295|S>>>16),S=y+(R^P^w)+N[10]+3200236656&4294967295,y=R+(S<<23&4294967295|S>>>9),S=w+(y^R^P)+N[13]+681279174&4294967295,w=y+(S<<4&4294967295|S>>>28),S=P+(w^y^R)+N[0]+3936430074&4294967295,P=w+(S<<11&4294967295|S>>>21),S=R+(P^w^y)+N[3]+3572445317&4294967295,R=P+(S<<16&4294967295|S>>>16),S=y+(R^P^w)+N[6]+76029189&4294967295,y=R+(S<<23&4294967295|S>>>9),S=w+(y^R^P)+N[9]+3654602809&4294967295,w=y+(S<<4&4294967295|S>>>28),S=P+(w^y^R)+N[12]+3873151461&4294967295,P=w+(S<<11&4294967295|S>>>21),S=R+(P^w^y)+N[15]+530742520&4294967295,R=P+(S<<16&4294967295|S>>>16),S=y+(R^P^w)+N[2]+3299628645&4294967295,y=R+(S<<23&4294967295|S>>>9),S=w+(R^(y|~P))+N[0]+4096336452&4294967295,w=y+(S<<6&4294967295|S>>>26),S=P+(y^(w|~R))+N[7]+1126891415&4294967295,P=w+(S<<10&4294967295|S>>>22),S=R+(w^(P|~y))+N[14]+2878612391&4294967295,R=P+(S<<15&4294967295|S>>>17),S=y+(P^(R|~w))+N[5]+4237533241&4294967295,y=R+(S<<21&4294967295|S>>>11),S=w+(R^(y|~P))+N[12]+1700485571&4294967295,w=y+(S<<6&4294967295|S>>>26),S=P+(y^(w|~R))+N[3]+2399980690&4294967295,P=w+(S<<10&4294967295|S>>>22),S=R+(w^(P|~y))+N[10]+4293915773&4294967295,R=P+(S<<15&4294967295|S>>>17),S=y+(P^(R|~w))+N[1]+2240044497&4294967295,y=R+(S<<21&4294967295|S>>>11),S=w+(R^(y|~P))+N[8]+1873313359&4294967295,w=y+(S<<6&4294967295|S>>>26),S=P+(y^(w|~R))+N[15]+4264355552&4294967295,P=w+(S<<10&4294967295|S>>>22),S=R+(w^(P|~y))+N[6]+2734768916&4294967295,R=P+(S<<15&4294967295|S>>>17),S=y+(P^(R|~w))+N[13]+1309151649&4294967295,y=R+(S<<21&4294967295|S>>>11),S=w+(R^(y|~P))+N[4]+4149444226&4294967295,w=y+(S<<6&4294967295|S>>>26),S=P+(y^(w|~R))+N[11]+3174756917&4294967295,P=w+(S<<10&4294967295|S>>>22),S=R+(w^(P|~y))+N[2]+718787259&4294967295,R=P+(S<<15&4294967295|S>>>17),S=y+(P^(R|~w))+N[9]+3951481745&4294967295,E.g[0]=E.g[0]+w&4294967295,E.g[1]=E.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+P&4294967295}r.prototype.u=function(E,w){w===void 0&&(w=E.length);for(var y=w-this.blockSize,N=this.B,R=this.h,P=0;P<w;){if(R==0)for(;P<=y;)s(this,E,P),P+=this.blockSize;if(typeof E=="string"){for(;P<w;)if(N[R++]=E.charCodeAt(P++),R==this.blockSize){s(this,N),R=0;break}}else for(;P<w;)if(N[R++]=E[P++],R==this.blockSize){s(this,N),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var w=1;w<E.length-8;++w)E[w]=0;var y=8*this.o;for(w=E.length-8;w<E.length;++w)E[w]=y&255,y/=256;for(this.u(E),E=Array(16),w=y=0;4>w;++w)for(var N=0;32>N;N+=8)E[y++]=this.g[w]>>>N&255;return E};function a(E,w){var y=c;return Object.prototype.hasOwnProperty.call(y,E)?y[E]:y[E]=w(E)}function o(E,w){this.h=w;for(var y=[],N=!0,R=E.length-1;0<=R;R--){var P=E[R]|0;N&&P==w||(y[R]=P,N=!1)}this.g=y}var c={};function u(E){return-128<=E&&128>E?a(E,function(w){return new o([w|0],0>w?-1:0)}):new o([E|0],0>E?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return C(d(-E));for(var w=[],y=1,N=0;E>=y;N++)w[N]=E/y|0,y*=4294967296;return new o(w,0)}function m(E,w){if(E.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(E.charAt(0)=="-")return C(m(E.substring(1),w));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(w,8)),N=p,R=0;R<E.length;R+=8){var P=Math.min(8,E.length-R),S=parseInt(E.substring(R,R+P),w);8>P?(P=d(Math.pow(w,P)),N=N.j(P).add(d(S))):(N=N.j(y),N=N.add(d(S)))}return N}var p=u(0),f=u(1),x=u(16777216);t=o.prototype,t.m=function(){if(b(this))return-C(this).m();for(var E=0,w=1,y=0;y<this.g.length;y++){var N=this.i(y);E+=(0<=N?N:4294967296+N)*w,w*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(j(this))return"0";if(b(this))return"-"+C(this).toString(E);for(var w=d(Math.pow(E,6)),y=this,N="";;){var R=k(y,w).g;y=T(y,R.j(w));var P=((0<y.g.length?y.g[0]:y.h)>>>0).toString(E);if(y=R,j(y))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function j(E){if(E.h!=0)return!1;for(var w=0;w<E.g.length;w++)if(E.g[w]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=T(this,E),b(E)?-1:j(E)?0:1};function C(E){for(var w=E.g.length,y=[],N=0;N<w;N++)y[N]=~E.g[N];return new o(y,~E.h).add(f)}t.abs=function(){return b(this)?C(this):this},t.add=function(E){for(var w=Math.max(this.g.length,E.g.length),y=[],N=0,R=0;R<=w;R++){var P=N+(this.i(R)&65535)+(E.i(R)&65535),S=(P>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);N=S>>>16,P&=65535,S&=65535,y[R]=S<<16|P}return new o(y,y[y.length-1]&-2147483648?-1:0)};function T(E,w){return E.add(C(w))}t.j=function(E){if(j(this)||j(E))return p;if(b(this))return b(E)?C(this).j(C(E)):C(C(this).j(E));if(b(E))return C(this.j(C(E)));if(0>this.l(x)&&0>E.l(x))return d(this.m()*E.m());for(var w=this.g.length+E.g.length,y=[],N=0;N<2*w;N++)y[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<E.g.length;R++){var P=this.i(N)>>>16,S=this.i(N)&65535,fe=E.i(R)>>>16,jt=E.i(R)&65535;y[2*N+2*R]+=S*jt,_(y,2*N+2*R),y[2*N+2*R+1]+=P*jt,_(y,2*N+2*R+1),y[2*N+2*R+1]+=S*fe,_(y,2*N+2*R+1),y[2*N+2*R+2]+=P*fe,_(y,2*N+2*R+2)}for(N=0;N<w;N++)y[N]=y[2*N+1]<<16|y[2*N];for(N=w;N<2*w;N++)y[N]=0;return new o(y,0)};function _(E,w){for(;(E[w]&65535)!=E[w];)E[w+1]+=E[w]>>>16,E[w]&=65535,w++}function I(E,w){this.g=E,this.h=w}function k(E,w){if(j(w))throw Error("division by zero");if(j(E))return new I(p,p);if(b(E))return w=k(C(E),w),new I(C(w.g),C(w.h));if(b(w))return w=k(E,C(w)),new I(C(w.g),w.h);if(30<E.g.length){if(b(E)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var y=f,N=w;0>=N.l(E);)y=D(y),N=D(N);var R=L(y,1),P=L(N,1);for(N=L(N,2),y=L(y,2);!j(N);){var S=P.add(N);0>=S.l(E)&&(R=R.add(y),P=S),N=L(N,1),y=L(y,1)}return w=T(E,R.j(w)),new I(R,w)}for(R=p;0<=E.l(w);){for(y=Math.max(1,Math.floor(E.m()/w.m())),N=Math.ceil(Math.log(y)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=d(y),S=P.j(w);b(S)||0<S.l(E);)y-=N,P=d(y),S=P.j(w);j(P)&&(P=f),R=R.add(P),E=T(E,S)}return new I(R,E)}t.A=function(E){return k(this,E).h},t.and=function(E){for(var w=Math.max(this.g.length,E.g.length),y=[],N=0;N<w;N++)y[N]=this.i(N)&E.i(N);return new o(y,this.h&E.h)},t.or=function(E){for(var w=Math.max(this.g.length,E.g.length),y=[],N=0;N<w;N++)y[N]=this.i(N)|E.i(N);return new o(y,this.h|E.h)},t.xor=function(E){for(var w=Math.max(this.g.length,E.g.length),y=[],N=0;N<w;N++)y[N]=this.i(N)^E.i(N);return new o(y,this.h^E.h)};function D(E){for(var w=E.g.length+1,y=[],N=0;N<w;N++)y[N]=E.i(N)<<1|E.i(N-1)>>>31;return new o(y,E.h)}function L(E,w){var y=w>>5;w%=32;for(var N=E.g.length-y,R=[],P=0;P<N;P++)R[P]=0<w?E.i(P+y)>>>w|E.i(P+y+1)<<32-w:E.i(P+y);return new o(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=m,ms=o}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K1,Sa,Q1,Zl,mm,Y1,J1,X1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rl=="object"&&Rl];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var O=l[v];if(!(O in g))break e;g=g[O]}l=l[l.length-1],v=g[l],h=h(v),h!=v&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function a(l,h){l instanceof String&&(l+="");var g=0,v=!1,O={next:function(){if(!v&&g<l.length){var M=g++;return{value:h(M,l[M]),done:!1}}return v=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return a(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function m(l,h,g){return l.call.apply(l.bind,arguments)}function p(l,h,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,v),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function f(l,h,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:p,f.apply(null,arguments)}function x(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function j(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,O,M){for(var B=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)B[pe-2]=arguments[pe];return h.prototype[O].apply(v,B)}}function b(l){const h=l.length;if(0<h){const g=Array(h);for(let v=0;v<h;v++)g[v]=l[v];return g}return[]}function C(l,h){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(u(v)){const O=l.length||0,M=v.length||0;l.length=O+M;for(let B=0;B<M;B++)l[O+B]=v[B]}else l.push(v)}}class T{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function L(l,h,g){for(const v in l)h.call(g,l[v],v,l)}function E(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function w(l){const h={};for(const g in l)h[g]=l[g];return h}const y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,h){let g,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(g in v)l[g]=v[g];for(let M=0;M<y.length;M++)g=y[M],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function R(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function P(l){c.setTimeout(()=>{throw l},0)}function S(){var l=J;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class fe{constructor(){this.h=this.g=null}add(h,g){const v=jt.get();v.set(h,g),this.h?this.h.next=v:this.g=v,this.h=v}}var jt=new T(()=>new Rn,l=>l.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,q=!1,J=new fe,V=()=>{const l=c.Promise.resolve(void 0);Lt=()=>{l.then(G)}};var G=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){P(g)}var h=jt;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};c.addEventListener("test",g,h),c.removeEventListener("test",g,h)}catch{}return l}();function $e(l,h){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(D){e:{try{k(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ye[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&$e.aa.h.call(this)}}j($e,X);var Ye={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Pn="closure_listenable_"+(1e6*Math.random()|0),HN=0;function GN(l,h,g,v,O){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!v,this.ha=O,this.key=++HN,this.da=this.fa=!1}function Jo(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Xo(l){this.src=l,this.g={},this.h=0}Xo.prototype.add=function(l,h,g,v,O){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var B=Xu(l,h,v,O);return-1<B?(h=l[B],g||(h.fa=!1)):(h=new GN(h,this.src,M,!!v,O),h.fa=g,l.push(h)),h};function Ju(l,h){var g=h.type;if(g in l.g){var v=l.g[g],O=Array.prototype.indexOf.call(v,h,void 0),M;(M=0<=O)&&Array.prototype.splice.call(v,O,1),M&&(Jo(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Xu(l,h,g,v){for(var O=0;O<l.length;++O){var M=l[O];if(!M.da&&M.listener==h&&M.capture==!!g&&M.ha==v)return O}return-1}var Zu="closure_lm_"+(1e6*Math.random()|0),ed={};function Kp(l,h,g,v,O){if(Array.isArray(h)){for(var M=0;M<h.length;M++)Kp(l,h[M],g,v,O);return null}return g=Jp(g),l&&l[Pn]?l.K(h,g,d(v)?!!v.capture:!!v,O):KN(l,h,g,!1,v,O)}function KN(l,h,g,v,O,M){if(!h)throw Error("Invalid event type");var B=d(O)?!!O.capture:!!O,pe=nd(l);if(pe||(l[Zu]=pe=new Xo(l)),g=pe.add(h,g,v,B,M),g.proxy)return g;if(v=QN(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)ie||(O=B),O===void 0&&(O=!1),l.addEventListener(h.toString(),v,O);else if(l.attachEvent)l.attachEvent(Yp(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function QN(){function l(g){return h.call(l.src,l.listener,g)}const h=YN;return l}function Qp(l,h,g,v,O){if(Array.isArray(h))for(var M=0;M<h.length;M++)Qp(l,h[M],g,v,O);else v=d(v)?!!v.capture:!!v,g=Jp(g),l&&l[Pn]?(l=l.i,h=String(h).toString(),h in l.g&&(M=l.g[h],g=Xu(M,g,v,O),-1<g&&(Jo(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete l.g[h],l.h--)))):l&&(l=nd(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Xu(h,g,v,O)),(g=-1<l?h[l]:null)&&td(g))}function td(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Pn])Ju(h.i,l);else{var g=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(g,v,l.capture):h.detachEvent?h.detachEvent(Yp(g),v):h.addListener&&h.removeListener&&h.removeListener(v),(g=nd(h))?(Ju(g,l),g.h==0&&(g.src=null,h[Zu]=null)):Jo(l)}}}function Yp(l){return l in ed?ed[l]:ed[l]="on"+l}function YN(l,h){if(l.da)l=!0;else{h=new $e(h,this);var g=l.listener,v=l.ha||l.src;l.fa&&td(l),l=g.call(v,h)}return l}function nd(l){return l=l[Zu],l instanceof Xo?l:null}var rd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jp(l){return typeof l=="function"?l:(l[rd]||(l[rd]=function(h){return l.handleEvent(h)}),l[rd])}function at(){K.call(this),this.i=new Xo(this),this.M=this,this.F=null}j(at,K),at.prototype[Pn]=!0,at.prototype.removeEventListener=function(l,h,g,v){Qp(this,l,h,g,v)};function xt(l,h){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new X(h,l);else if(h instanceof X)h.target=h.target||l;else{var O=h;h=new X(v,l),N(h,O)}if(O=!0,g)for(var M=g.length-1;0<=M;M--){var B=h.g=g[M];O=Zo(B,v,!0,h)&&O}if(B=h.g=l,O=Zo(B,v,!0,h)&&O,O=Zo(B,v,!1,h)&&O,g)for(M=0;M<g.length;M++)B=h.g=g[M],O=Zo(B,v,!1,h)&&O}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],v=0;v<g.length;v++)Jo(g[v]);delete l.g[h],l.h--}}this.F=null},at.prototype.K=function(l,h,g,v){return this.i.add(String(l),h,!1,g,v)},at.prototype.L=function(l,h,g,v){return this.i.add(String(l),h,!0,g,v)};function Zo(l,h,g,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==g){var pe=B.listener,Je=B.ha||B.src;B.fa&&Ju(l.i,B),O=pe.call(Je,v)!==!1&&O}}return O&&!v.defaultPrevented}function Xp(l,h,g){if(typeof l=="function")g&&(l=f(l,g));else if(l&&typeof l.handleEvent=="function")l=f(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Zp(l){l.g=Xp(()=>{l.g=null,l.i&&(l.i=!1,Zp(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class JN extends K{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Zp(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zi(l){K.call(this),this.h=l,this.g={}}j(Zi,K);var eg=[];function tg(l){L(l.g,function(h,g){this.g.hasOwnProperty(g)&&td(h)},l),l.g={}}Zi.prototype.N=function(){Zi.aa.N.call(this),tg(this)},Zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sd=c.JSON.stringify,XN=c.JSON.parse,ZN=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function id(){}id.prototype.h=null;function ng(l){return l.h||(l.h=l.i())}function rg(){}var ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ad(){X.call(this,"d")}j(ad,X);function od(){X.call(this,"c")}j(od,X);var Jr={},sg=null;function el(){return sg=sg||new at}Jr.La="serverreachability";function ig(l){X.call(this,Jr.La,l)}j(ig,X);function ta(l){const h=el();xt(h,new ig(h))}Jr.STAT_EVENT="statevent";function ag(l,h){X.call(this,Jr.STAT_EVENT,l),this.stat=h}j(ag,X);function vt(l){const h=el();xt(h,new ag(h,l))}Jr.Ma="timingevent";function og(l,h){X.call(this,Jr.Ma,l),this.size=h}j(og,X);function na(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function eE(l,h,g,v,O,M){l.info(function(){if(l.g)if(M)for(var B="",pe=M.split("&"),Je=0;Je<pe.length;Je++){var ce=pe[Je].split("=");if(1<ce.length){var ot=ce[0];ce=ce[1];var lt=ot.split("_");B=2<=lt.length&&lt[1]=="type"?B+(ot+"="+ce+"&"):B+(ot+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+h+`
`+g+`
`+B})}function tE(l,h,g,v,O,M,B){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+h+`
`+g+`
`+M+" "+B})}function Us(l,h,g,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+rE(l,g)+(v?" "+v:"")})}function nE(l,h){l.info(function(){return"TIMEOUT: "+h})}ra.prototype.info=function(){};function rE(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var O=v[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return sd(g)}catch{return h}}var tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ld;function nl(){}j(nl,id),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},ld=new nl;function ar(l,h,g,v){this.j=l,this.i=h,this.l=g,this.R=v||1,this.U=new Zi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cg}function cg(){this.i=null,this.g="",this.h=!1}var ug={},cd={};function ud(l,h,g){l.L=1,l.v=al(Dn(h)),l.m=g,l.P=!0,dg(l,null)}function dg(l,h){l.F=Date.now(),rl(l),l.A=Dn(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),jg(g.i,"t",v),l.C=0,g=l.j.J,l.h=new cg,l.g=$g(l.j,g?h:null,!l.m),0<l.O&&(l.M=new JN(f(l.Y,l,l.g),l.O)),h=l.U,g=l.g,v=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(eg[0]=O.toString()),O=eg);for(var M=0;M<O.length;M++){var B=Kp(g,O[M],v||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ta(),eE(l.i,l.u,l.A,l.l,l.R,l.m)}ar.prototype.ca=function(l){l=l.target;const h=this.M;h&&Ln(l)==3?h.j():this.Y(l)},ar.prototype.Y=function(l){try{if(l==this.g)e:{const lt=Ln(this.g);var h=this.g.Ba();const $s=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||Rg(this.g)))){this.J||lt!=4||h==7||(h==8||0>=$s?ta(3):ta(2)),dd(this);var g=this.g.Z();this.X=g;t:if(hg(this)){var v=Rg(this.g);l="";var O=v.length,M=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),sa(this);var B="";break t}this.h.i=new c.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(M&&h==O-1)});v.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,tE(this.i,this.u,this.A,this.l,this.R,lt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Je=this.g;if((pe=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(pe)){var ce=pe;break t}}ce=null}if(g=ce)Us(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hd(this,g);else{this.o=!1,this.s=3,vt(12),Xr(this),sa(this);break e}}if(this.P){g=!0;let nn;for(;!this.J&&this.C<B.length;)if(nn=sE(this,B),nn==cd){lt==4&&(this.s=4,vt(14),g=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ug){this.s=4,vt(15),Us(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else Us(this.i,this.l,nn,null),hd(this,nn);if(hg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||B.length!=0||this.h.h||(this.s=1,vt(16),g=!1),this.o=this.o&&g,!g)Us(this.i,this.l,B,"[Invalid Chunked Response]"),Xr(this),sa(this);else if(0<B.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),xd(ot),ot.M=!0,vt(11))}}else Us(this.i,this.l,B,null),hd(this,B);lt==4&&Xr(this),this.o&&!this.J&&(lt==4?Fg(this.j,this):(this.o=!1,rl(this)))}else _E(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Xr(this),sa(this)}}}catch{}finally{}};function hg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function sE(l,h){var g=l.C,v=h.indexOf(`
`,g);return v==-1?cd:(g=Number(h.substring(g,v)),isNaN(g)?ug:(v+=1,v+g>h.length?cd:(h=h.slice(v,v+g),l.C=v+g,h)))}ar.prototype.cancel=function(){this.J=!0,Xr(this)};function rl(l){l.S=Date.now()+l.I,mg(l,l.I)}function mg(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=na(f(l.ba,l),h)}function dd(l){l.B&&(c.clearTimeout(l.B),l.B=null)}ar.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(nE(this.i,this.A),this.L!=2&&(ta(),vt(17)),Xr(this),this.s=2,sa(this)):mg(this,this.S-l)};function sa(l){l.j.G==0||l.J||Fg(l.j,l)}function Xr(l){dd(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,tg(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function hd(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||md(g.h,l))){if(!l.K&&md(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)hl(g),ul(g);else break e;yd(g),vt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=na(f(g.Za,g),6e3));if(1>=gg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else es(g,11)}else if((l.K||g.g==l)&&hl(g),!_(h))for(O=g.Da.g.parse(h),h=0;h<O.length;h++){let ce=O[h];if(g.T=ce[0],ce=ce[1],g.G==2)if(ce[0]=="c"){g.K=ce[1],g.ia=ce[2];const ot=ce[3];ot!=null&&(g.la=ot,g.j.info("VER="+g.la));const lt=ce[4];lt!=null&&(g.Aa=lt,g.j.info("SVER="+g.Aa));const $s=ce[5];$s!=null&&typeof $s=="number"&&0<$s&&(v=1.5*$s,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const nn=l.g;if(nn){const fl=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var M=v.h;M.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(fd(M,M.h),M.h=null))}if(v.D){const vd=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;vd&&(v.ya=vd,ye(v.I,v.D,vd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var B=l;if(v.qa=Bg(v,v.J?v.ia:null,v.W),B.K){yg(v.h,B);var pe=B,Je=v.L;Je&&(pe.I=Je),pe.B&&(dd(pe),rl(pe)),v.g=B}else Mg(v);0<g.i.length&&dl(g)}else ce[0]!="stop"&&ce[0]!="close"||es(g,7);else g.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?es(g,7):gd(g):ce[0]!="noop"&&g.l&&g.l.ta(ce),g.v=0)}}ta(4)}catch{}}var iE=class{constructor(l,h){this.g=l,this.map=h}};function fg(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function gg(l){return l.h?1:l.g?l.g.size:0}function md(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function fd(l,h){l.g?l.g.add(h):l.h=h}function yg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}fg.prototype.cancel=function(){if(this.i=xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function xg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return b(l.i)}function aE(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],g=l.length,v=0;v<g;v++)h.push(l[v]);return h}h=[],g=0;for(v in l)h[g++]=l[v];return h}function oE(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const v in l)h[g++]=v;return h}}}function vg(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=oE(l),v=aE(l),O=v.length,M=0;M<O;M++)h.call(void 0,v[M],g&&g[M],l)}var wg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lE(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),O=null;if(0<=v){var M=l[g].substring(0,v);O=l[g].substring(v+1)}else M=l[g];h(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zr){this.h=l.h,sl(this,l.j),this.o=l.o,this.g=l.g,il(this,l.s),this.l=l.l;var h=l.i,g=new oa;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),_g(this,g),this.m=l.m}else l&&(h=String(l).match(wg))?(this.h=!1,sl(this,h[1]||"",!0),this.o=ia(h[2]||""),this.g=ia(h[3]||"",!0),il(this,h[4]),this.l=ia(h[5]||"",!0),_g(this,h[6]||"",!0),this.m=ia(h[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}Zr.prototype.toString=function(){var l=[],h=this.j;h&&l.push(aa(h,bg,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(aa(h,bg,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(aa(g,g.charAt(0)=="/"?dE:uE,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",aa(g,mE)),l.join("")};function Dn(l){return new Zr(l)}function sl(l,h,g){l.j=g?ia(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function il(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function _g(l,h,g){h instanceof oa?(l.i=h,fE(l.i,l.h)):(g||(h=aa(h,hE)),l.i=new oa(h,l.h))}function ye(l,h,g){l.i.set(h,g)}function al(l){return ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ia(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function aa(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,cE),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function cE(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var bg=/[#\/\?@]/g,uE=/[#\?:]/g,dE=/[#\?]/g,hE=/[#\?@]/g,mE=/#/g;function oa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function or(l){l.g||(l.g=new Map,l.h=0,l.i&&lE(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=oa.prototype,t.add=function(l,h){or(this),this.i=null,l=zs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Ng(l,h){or(l),h=zs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Eg(l,h){return or(l),h=zs(l,h),l.g.has(h)}t.forEach=function(l,h){or(this),this.g.forEach(function(g,v){g.forEach(function(O){l.call(h,O,v,this)},this)},this)},t.na=function(){or(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let v=0;v<h.length;v++){const O=l[v];for(let M=0;M<O.length;M++)g.push(h[v])}return g},t.V=function(l){or(this);let h=[];if(typeof l=="string")Eg(this,l)&&(h=h.concat(this.g.get(zs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return or(this),this.i=null,l=zs(this,l),Eg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function jg(l,h,g){Ng(l,h),0<g.length&&(l.i=null,l.g.set(zs(l,h),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var v=h[g];const M=encodeURIComponent(String(v)),B=this.V(v);for(v=0;v<B.length;v++){var O=M;B[v]!==""&&(O+="="+encodeURIComponent(String(B[v]))),l.push(O)}}return this.i=l.join("&")};function zs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function fE(l,h){h&&!l.j&&(or(l),l.i=null,l.g.forEach(function(g,v){var O=v.toLowerCase();v!=O&&(Ng(this,v),jg(this,O,g))},l)),l.j=h}function pE(l,h){const g=new ra;if(c.Image){const v=new Image;v.onload=x(lr,g,"TestLoadImage: loaded",!0,h,v),v.onerror=x(lr,g,"TestLoadImage: error",!1,h,v),v.onabort=x(lr,g,"TestLoadImage: abort",!1,h,v),v.ontimeout=x(lr,g,"TestLoadImage: timeout",!1,h,v),c.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function gE(l,h){const g=new ra,v=new AbortController,O=setTimeout(()=>{v.abort(),lr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(M=>{clearTimeout(O),M.ok?lr(g,"TestPingServer: ok",!0,h):lr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),lr(g,"TestPingServer: error",!1,h)})}function lr(l,h,g,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(g)}catch{}}function yE(){this.g=new ZN}function xE(l,h,g){const v=g||"";try{vg(l,function(O,M){let B=O;d(O)&&(B=sd(O)),h.push(v+M+"="+encodeURIComponent(B))})}catch(O){throw h.push(v+"type="+encodeURIComponent("_badmap")),O}}function ol(l){this.l=l.Ub||null,this.j=l.eb||!1}j(ol,id),ol.prototype.g=function(){return new ll(this.l,this.j)},ol.prototype.i=function(l){return function(){return l}}({});function ll(l,h){at.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(ll,at),t=ll.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ca(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?la(this):ca(this),this.readyState==3&&Tg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,la(this))},t.Qa=function(l){this.g&&(this.response=l,la(this))},t.ga=function(){this.g&&la(this)};function la(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ca(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function ca(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ig(l){let h="";return L(l,function(g,v){h+=v,h+=":",h+=g,h+=`\r
`}),h}function pd(l,h,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Ig(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ye(l,h,g))}function Ae(l){at.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ae,at);var vE=/^https?$/i,wE=["POST","PUT"];t=Ae.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ld.g(),this.v=this.o?ng(this.o):ng(ld),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(M){kg(this,M);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)g.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const M of v.keys())g.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),O=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wE,h,void 0))||v||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of g)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ag(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){kg(this,M)}};function kg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Sg(l),cl(l)}function Sg(l){l.A||(l.A=!0,xt(l,"complete"),xt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,xt(this,"complete"),xt(this,"abort"),cl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cl(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cg(this):this.bb())},t.bb=function(){Cg(this)};function Cg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ln(l)!=4||l.Z()!=2)){if(l.u&&Ln(l)==4)Xp(l.Ea,0,l);else if(xt(l,"readystatechange"),Ln(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var v;if(v=B===0){var O=String(l.D).match(wg)[1]||null;!O&&c.self&&c.self.location&&(O=c.self.location.protocol.slice(0,-1)),v=!vE.test(O?O.toLowerCase():"")}g=v}if(g)xt(l,"complete"),xt(l,"success");else{l.m=6;try{var M=2<Ln(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Sg(l)}}finally{cl(l)}}}}function cl(l,h){if(l.g){Ag(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||xt(l,"ready");try{g.onreadystatechange=v}catch{}}}function Ag(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ln(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),XN(h)}};function Rg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function _E(l){const h={};l=(l.g&&2<=Ln(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(_(l[v]))continue;var g=R(l[v]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=h[O]||[];h[O]=M,M.push(g)}E(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Pg(l){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,l),this.cb=ua("retryDelaySeedMs",1e4,l),this.Wa=ua("forwardChannelMaxRetries",2,l),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fg(l&&l.concurrentRequestLimit),this.Da=new yE,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pg.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,v){vt(0),this.W=l,this.H=h||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Bg(this,null,this.W),dl(this)};function gd(l){if(Dg(l),l.G==3){var h=l.U++,g=Dn(l.I);if(ye(g,"SID",l.K),ye(g,"RID",h),ye(g,"TYPE","terminate"),da(l,g),h=new ar(l,l.j,h),h.L=2,h.v=al(Dn(g)),g=!1,c.navigator&&c.navigator.sendBeacon)try{g=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&c.Image&&(new Image().src=h.v,g=!0),g||(h.g=$g(h.j,null),h.g.ea(h.v)),h.F=Date.now(),rl(h)}zg(l)}function ul(l){l.g&&(xd(l),l.g.cancel(),l.g=null)}function Dg(l){ul(l),l.u&&(c.clearTimeout(l.u),l.u=null),hl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function dl(l){if(!pg(l.h)&&!l.s){l.s=!0;var h=l.Ga;Lt||V(),q||(Lt(),q=!0),J.add(h,l),l.B=0}}function bE(l,h){return gg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=na(f(l.Ga,l,h),Ug(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new ar(this,this.j,l);let M=this.o;if(this.S&&(M?(M=w(M),N(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Og(this,O,h),g=Dn(this.I),ye(g,"RID",l),ye(g,"CVER",22),this.D&&ye(g,"X-HTTP-Session-Id",this.D),da(this,g),M&&(this.O?h="headers="+encodeURIComponent(String(Ig(M)))+"&"+h:this.m&&pd(g,this.m,M)),fd(this.h,O),this.Ua&&ye(g,"TYPE","init"),this.P?(ye(g,"$req",h),ye(g,"SID","null"),O.T=!0,ud(O,g,null)):ud(O,g,h),this.G=2}}else this.G==3&&(l?Lg(this,l):this.i.length==0||pg(this.h)||Lg(this))};function Lg(l,h){var g;h?g=h.l:g=l.U++;const v=Dn(l.I);ye(v,"SID",l.K),ye(v,"RID",g),ye(v,"AID",l.T),da(l,v),l.m&&l.o&&pd(v,l.m,l.o),g=new ar(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Og(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),fd(l.h,g),ud(g,v,h)}function da(l,h){l.H&&L(l.H,function(g,v){ye(h,v,g)}),l.l&&vg({},function(g,v){ye(h,v,g)})}function Og(l,h,g){g=Math.min(l.i.length,g);var v=l.l?f(l.l.Na,l.l,l):null;e:{var O=l.i;let M=-1;for(;;){const B=["count="+g];M==-1?0<g?(M=O[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let pe=!0;for(let Je=0;Je<g;Je++){let ce=O[Je].g;const ot=O[Je].map;if(ce-=M,0>ce)M=Math.max(0,O[Je].g-100),pe=!1;else try{xE(ot,B,"req"+ce+"_")}catch{v&&v(ot)}}if(pe){v=B.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,v}function Mg(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Lt||V(),q||(Lt(),q=!0),J.add(h,l),l.v=0}}function yd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=na(f(l.Fa,l),Ug(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Vg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=na(f(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ul(this),Vg(this))};function xd(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Vg(l){l.g=new ar(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Dn(l.qa);ye(h,"RID","rpc"),ye(h,"SID",l.K),ye(h,"AID",l.T),ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ye(h,"TO",l.ja),ye(h,"TYPE","xmlhttp"),da(l,h),l.m&&l.o&&pd(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=al(Dn(h)),g.m=null,g.P=!0,dg(g,l)}t.Za=function(){this.C!=null&&(this.C=null,ul(this),yd(this),vt(19))};function hl(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Fg(l,h){var g=null;if(l.g==h){hl(l),xd(l),l.g=null;var v=2}else if(md(l.h,h))g=h.D,yg(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;v=el(),xt(v,new og(v,g)),dl(l)}else Mg(l);else if(O=h.s,O==3||O==0&&0<h.X||!(v==1&&bE(l,h)||v==2&&yd(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),O){case 1:es(l,5);break;case 4:es(l,10);break;case 3:es(l,6);break;default:es(l,2)}}}function Ug(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function es(l,h){if(l.j.info("Error code "+h),h==2){var g=f(l.fb,l),v=l.Xa;const O=!v;v=new Zr(v||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||sl(v,"https"),al(v),O?pE(v.toString(),g):gE(v.toString(),g)}else vt(2);l.G=0,l.l&&l.l.sa(h),zg(l),Dg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function zg(l){if(l.G=0,l.ka=[],l.l){const h=xg(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ka,h),C(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function Bg(l,h,g){var v=g instanceof Zr?Dn(g):new Zr(g);if(v.g!="")h&&(v.g=h+"."+v.g),il(v,v.s);else{var O=c.location;v=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var M=new Zr(null);v&&sl(M,v),h&&(M.g=h),O&&il(M,O),g&&(M.l=g),v=M}return g=l.D,h=l.ya,g&&h&&ye(v,g,h),ye(v,"VER",l.la),da(l,v),v}function $g(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ae(new ol({eb:g})):new Ae(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qg(){}t=qg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ml(){}ml.prototype.g=function(l,h){return new Ot(l,h)};function Ot(l,h){at.call(this),this.g=new Pg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Bs(this)}j(Ot,at),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){gd(this.g)},Ot.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=sd(l),l=g);h.i.push(new iE(h.Ya++,l)),h.G==3&&dl(h)},Ot.prototype.N=function(){this.g.l=null,delete this.j,gd(this.g),delete this.g,Ot.aa.N.call(this)};function Wg(l){ad.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}j(Wg,ad);function Hg(){od.call(this),this.status=1}j(Hg,od);function Bs(l){this.g=l}j(Bs,qg),Bs.prototype.ua=function(){xt(this.g,"a")},Bs.prototype.ta=function(l){xt(this.g,new Wg(l))},Bs.prototype.sa=function(l){xt(this.g,new Hg)},Bs.prototype.ra=function(){xt(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,X1=function(){return new ml},J1=function(){return el()},Y1=Jr,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,Zl=tl,lg.COMPLETE="complete",Q1=lg,rg.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",at.prototype.listen=at.prototype.K,Sa=rg,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,K1=Ae}).apply(typeof Rl<"u"?Rl:typeof self<"u"?self:typeof window<"u"?window:{});const Ny="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Eu("@firebase/firestore");function wa(){return ws.logLevel}function Q(t,...e){if(ws.logLevel<=ae.DEBUG){const n=e.map(Ff);ws.debug(`Firestore (${Hi}): ${t}`,...n)}}function Jn(t,...e){if(ws.logLevel<=ae.ERROR){const n=e.map(Ff);ws.error(`Firestore (${Hi}): ${t}`,...n)}}function Ci(t,...e){if(ws.logLevel<=ae.WARN){const n=e.map(Ff);ws.warn(`Firestore (${Hi}): ${t}`,...n)}}function Ff(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Hi}) INTERNAL ASSERTION FAILED: `+t;throw Jn(e),new Error(e)}function he(t,e){t||ee()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class uS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dS{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new Z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new ht(e)}}class hS{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mS{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hS(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pS{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){he(this.o===void 0);const r=a=>{a.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new fS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=gS(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Ai(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new me(0,0))}static max(){return new te(new me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=e.get(s),o=n.get(s);if(a<o)return-1;if(a>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends xo{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const yS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends xo{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return yS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(r+=c,s++):(a(),s++)}if(a(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ve.fromString(e))}static fromName(e){return new Y(ve.fromString(e).popFirst(5))}static empty(){return new Y(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ve(e.slice()))}}function xS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=te.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Vr(s,Y.empty(),e)}function vS(t){return new Vr(t.readTime,t.key,-1)}class Vr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vr(te.min(),Y.empty(),-1)}static max(){return new Vr(te.max(),Y.empty(),-1)}}function wS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==_S)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,a=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++a,o&&a===s&&n()},u=>r(u))}),o=!0,a===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const a=e.length,o=new Array(a);let c=0;for(let u=0;u<a;u++){const d=u;n(e[d]).next(m=>{o[d]=m,++c,c===a&&r(o)},m=>s(m))}})}static doWhile(e,n){return new U((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function NS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uf.oe=-1;function Tu(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function ES(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function t_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=s??Ze.EMPTY,this.right=a??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Ze(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ze.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new Ut([])}unionWith(e){let n=new nt(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ut(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ai(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new n_("Invalid base64 string: "+a):a}}(e);return new it(n)}static fromUint8Array(e){const n=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new it(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}it.EMPTY_BYTE_STRING=new it("");const jS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(he(!!t),typeof t=="string"){let e=0;const n=jS.exec(t);if(he(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _s(t){return typeof t=="string"?it.fromBase64String(t):it.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bf(t){const e=t.mapValue.fields.__previous_value__;return zf(e)?Bf(e):e}function vo(t){const e=Fr(t.mapValue.fields.__local_write_time__.timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r,s,a,o,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class wo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zf(t)?4:kS(t)?9007199254740991:IS(t)?10:11:ee()}function kn(t,e){if(t===e)return!0;const n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vo(t).isEqual(vo(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Fr(s.timestampValue),c=Fr(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return _s(s.bytesValue).isEqual(_s(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Me(s.geoPointValue.latitude)===Me(a.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Me(s.integerValue)===Me(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=Me(s.doubleValue),c=Me(a.doubleValue);return o===c?Uc(o)===Uc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Ai(t.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Ey(o)!==Ey(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!kn(o[u],c[u])))return!1;return!0}(t,e);default:return ee()}}function _o(t,e){return(t.values||[]).find(n=>kn(n,e))!==void 0}function Ri(t,e){if(t===e)return 0;const n=bs(t),r=bs(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(a,o){const c=Me(a.integerValue||a.doubleValue),u=Me(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Ty(t.timestampValue,e.timestampValue);case 4:return Ty(vo(t),vo(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(a,o){const c=_s(a),u=_s(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const c=a.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const m=ue(c[d],u[d]);if(m!==0)return m}return ue(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const c=ue(Me(a.latitude),Me(o.latitude));return c!==0?c:ue(Me(a.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Iy(t.arrayValue,e.arrayValue);case 10:return function(a,o){var c,u,d,m;const p=a.fields||{},f=o.fields||{},x=(c=p.value)===null||c===void 0?void 0:c.arrayValue,j=(u=f.value)===null||u===void 0?void 0:u.arrayValue,b=ue(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((m=j==null?void 0:j.values)===null||m===void 0?void 0:m.length)||0);return b!==0?b:Iy(x,j)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Dl.mapValue&&o===Dl.mapValue)return 0;if(a===Dl.mapValue)return 1;if(o===Dl.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),d=o.fields||{},m=Object.keys(d);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const f=ue(u[p],m[p]);if(f!==0)return f;const x=Ri(c[u[p]],d[m[p]]);if(x!==0)return x}return ue(u.length,m.length)}(t.mapValue,e.mapValue);default:throw ee()}}function Ty(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Fr(t),r=Fr(e),s=ue(n.seconds,r.seconds);return s!==0?s:ue(n.nanos,r.nanos)}function Iy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ri(n[s],r[s]);if(a)return a}return ue(n.length,r.length)}function Pi(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=fm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const o of r)a?a=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):ee()}function ky(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function $f(t){return!!t&&"arrayValue"in t}function Sy(t){return!!t&&"nullValue"in t}function Cy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ec(t){return!!t&&"mapValue"in t}function IS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ba(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ba(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ba(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ba(n)}setAll(e){let n=et.emptyPath(),r={},s=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}o?r[c.lastSegment()]=Ba(o):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ec(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new It(Ba(this.value))}}function r_(t){const e=[];return Ds(t.fields,(n,r)=>{const s=new et([n]);if(ec(r)){const a=r_(r.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Ut(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ft(e,0,te.min(),te.min(),te.min(),It.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,te.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,te.min(),te.min(),It.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,te.min(),te.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.position=e,this.inclusive=n}}function Ay(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Ri(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ry(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function SS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_=class{};class Be extends s_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AS(e,n,r):n==="array-contains"?new DS(e,r):n==="in"?new LS(e,r):n==="not-in"?new OS(e,r):n==="array-contains-any"?new MS(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RS(e,r):new PS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ri(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Ri(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends s_{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pn(e,n)}matches(e){return i_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function i_(t){return t.op==="and"}function a_(t){return CS(t)&&i_(t)}function CS(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function gm(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+Pi(t.value);if(a_(t))return t.filters.map(e=>gm(e)).join(",");{const e=t.filters.map(n=>gm(n)).join(",");return`${t.op}(${e})`}}function o_(t,e){return t instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&kn(r.value,s.value)}(t,e):t instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,o,c)=>a&&o_(o,s.filters[c]),!0):!1}(t,e):void ee()}function l_(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${Pi(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(l_).join(" ,")+"}"}(t):"Filter"}class AS extends Be{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class RS extends Be{constructor(e,n){super(e,"in",n),this.keys=c_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PS extends Be{constructor(e,n){super(e,"not-in",n),this.keys=c_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function c_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class DS extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $f(n)&&_o(n.arrayValue,this.value)}}class LS extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_o(this.value.arrayValue,n)}}class OS extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_o(this.value.arrayValue,n)}}class MS extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$f(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_o(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n=null,r=[],s=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=o,this.endAt=c,this.ue=null}}function Py(t,e=null,n=[],r=[],s=null,a=null,o=null){return new VS(t,e,n,r,s,a,o)}function qf(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pi(r)).join(",")),e.ue=n}return e.ue}function Wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ry(t.startAt,e.startAt)&&Ry(t.endAt,e.endAt)}function ym(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n=null,r=[],s=[],a=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FS(t,e,n,r,s,a,o,c){return new Gi(t,e,n,r,s,a,o,c)}function Hf(t){return new Gi(t)}function Dy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function u_(t){return t.collectionGroup!==null}function $a(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new nt(et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new bo(a,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new bo(et.keyField(),r))}return e.ce}function En(t){const e=ne(t);return e.le||(e.le=US(e,$a(t))),e.le}function US(t,e){if(t.limitType==="F")return Py(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new bo(s.field,a)});const n=t.endAt?new zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zc(t.startAt.position,t.startAt.inclusive):null;return Py(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xm(t,e){const n=t.filters.concat([e]);return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bc(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Iu(t,e){return Wf(En(t),En(e))&&t.limitType===e.limitType}function d_(t){return`${qf(En(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>l_(s)).join(", ")}]`),Tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Pi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Pi(s)).join(",")),`Target(${r})`}(En(t))}; limitType=${t.limitType})`}function ku(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Y.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of $a(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,c,u){const d=Ay(o,c,u);return o.inclusive?d<=0:d<0}(r.startAt,$a(r),s)||r.endAt&&!function(o,c,u){const d=Ay(o,c,u);return o.inclusive?d>=0:d>0}(r.endAt,$a(r),s))}(t,e)}function zS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function h_(t){return(e,n)=>{let r=!1;for(const s of $a(t)){const a=BS(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function BS(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(a,o,c){const u=o.data.field(a),d=c.data.field(a);return u!==null&&d!==null?Ri(u,d):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return t_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Ce(Y.comparator);function Xn(){return $S}const m_=new Ce(Y.comparator);function Ca(...t){let e=m_;for(const n of t)e=e.insert(n.key,n);return e}function f_(t){let e=m_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return qa()}function p_(){return qa()}function qa(){return new Ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const qS=new Ce(Y.comparator),WS=new nt(Y.comparator);function se(...t){let e=WS;for(const n of t)e=e.add(n);return e}const HS=new nt(ue);function GS(){return HS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function g_(t){return{integerValue:""+t}}function KS(t,e){return ES(e)?g_(e):Gf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function QS(t,e,n){return t instanceof No?function(s,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&zf(a)&&(a=Bf(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(n,e):t instanceof Eo?x_(t,e):t instanceof jo?v_(t,e):function(s,a){const o=y_(s,a),c=Ly(o)+Ly(s.Pe);return pm(o)&&pm(s.Pe)?g_(c):Gf(s.serializer,c)}(t,e)}function YS(t,e,n){return t instanceof Eo?x_(t,e):t instanceof jo?v_(t,e):n}function y_(t,e){return t instanceof $c?function(r){return pm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class No extends Su{}class Eo extends Su{constructor(e){super(),this.elements=e}}function x_(t,e){const n=w_(e);for(const r of t.elements)n.some(s=>kn(s,r))||n.push(r);return{arrayValue:{values:n}}}class jo extends Su{constructor(e){super(),this.elements=e}}function v_(t,e){let n=w_(e);for(const r of t.elements)n=n.filter(s=>!kn(s,r));return{arrayValue:{values:n}}}class $c extends Su{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ly(t){return Me(t.integerValue||t.doubleValue)}function w_(t){return $f(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.field=e,this.transform=n}}function XS(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Eo&&s instanceof Eo||r instanceof jo&&s instanceof jo?Ai(r.elements,s.elements,kn):r instanceof $c&&s instanceof $c?kn(r.Pe,s.Pe):r instanceof No&&s instanceof No}(t.transform,e.transform)}class ZS{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cu{}function __(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kf(t.key,hn.none()):new Uo(t.key,t.data,hn.none());{const n=t.data,r=It.empty();let s=new nt(et.comparator);for(let a of e.fields)if(!s.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),s=s.add(a)}return new Gr(t.key,r,new Ut(s.toArray()),hn.none())}}function eC(t,e,n){t instanceof Uo?function(s,a,o){const c=s.value.clone(),u=My(s.fieldTransforms,a,o.transformResults);c.setAll(u),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(s,a,o){if(!tc(s.precondition,a))return void a.convertToUnknownDocument(o.version);const c=My(s.fieldTransforms,a,o.transformResults),u=a.data;u.setAll(b_(s)),u.setAll(c),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wa(t,e,n,r){return t instanceof Uo?function(a,o,c,u){if(!tc(a.precondition,o))return c;const d=a.value.clone(),m=Vy(a.fieldTransforms,u,o);return d.setAll(m),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gr?function(a,o,c,u){if(!tc(a.precondition,o))return c;const d=Vy(a.fieldTransforms,u,o),m=o.data;return m.setAll(b_(a)),m.setAll(d),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(a,o,c){return tc(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function tC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=y_(r.transform,s||null);a!=null&&(n===null&&(n=It.empty()),n.set(r.field,a))}return n||null}function Oy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ai(r,s,(a,o)=>XS(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uo extends Cu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gr extends Cu{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function b_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function My(t,e,n){const r=new Map;he(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],o=a.transform,c=e.data.field(a.field);r.set(a.field,YS(o,c,n[s]))}return r}function Vy(t,e,n){const r=new Map;for(const s of t){const a=s.transform,o=n.data.field(s.field);r.set(s.field,QS(a,o,e))}return r}class Kf extends Cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nC extends Cu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&eC(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=p_();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(s.key)?null:c;const u=__(o,c);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&Ai(this.mutations,e.mutations,(n,r)=>Oy(n,r))&&Ai(this.baseMutations,e.baseMutations,(n,r)=>Oy(n,r))}}class Qf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){he(e.mutations.length===r.length);let s=function(){return qS}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,r[o].version);return new Qf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue,oe;function aC(t){switch(t){default:return ee();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function N_(t){if(t===void 0)return Jn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ue.OK:return F.OK;case Ue.CANCELLED:return F.CANCELLED;case Ue.UNKNOWN:return F.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return F.INTERNAL;case Ue.UNAVAILABLE:return F.UNAVAILABLE;case Ue.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ue.NOT_FOUND:return F.NOT_FOUND;case Ue.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ue.ABORTED:return F.ABORTED;case Ue.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ue.DATA_LOSS:return F.DATA_LOSS;default:return ee()}}(oe=Ue||(Ue={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new ms([4294967295,4294967295],0);function Fy(t){const e=oC().encode(t),n=new G1;return n.update(e),new Uint8Array(n.digest())}function Uy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ms([n,r],0),new ms([s,a],0)]}class Yf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Aa(`Invalid padding: ${n}`);if(r<0)throw new Aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Aa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Aa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ms.fromNumber(r)));return s.compare(lC)===1&&(s=new ms([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Fy(e),[r,s]=Uy(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new Yf(a,s,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;const n=Fy(e),[r,s]=Uy(n);for(let a=0;a<this.hashCount;a++){const o=this.Ee(r,s,a);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Aa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Au(te.min(),s,new Ce(ue),Xn(),se())}}class zo{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zo(r,n,se(),se(),se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class E_{constructor(e,n){this.targetId=e,this.me=n}}class j_{constructor(e,n,r=it.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class zy{constructor(){this.fe=0,this.ge=$y(),this.pe=it.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=se(),n=se(),r=se();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ee()}}),new zo(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=$y()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xn(),this.qe=By(),this.Qe=new Ce(ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const a=s.target;if(ym(a))if(r===0){const o=new Y(a.path);this.Ue(n,o,ft.newNoDocument(o,te.min()))}else he(r===1);else{const o=this.Ye(n);if(o!==r){const c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let o,c;try{o=_s(r).toUint8Array()}catch(u){if(u instanceof n_)return Ci("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Yf(o,s,a)}catch(u){return Ci(u instanceof Aa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((a,o)=>{const c=this.Je(o);if(c){if(a.current&&ym(c.target)){const u=new Y(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ft.newNoDocument(u,e))}a.be&&(n.set(o,a.ve()),a.Ce())}});let r=se();this.qe.forEach((a,o)=>{let c=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(e));const s=new Au(e,n,this.Qe,this.ke,r);return this.ke=Xn(),this.qe=By(),this.Qe=new Ce(ue),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nt(ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function By(){return new Ce(Y.comparator)}function $y(){return new Ce(Y.comparator)}const uC={asc:"ASCENDING",desc:"DESCENDING"},dC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hC={and:"AND",or:"OR"};class mC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||Tu(e)?e:{value:e}}function qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fC(t,e){return qc(t,e.toTimestamp())}function jn(t){return he(!!t),te.fromTimestamp(function(n){const r=Fr(n);return new me(r.seconds,r.nanos)}(t))}function Jf(t,e){return wm(t,e).canonicalString()}function wm(t,e){const n=function(s){return new ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function I_(t){const e=ve.fromString(t);return he(R_(e)),e}function _m(t,e){return Jf(t.databaseId,e.path)}function Zd(t,e){const n=I_(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(S_(n))}function k_(t,e){return Jf(t.databaseId,e)}function pC(t){const e=I_(t);return e.length===4?ve.emptyPath():S_(e)}function bm(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S_(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qy(t,e,n){return{name:_m(t,e),fields:n.value.mapValue.fields}}function gC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(d,m){return d.useProto3Json?(he(m===void 0||typeof m=="string"),it.fromBase64String(m||"")):(he(m===void 0||m instanceof Buffer||m instanceof Uint8Array),it.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(d){const m=d.code===void 0?F.UNKNOWN:N_(d.code);return new W(m,d.message||"")}(o);n=new j_(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zd(t,r.document.name),a=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):te.min(),c=new It({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,a,o,c),d=r.targetIds||[],m=r.removedTargetIds||[];n=new nc(d,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zd(t,r.document),a=r.readTime?jn(r.readTime):te.min(),o=ft.newNoDocument(s,a),c=r.removedTargetIds||[];n=new nc([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zd(t,r.document),a=r.removedTargetIds||[];n=new nc([],a,s,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,o=new iC(s,a),c=r.targetId;n=new E_(c,o)}}return n}function yC(t,e){let n;if(e instanceof Uo)n={update:qy(t,e.key,e.value)};else if(e instanceof Kf)n={delete:_m(t,e.key)};else if(e instanceof Gr)n={update:qy(t,e.key,e.data),updateMask:TC(e.fieldMask)};else{if(!(e instanceof nC))return ee();n={verify:_m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const c=o.transform;if(c instanceof No)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Eo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof jo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $c)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:fC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ee()}(t,e.precondition)),n}function xC(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(s,a){let o=s.updateTime?jn(s.updateTime):jn(a);return o.isEqual(te.min())&&(o=jn(a)),new ZS(o,s.transformResults||[])}(n,e))):[]}function vC(t,e){return{documents:[k_(t,e.path)]}}function wC(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k_(t,s);const a=function(d){if(d.length!==0)return A_(pn.create(d,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(d){if(d.length!==0)return d.map(m=>function(f){return{field:Ks(f.field),direction:NC(f.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=vm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function _C(t){let e=pC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){he(r===1);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(p){const f=C_(p);return f instanceof pn&&a_(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(j){return new bo(Qs(j.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(f))}(n.orderBy));let c=null;n.limit&&(c=function(p){let f;return f=typeof p=="object"?p.value:p,Tu(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(p){const f=!!p.before,x=p.values||[];return new zc(x,f)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const f=!p.before,x=p.values||[];return new zc(x,f)}(n.endAt)),FS(e,s,o,a,c,"F",u,d)}function bC(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qs(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Qs(n.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qs(n.unaryFilter.field);return Be.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qs(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Qs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>C_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function NC(t){return uC[t]}function EC(t){return dC[t]}function jC(t){return hC[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Qs(t){return et.fromServerFormat(t.fieldPath)}function A_(t){return t instanceof Be?function(n){if(n.op==="=="){if(Cy(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(Sy(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cy(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(Sy(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:EC(n.op),value:n.value}}}(t):t instanceof pn?function(n){const r=n.getFilters().map(s=>A_(s));return r.length===1?r[0]:{compositeFilter:{op:jC(n.op),filters:r}}}(t):ee()}function TC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,s,a=te.min(),o=te.min(),c=it.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.ct=e}}function kC(t){const e=_C({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.un=new CC}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Vr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Vr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class CC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(ve.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Di(0)}static kn(){return new Di(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.changes=new Ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wa(r.mutation,s,Ut.empty(),me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const s=cs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let o=Ca();return a.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,s){let a=Xn();const o=qa(),c=function(){return qa()}();return n.forEach((u,d)=>{const m=r.get(d.key);s.has(d.key)&&(m===void 0||m.mutation instanceof Gr)?a=a.insert(d.key,d):m!==void 0?(o.set(d.key,m.mutation.getFieldMask()),Wa(m.mutation,d,m.mutation.getFieldMask(),me.now())):o.set(d.key,Ut.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((d,m)=>o.set(d,m)),n.forEach((d,m)=>{var p;return c.set(d,new RC(m,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=qa();let s=new Ce((o,c)=>o-c),a=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const c of o)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let m=r.get(u)||Ut.empty();m=c.applyToLocalView(d,m),r.set(u,m);const p=(s.get(c.batchId)||se()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const o=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,m=u.value,p=p_();m.forEach(f=>{if(!a.has(f)){const x=__(n.get(f),r.get(f));x!==null&&p.set(f,x),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):u_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):U.resolve(cs());let c=-1,u=a;return o.next(d=>U.forEach(d,(m,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(m)?U.resolve():this.remoteDocumentCache.getEntry(e,m).next(f=>{u=u.insert(m,f)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,u,d,se())).next(m=>({batchId:c,changes:f_(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Ca();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,a).next(c=>U.forEach(c,u=>{const d=function(p,f){return new Gi(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(m=>{m.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(o=>{a.forEach((u,d)=>{const m=d.getKey();o.get(m)===null&&(o=o.insert(m,ft.newInvalidDocument(m)))});let c=Ca();return o.forEach((u,d)=>{const m=a.get(u);m!==void 0&&Wa(m.mutation,d,Ut.empty(),me.now()),ku(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:kC(s.bundledQuery),readTime:jn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.overlays=new Ce(Y.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cs();return U.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.ht(e,n,a)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=cs(),a=n.length+1,o=new Y(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===a&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Ce((d,m)=>d-m);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let m=a.get(d.largestBatchId);m===null&&(m=cs(),a=a.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const c=cs(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,m)=>c.set(d,m)),!(c.size()>=s)););return U.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new sC(n,r));let a=this.Ir.get(n);a===void 0&&(a=se(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.sessionToken=it.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Tr=new nt(He.Er),this.dr=new nt(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Y(new ve([])),r=new He(n,e),s=new He(n,e+1),a=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Y(new ve([])),r=new He(n,e),s=new He(n,e+1);let a=se();return this.dr.forEachInRange([r,s],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||ue(e.wr,n.wr)}static Ar(e,n){return ue(e.wr,n.wr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new nt(He.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rC(a,n,r,s);this.mutationQueue.push(o);for(const c of s)this.br=this.br.add(new He(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),a=s<0?0:s;return U.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),s=new He(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,s],o=>{const c=this.Dr(o.wr);a.push(c)}),U.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(ue);return n.forEach(s=>{const a=new He(s,0),o=new He(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],c=>{r=r.add(c.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Y.isDocumentKey(a)||(a=a.child(""));const o=new He(new Y(a),0);let c=new nt(ue);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.wr)),!0)},o),U.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){he(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const a=new He(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new He(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.Mr=e,this.docs=function(){return new Ce(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ft.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=Xn();const o=n.path,c=new Y(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:m}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||wS(vS(m),r)<=0||(s.has(m.key)||ku(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return U.resolve(a)}getAllFromCollectionGroup(e,n,r,s){ee()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FC(this)}getSize(e){return U.resolve(this.size)}}class FC extends AC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.persistence=e,this.Nr=new Ki(n=>qf(n),Wf),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xf,this.targetCount=0,this.kr=Di.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Di(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),U.waitFor(a).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Uf(0),this.Kr=!1,this.Kr=!0,this.$r=new OC,this.referenceDelegate=e(this),this.Ur=new UC(this),this.indexManager=new SC,this.remoteDocumentCache=function(s){return new VC(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IC(n),this.Gr=new DC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new MC(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new BC(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(a=>this.referenceDelegate.jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class BC extends bS{constructor(e){super(),this.currentSequenceNumber=e}}class Zf{constructor(e){this.persistence=e,this.Jr=new Xf,this.Yr=null}static Zr(e){return new Zf(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.Xr.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=Y.fromPath(r);return this.ei(e,s).next(a=>{a||n.removeEntry(s,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=se(),s=se();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ep(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return BI()?8:NS(yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.Yi(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(e,n,s,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new $C;return this.Xi(e,n,o).next(c=>{if(a.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>a.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(wa()<=ae.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(wa()<=ae.DEBUG&&Q("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(wa()<=ae.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,En(n))):U.resolve())}Yi(e,n){if(Dy(n))return U.resolve(null);let r=En(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Bc(n,null,"F"),r=En(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=se(...a);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,c);return this.ns(n,d,o,u.readTime)?this.Yi(e,Bc(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return Dy(n)||s.isEqual(te.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(a=>{const o=this.ts(n,a);return this.ns(n,o,r,s)?U.resolve(null):(wa()<=ae.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Gs(n)),this.rs(e,o,n,xS(s,-1)).next(c=>c))})}ts(e,n){let r=new nt(h_(e));return n.forEach((s,a)=>{ku(e,a)&&(r=r.add(a))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Xi(e,n,r){return wa()<=ae.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ce(ue),this._s=new Ki(a=>qf(a),Wf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function HC(t,e,n,r){return new WC(t,e,n,r)}async function P_(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],c=[];let u=se();for(const d of s){o.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}for(const d of a){c.push(d.batchId);for(const m of d.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:c}))})})}function GC(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,m){const p=d.batch,f=p.keys();let x=U.resolve();return f.forEach(j=>{x=x.next(()=>m.getEntry(u,j)).next(b=>{const C=d.docVersions.get(j);he(C!==null),b.version.compareTo(C)<0&&(p.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),m.addEntry(b)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=se();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function D_(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function KC(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((m,p)=>{const f=s.get(p);if(!f)return;c.push(n.Ur.removeMatchingKeys(a,m.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(a,m.addedDocuments,p)));let x=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(it.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),s=s.insert(p,x),function(b,C,T){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,x,m)&&c.push(n.Ur.updateTargetData(a,x))});let u=Xn(),d=se();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(QC(a,o,e.documentUpdates).next(m=>{u=m.Ps,d=m.Is})),!r.isEqual(te.min())){const m=n.Ur.getLastRemoteSnapshotVersion(a).next(p=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return U.waitFor(c).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,d)).next(()=>u)}).then(a=>(n.os=s,a))}function QC(t,e,n){let r=se(),s=se();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Xn();return n.forEach((c,u)=>{const d=a.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):Q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function YC(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JC(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(a=>a?(s=a,U.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Nm(t,e,n){const r=ne(t),s=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Fo(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Wy(t,e,n){const r=ne(t);let s=te.min(),a=se();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,m){const p=ne(u),f=p._s.get(m);return f!==void 0?U.resolve(p.os.get(f)):p.Ur.getTargetData(d,m)}(r,o,En(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{a=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:te.min(),n?a:se())).next(c=>(XC(r,zS(e),c),{documents:c,Ts:a})))}function XC(t,e,n){let r=t.us.get(e)||te.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.us.set(e,r)}class Hy{constructor(){this.activeTargetIds=GS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZC{constructor(){this.so=new Hy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Hy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=null;function eh(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt="WebChannelConnection";class rA extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get Fo(){return!1}Mo(n,r,s,a,o){const c=eh(),u=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,a,o),this.No(n,u,d,s).then(m=>(Q("RestConnection",`Received RPC '${n}' ${c}: `,m),m),m=>{throw Ci("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",u,"request:",s),m})}Lo(n,r,s,a,o,c){return this.Mo(n,r,s,a,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,o)=>n[o]=a),s&&s.headers.forEach((a,o)=>n[o]=a)}xo(n,r){const s=tA[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const a=eh();return new Promise((o,c)=>{const u=new K1;u.setWithCredentials(!0),u.listenOnce(Q1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Zl.NO_ERROR:const m=u.getResponseJson();Q(dt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case Zl.TIMEOUT:Q(dt,`RPC '${e}' ${a} timed out`),c(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case Zl.HTTP_ERROR:const p=u.getStatus();if(Q(dt,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const x=f==null?void 0:f.error;if(x&&x.status&&x.message){const j=function(C){const T=C.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(x.status);c(new W(j,x.message))}else c(new W(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new W(F.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{Q(dt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Q(dt,`RPC '${e}' ${a} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=eh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X1(),c=J1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const m=a.join("");Q(dt,`Creating RPC '${e}' stream ${s}: ${m}`,u);const p=o.createWebChannel(m,u);let f=!1,x=!1;const j=new nA({Io:C=>{x?Q(dt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(Q(dt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),Q(dt,`RPC '${e}' stream ${s} sending:`,C),p.send(C))},To:()=>p.close()}),b=(C,T,_)=>{C.listen(T,I=>{try{_(I)}catch(k){setTimeout(()=>{throw k},0)}})};return b(p,Sa.EventType.OPEN,()=>{x||(Q(dt,`RPC '${e}' stream ${s} transport opened.`),j.yo())}),b(p,Sa.EventType.CLOSE,()=>{x||(x=!0,Q(dt,`RPC '${e}' stream ${s} transport closed`),j.So())}),b(p,Sa.EventType.ERROR,C=>{x||(x=!0,Ci(dt,`RPC '${e}' stream ${s} transport errored:`,C),j.So(new W(F.UNAVAILABLE,"The operation could not be completed")))}),b(p,Sa.EventType.MESSAGE,C=>{var T;if(!x){const _=C.data[0];he(!!_);const I=_,k=I.error||((T=I[0])===null||T===void 0?void 0:T.error);if(k){Q(dt,`RPC '${e}' stream ${s} received error:`,k);const D=k.status;let L=function(y){const N=Ue[y];if(N!==void 0)return N_(N)}(D),E=k.message;L===void 0&&(L=F.INTERNAL,E="Unknown error status: "+D+" with message "+k.message),x=!0,j.So(new W(L,E)),p.close()}else Q(dt,`RPC '${e}' stream ${s} received:`,_),j.bo(_)}}),b(c,Y1.STAT_EVENT,C=>{C.stat===mm.PROXY?Q(dt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===mm.NOPROXY&&Q(dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{j.wo()},0),j}}function th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){return new mC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r=1e3,s=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,s,a,o,c,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new L_(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sA extends O_{constructor(e,n,r,s,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gC(this.serializer,e),r=function(a){if(!("targetChange"in a))return te.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?jn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(a,o){let c;const u=o.target;if(c=ym(u)?{documents:vC(a,u)}:{query:wC(a,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=T_(a,o.resumeToken);const d=vm(a,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(te.min())>0){c.readTime=qc(a,o.snapshotVersion.toTimestamp());const d=vm(a,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=bC(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.a_(n)}}class iA extends O_{constructor(e,n,r,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return he(!!e.streamToken),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xC(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=bm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yC(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(e,wm(n,r),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new W(F.UNKNOWN,a.toString())})}Lo(e,n,r,s,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,wm(n,r),s,o,c,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jn(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ne(u);d.L_.add(4),await Bo(d),d.q_.set("Unknown"),d.L_.delete(4),await Pu(d)}(this))})}),this.q_=new oA(r,s)}}async function Pu(t){if(Ls(t))for(const e of t.B_)await e(!0)}async function Bo(t){for(const e of t.B_)await e(!1)}function M_(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sp(n)?rp(n):Qi(n).r_()&&np(n,e))}function tp(t,e){const n=ne(t),r=Qi(n);n.N_.delete(e),r.r_()&&V_(n,e),n.N_.size===0&&(r.r_()?r.o_():Ls(n)&&n.q_.set("Unknown"))}function np(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qi(t).A_(e)}function V_(t,e){t.Q_.xe(e),Qi(t).R_(e)}function rp(t){t.Q_=new cC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qi(t).start(),t.q_.v_()}function sp(t){return Ls(t)&&!Qi(t).n_()&&t.N_.size>0}function Ls(t){return ne(t).L_.size===0}function F_(t){t.Q_=void 0}async function cA(t){t.q_.set("Online")}async function uA(t){t.N_.forEach((e,n)=>{np(t,e)})}async function dA(t,e){F_(t),sp(t)?(t.q_.M_(e),rp(t)):t.q_.set("Unknown")}async function hA(t,e,n){if(t.q_.set("Online"),e instanceof j_&&e.state===2&&e.cause)try{await async function(s,a){const o=a.cause;for(const c of a.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wc(t,r)}else if(e instanceof nc?t.Q_.Ke(e):e instanceof E_?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{const r=await D_(t.localStore);n.compareTo(r)>=0&&await function(a,o){const c=a.Q_.rt(o);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.N_.get(d);m&&a.N_.set(d,m.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,d)=>{const m=a.N_.get(u);if(!m)return;a.N_.set(u,m.withResumeToken(it.EMPTY_BYTE_STRING,m.snapshotVersion)),V_(a,u);const p=new Nr(m.target,u,d,m.sequenceNumber);np(a,p)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await Wc(t,r)}}async function Wc(t,e,n){if(!Fo(e))throw e;t.L_.add(1),await Bo(t),t.q_.set("Offline"),n||(n=()=>D_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Pu(t)})}function U_(t,e){return e().catch(n=>Wc(t,n,e))}async function Du(t){const e=ne(t),n=Ur(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mA(e);)try{const s=await YC(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,fA(e,s)}catch(s){await Wc(e,s)}z_(e)&&B_(e)}function mA(t){return Ls(t)&&t.O_.length<10}function fA(t,e){t.O_.push(e);const n=Ur(t);n.r_()&&n.V_&&n.m_(e.mutations)}function z_(t){return Ls(t)&&!Ur(t).n_()&&t.O_.length>0}function B_(t){Ur(t).start()}async function pA(t){Ur(t).p_()}async function gA(t){const e=Ur(t);for(const n of t.O_)e.m_(n.mutations)}async function yA(t,e,n){const r=t.O_.shift(),s=Qf.from(r,e,n);await U_(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Du(t)}async function xA(t,e){e&&Ur(t).V_&&await async function(r,s){if(function(o){return aC(o)&&o!==F.ABORTED}(s.code)){const a=r.O_.shift();Ur(r).s_(),await U_(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Du(r)}}(t,e),z_(t)&&B_(t)}async function Ky(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.L_.add(3),await Bo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Pu(n)}async function vA(t,e){const n=ne(t);e?(n.L_.delete(2),await Pu(n)):e||(n.L_.add(2),await Bo(n),n.q_.set("Unknown"))}function Qi(t){return t.K_||(t.K_=function(n,r,s){const a=ne(n);return a.w_(),new sA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cA.bind(null,t),Ro:uA.bind(null,t),mo:dA.bind(null,t),d_:hA.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sp(t)?rp(t):t.q_.set("Unknown")):(await t.K_.stop(),F_(t))})),t.K_}function Ur(t){return t.U_||(t.U_=function(n,r,s){const a=ne(n);return a.w_(),new iA(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pA.bind(null,t),mo:xA.bind(null,t),f_:gA.bind(null,t),g_:yA.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Du(t)):(await t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const o=Date.now()+r,c=new ip(e,n,o,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(t,e){if(Jn("AsyncQueue",`${e}: ${t}`),Fo(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=Ca(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new gi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.W_=new Ce(Y.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Li{constructor(e,n,r,s,a,o,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,a){const o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new Li(e,n,gi.emptySet(n),o,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _A{constructor(){this.queries=Yy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ne(n),a=s.queries;s.queries=Yy(),a.forEach((o,c)=>{for(const u of c.j_)u.onError(r)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function Yy(){return new Ki(t=>d_(t),Iu)}async function $_(t,e){const n=ne(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.H_()&&e.J_()&&(r=2):(a=new wA,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(s,!0);break;case 1:a.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const c=ap(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&op(n)}async function q_(t,e){const n=ne(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const o=a.j_.indexOf(e);o>=0&&(a.j_.splice(o,1),a.j_.length===0?s=e.J_()?0:1:!a.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bA(t,e){const n=ne(t);let r=!1;for(const s of e){const a=s.query,o=n.queries.get(a);if(o){for(const c of o.j_)c.X_(s)&&(r=!0);o.z_=s}}r&&op(n)}function NA(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const a of s.j_)a.onError(n);r.queries.delete(e)}function op(t){t.Y_.forEach(e=>{e.next()})}var Em,Jy;(Jy=Em||(Em={})).ea="default",Jy.Cache="cache";class W_{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this.key=e}}class G_{constructor(e){this.key=e}}class EA{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=se(),this.mutatedKeys=se(),this.Aa=h_(e),this.Ra=new gi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Qy,s=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,o=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,p)=>{const f=s.get(m),x=ku(this.query,p)?p:null,j=!!f&&this.mutatedKeys.has(f.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;f&&x?f.data.isEqual(x.data)?j!==b&&(r.track({type:3,doc:x}),C=!0):this.ga(f,x)||(r.track({type:2,doc:x}),C=!0,(u&&this.Aa(x,u)>0||d&&this.Aa(x,d)<0)&&(c=!0)):!f&&x?(r.track({type:0,doc:x}),C=!0):f&&!x&&(r.track({type:1,doc:f}),C=!0,(u||d)&&(c=!0)),C&&(x?(o=o.add(x),a=b?a.add(m):a.delete(m)):(o=o.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Ra:o,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((m,p)=>function(x,j){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return b(x)-b(j)}(m.type,p.type)||this.Aa(m.doc,p.doc)),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Li(this.query,e.Ra,a,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Qy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new G_(r))}),this.da.forEach(r=>{e.has(r)||n.push(new H_(r))}),n}ba(e){this.Ta=e.Ts,this.da=se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Li.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TA{constructor(e){this.key=e,this.va=!1}}class IA{constructor(e,n,r,s,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ki(c=>d_(c),Iu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ce(Y.comparator),this.Na=new Map,this.La=new Xf,this.Ba={},this.ka=new Map,this.qa=Di.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function kA(t,e,n=!0){const r=Z_(t);let s;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Da()):s=await K_(r,e,n,!0),s}async function SA(t,e){const n=Z_(t);await K_(n,e,!0,!1)}async function K_(t,e,n,r){const s=await JC(t.localStore,En(e)),a=s.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await CA(t,e,a,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&M_(t.remoteStore,s),c}async function CA(t,e,n,r,s){t.Ka=(p,f,x)=>async function(b,C,T,_){let I=C.view.ma(T);I.ns&&(I=await Wy(b.localStore,C.query,!1).then(({documents:E})=>C.view.ma(E,I)));const k=_&&_.targetChanges.get(C.targetId),D=_&&_.targetMismatches.get(C.targetId)!=null,L=C.view.applyChanges(I,b.isPrimaryClient,k,D);return Zy(b,C.targetId,L.wa),L.snapshot}(t,p,f,x);const a=await Wy(t.localStore,e,!0),o=new EA(e,a.Ts),c=o.ma(a.documents),u=zo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(c,t.isPrimaryClient,u);Zy(t,n,d.wa);const m=new jA(e,n,o);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function AA(t,e,n){const r=ne(t),s=r.Fa.get(e),a=r.Ma.get(s.targetId);if(a.length>1)return r.Ma.set(s.targetId,a.filter(o=>!Iu(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&tp(r.remoteStore,s.targetId),jm(r,s.targetId)}).catch(Vo)):(jm(r,s.targetId),await Nm(r.localStore,s.targetId,!0))}async function RA(t,e){const n=ne(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tp(n.remoteStore,r.targetId))}async function PA(t,e,n){const r=UA(t);try{const s=await function(o,c){const u=ne(o),d=me.now(),m=c.reduce((x,j)=>x.add(j.key),se());let p,f;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let j=Xn(),b=se();return u.cs.getEntries(x,m).next(C=>{j=C,j.forEach((T,_)=>{_.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,j)).next(C=>{p=C;const T=[];for(const _ of c){const I=tC(_,p.get(_.key).overlayedDocument);I!=null&&T.push(new Gr(_.key,I,r_(I.value.mapValue),hn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,d,T,c)}).next(C=>{f=C;const T=C.applyToLocalDocumentSet(p,b);return u.documentOverlayCache.saveOverlays(x,C.batchId,T)})}).then(()=>({batchId:f.batchId,changes:f_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,c,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ce(ue)),d=d.insert(c,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await $o(r,s.changes),await Du(r.remoteStore)}catch(s){const a=ap(s,"Failed to persist write");n.reject(a)}}async function Q_(t,e){const n=ne(t);try{const r=await KC(n.localStore,e);e.targetChanges.forEach((s,a)=>{const o=n.Na.get(a);o&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?he(o.va):s.removedDocuments.size>0&&(he(o.va),o.va=!1))}),await $o(n,r,e)}catch(r){await Vo(r)}}function Xy(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((a,o)=>{const c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){const u=ne(o);u.onlineState=c;let d=!1;u.queries.forEach((m,p)=>{for(const f of p.j_)f.Z_(c)&&(d=!0)}),d&&op(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DA(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),a=s&&s.key;if(a){let o=new Ce(Y.comparator);o=o.insert(a,ft.newNoDocument(a,te.min()));const c=se().add(a),u=new Au(te.min(),new Map,new Ce(ue),o,c);await Q_(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),lp(r)}else await Nm(r.localStore,e,!1).then(()=>jm(r,e,n)).catch(Vo)}async function LA(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await GC(n.localStore,e);J_(n,r,null),Y_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $o(n,s)}catch(s){await Vo(s)}}async function OA(t,e,n){const r=ne(t);try{const s=await function(o,c){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(he(p!==null),m=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,m,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>u.localDocuments.getDocuments(d,m))})}(r.localStore,e);J_(r,e,n),Y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $o(r,s)}catch(s){await Vo(s)}}function Y_(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function J_(t,e,n){const r=ne(t);let s=r.Ba[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||X_(t,r)})}function X_(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(tp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lp(t))}function Zy(t,e,n){for(const r of n)r instanceof H_?(t.La.addReference(r.key,e),MA(t,r)):r instanceof G_?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||X_(t,r.key)):ee()}function MA(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),lp(t))}function lp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Y(ve.fromString(e)),r=t.qa.next();t.Na.set(r,new TA(n)),t.Oa=t.Oa.insert(n,r),M_(t.remoteStore,new Nr(En(Hf(n.path)),r,"TargetPurposeLimboResolution",Uf.oe))}}async function $o(t,e,n){const r=ne(t),s=[],a=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(d=>{var m;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=ep.Wi(u.targetId,d);a.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const m=ne(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(d,f=>U.forEach(f.$i,x=>m.persistence.referenceDelegate.addReference(p,f.targetId,x)).next(()=>U.forEach(f.Ui,x=>m.persistence.referenceDelegate.removeReference(p,f.targetId,x)))))}catch(p){if(!Fo(p))throw p;Q("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const f=p.targetId;if(!p.fromCache){const x=m.os.get(f),j=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(j);m.os=m.os.insert(f,b)}}}(r.localStore,a))}async function VA(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await P_(n.localStore,e);n.currentUser=e,function(a,o){a.ka.forEach(c=>{c.forEach(u=>{u.reject(new W(F.CANCELLED,o))})}),a.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $o(n,r.hs)}}function FA(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return se().add(r.key);{let s=se();const a=n.Ma.get(e);if(!a)return s;for(const o of a){const c=n.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function Z_(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DA.bind(null,e),e.Ca.d_=bA.bind(null,e.eventManager),e.Ca.$a=NA.bind(null,e.eventManager),e}function UA(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OA.bind(null,e),e}class Hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ru(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return HC(this.persistence,new qC,e.initialUser,this.serializer)}Ga(e){return new zC(Zf.Zr,this.serializer)}Wa(e){return new ZC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hc.provider={build:()=>new Hc};class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VA.bind(null,this.syncEngine),await vA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _A}()}createDatastore(e){const n=Ru(e.databaseInfo.databaseId),r=function(a){return new rA(a)}(e.databaseInfo);return function(a,o,c,u){return new aA(a,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,o,c){return new lA(r,s,a,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Xy(this.syncEngine,n,0),function(){return Gy.D()?new Gy:new eA}())}createSyncEngine(e,n){return function(s,a,o,c,u,d,m){const p=new IA(s,a,o,c,u,d);return m&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=ne(s);Q("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Bo(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Jn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=e_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ap(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nh(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await P_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ex(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BA(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ky(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Ky(e.remoteStore,s)),t._onlineComponents=e}async function BA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await nh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),await nh(t,new Hc)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await nh(t,new Hc);return t._offlineComponents}async function tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await ex(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await ex(t,new Tm))),t._onlineComponents}function $A(t){return tb(t).then(e=>e.syncEngine)}async function nb(t){const e=await tb(t),n=e.eventManager;return n.onListen=kA.bind(null,e.syncEngine),n.onUnlisten=AA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RA.bind(null,e.syncEngine),n}function qA(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,u,d){const m=new eb({next:f=>{m.Za(),o.enqueueAndForget(()=>q_(a,p));const x=f.docs.has(c);!x&&f.fromCache?d.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&f.fromCache&&u&&u.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new W_(Hf(c.path),m,{includeMetadataChanges:!0,_a:!0});return $_(a,p)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}function WA(t,e,n={}){const r=new qn;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,c,u,d){const m=new eb({next:f=>{m.Za(),o.enqueueAndForget(()=>q_(a,p)),f.fromCache&&u.source==="server"?d.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new W_(c,m,{includeMetadataChanges:!0,_a:!0});return $_(a,p)}(await nb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HA(t,e,n,r){if(e===!0&&r===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nx(t){if(!Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rx(t){if(Y.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Zn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lu(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GA(t,e){if(e<=0)throw new W(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cS;switch(r.type){case"firstParty":return new mS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tx.get(n);r&&(Q("ComponentProvider","Removing Datastore"),tx.delete(n),r.terminate())}(this),Promise.resolve()}}function KA(t,e,n,r={}){var s;const a=(t=Zn(t,Ou))._getSettings(),o=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=ht.MOCK_USER;else{c=M1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(d)}t._authCredentials=new uS(new Z1(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class Lr extends Kr{constructor(e,n,r){super(e,n,Hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Y(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function Ke(t,e,...n){if(t=_e(t),sb("collection","path",e),t instanceof Ou){const r=ve.fromString(e,...n);return rx(r),new Lr(t,null,r)}{if(!(t instanceof Pt||t instanceof Lr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return rx(r),new Lr(t.firestore,null,r)}}function Os(t,e,...n){if(t=_e(t),arguments.length===1&&(e=e_.newId()),sb("doc","path",e),t instanceof Ou){const r=ve.fromString(e,...n);return nx(r),new Pt(t,null,new Y(r))}{if(!(t instanceof Pt||t instanceof Lr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return nx(r),new Pt(t.firestore,t instanceof Lr?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new L_(this,"async_queue_retry"),this.Vu=()=>{const r=th();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Fo(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Jn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=ip.createAndSchedule(this,e,n,r,a=>this.yu(a));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yi extends Ou{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ix,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ix(e),this._firestoreClient=void 0,await e}}}function QA(t,e){const n=typeof t=="object"?t:ju(),r=typeof t=="string"?t:"(default)",s=Hr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=D1("firestore");a&&KA(s,...a)}return s}function cp(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YA(t),t._firestoreClient}function YA(t){var e,n,r;const s=t._freezeSettings(),a=function(c,u,d,m){return new TS(c,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,rb(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new zA(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oi(it.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oi(it.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=/^__.*__$/;class XA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uo(e,this.data,n,this.fieldTransforms)}}class ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ab(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class hp{constructor(e,n,r,s,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ab(this.Cu)&&JA.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ru(e)}Qu(e,n,r,s=!1){return new hp({Cu:e,methodName:n,qu:r,path:et.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(t){const e=t._freezeSettings(),n=Ru(t._databaseId);return new ZA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eR(t,e,n,r,s,a={}){const o=t.Qu(a.merge||a.mergeFields?2:0,e,n,s);pp("Data must be an object, but it was:",o,r);const c=ob(r,o);let u,d;if(a.merge)u=new Ut(o.fieldMask),d=o.fieldTransforms;else if(a.mergeFields){const m=[];for(const p of a.mergeFields){const f=Im(e,p,n);if(!o.contains(f))throw new W(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);cb(m,f)||m.push(f)}u=new Ut(m),d=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=o.fieldTransforms;return new XA(new It(c),u,d)}class Fu extends Vu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fu}}class fp extends Vu{_toFieldTransform(e){return new JS(e.path,new No)}isEqual(e){return e instanceof fp}}function tR(t,e,n,r){const s=t.Qu(1,e,n);pp("Data must be an object, but it was:",s,r);const a=[],o=It.empty();Ds(r,(u,d)=>{const m=gp(e,u,n);d=_e(d);const p=s.Nu(m);if(d instanceof Fu)a.push(m);else{const f=qo(d,p);f!=null&&(a.push(m),o.set(m,f))}});const c=new Ut(a);return new ib(o,c,s.fieldTransforms)}function nR(t,e,n,r,s,a){const o=t.Qu(1,e,n),c=[Im(e,r,n)],u=[s];if(a.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)c.push(Im(e,a[f])),u.push(a[f+1]);const d=[],m=It.empty();for(let f=c.length-1;f>=0;--f)if(!cb(d,c[f])){const x=c[f];let j=u[f];j=_e(j);const b=o.Nu(x);if(j instanceof Fu)d.push(x);else{const C=qo(j,b);C!=null&&(d.push(x),m.set(x,C))}}const p=new Ut(d);return new ib(m,p,o.fieldTransforms)}function rR(t,e,n,r=!1){return qo(n,t.Qu(r?4:3,e))}function qo(t,e){if(lb(t=_e(t)))return pp("Unsupported field value:",e,t),ob(t,e);if(t instanceof Vu)return function(r,s){if(!ab(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const a=[];let o=0;for(const c of r){let u=qo(c,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=_e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KS(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=me.fromDate(r);return{timestampValue:qc(s.serializer,a)}}if(r instanceof me){const a=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qc(s.serializer,a)}}if(r instanceof up)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oi)return{bytesValue:T_(s.serializer,r._byteString)};if(r instanceof Pt){const a=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dp)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return Gf(c.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Lu(r)}`)}(t,e)}function ob(t,e){const n={};return t_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,s)=>{const a=qo(s,e.Mu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function lb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof up||t instanceof Oi||t instanceof Pt||t instanceof Vu||t instanceof dp)}function pp(t,e,n){if(!lb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lu(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Im(t,e,n){if((e=_e(e))instanceof Mu)return e._internalPath;if(typeof e=="string")return gp(t,e);throw Gc("Field path arguments must be of type string or ",t,!1,void 0,n)}const sR=new RegExp("[~\\*/\\[\\]]");function gp(t,e,n){if(e.search(sR)>=0)throw Gc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mu(...e.split("."))._internalPath}catch{throw Gc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gc(t,e,n,r,s){const a=r&&!r.isEmpty(),o=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||o)&&(u+=" (found",a&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(F.INVALID_ARGUMENT,c+t+u)}function cb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iR extends ub{data(){return super.data()}}function Uu(t,e){return typeof e=="string"?gp(t,e):e instanceof Mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yp{}class xp extends yp{}function ln(t,e,...n){let r=[];e instanceof yp&&r.push(e),r=r.concat(n),function(a){const o=a.filter(u=>u instanceof vp).length,c=a.filter(u=>u instanceof zu).length;if(o>1||o>0&&c>0)throw new W(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zu extends xp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zu(e,n,r)}_apply(e){const n=this._parse(e);return db(e._query,n),new Kr(e.firestore,e.converter,xm(e._query,n))}_parse(e){const n=mp(e.firestore);return function(a,o,c,u,d,m,p){let f;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new W(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){ox(p,m);const x=[];for(const j of p)x.push(ax(u,a,j));f={arrayValue:{values:x}}}else f=ax(u,a,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||ox(p,m),f=rR(c,o,p,m==="in"||m==="not-in");return Be.create(d,m,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vt(t,e,n){const r=e,s=Uu("where",t);return zu._create(s,r,n)}class vp extends yp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let o=s;const c=a.getFlattenedFilters();for(const u of c)db(o,u),o=xm(o,u)}(e._query,n),new Kr(e.firestore,e.converter,xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wp extends xp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wp(e,n)}_apply(e){const n=function(s,a,o){if(s.startAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bo(a,o)}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(s,a){const o=s.explicitOrderBy.concat([a]);return new Gi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function _p(t,e="asc"){const n=e,r=Uu("orderBy",t);return wp._create(r,n)}class bp extends xp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new bp(e,n,r)}_apply(e){return new Kr(e.firestore,e.converter,Bc(e._query,this._limit,this._limitType))}}function oR(t){return GA("limit",t),bp._create("limit",t,"F")}function ax(t,e,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new W(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!u_(e)&&n.indexOf("/")!==-1)throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ve.fromString(n));if(!Y.isDocumentKey(r))throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ky(t,new Y(r))}if(n instanceof Pt)return ky(t,n._key);throw new W(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(n)}.`)}function ox(t,e){if(!Array.isArray(t)||t.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function db(t,e){const n=function(s,a){for(const o of s)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lR{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Me(o.doubleValue));return new dp(a)}convertGeoPoint(e){return new up(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Bf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);he(R_(r));const s=new wo(r.get(1),r.get(3)),a=new Y(r.popFirst(5));return s.isEqual(n)||Jn(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hb extends ub{constructor(e,n,r,s,a,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rc extends hb{data(e={}){return super.data(e)}}class uR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ra(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rc(this._firestore,this._userDataWriter,r.key,r,new Ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{const u=new rc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ra(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const u=new rc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ra(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,m=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),m=o.indexOf(c.doc.key)),{type:dR(c.type),doc:u,oldIndex:d,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){t=Zn(t,Pt);const e=Zn(t.firestore,Yi);return qA(cp(e),t._key).then(n=>hR(e,t,n))}class fb extends lR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function cn(t){t=Zn(t,Kr);const e=Zn(t.firestore,Yi),n=cp(e),r=new fb(e);return aR(t._query),WA(n,t._query).then(s=>new uR(e,r,t,s))}function pb(t,e,n,...r){t=Zn(t,Pt);const s=Zn(t.firestore,Yi),a=mp(s);let o;return o=typeof(e=_e(e))=="string"||e instanceof Mu?nR(a,"updateDoc",t._key,e,n,r):tR(a,"updateDoc",t._key,e),Np(s,[o.toMutation(t._key,hn.exists(!0))])}function km(t){return Np(Zn(t.firestore,Yi),[new Kf(t._key,hn.none())])}function Qr(t,e){const n=Zn(t.firestore,Yi),r=Os(t),s=cR(t.converter,e);return Np(n,[eR(mp(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then(()=>r)}function Np(t,e){return function(r,s){const a=new qn;return r.asyncQueue.enqueueAndForget(async()=>PA(await $A(r),s,a)),a.promise}(cp(t),e)}function hR(t,e,n){const r=n.docs.get(e._key),s=new fb(t);return new hb(t,s,e._key,r,new Ra(n.hasPendingWrites,n.fromCache),e.converter)}function en(){return new fp("serverTimestamp")}(function(e,n=!0){(function(s){Hi=s})(Ps),fn(new Zt("firestore",(r,{instanceIdentifier:s,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new Yi(new dS(r.getProvider("auth-internal")),new pS(r.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wo(d.options.projectId,m)}(o,s),o);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Rt(Ny,"4.7.3",e),Rt(Ny,"4.7.3","esm2017")})();function Ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mR=gb,yb=new Rs("auth","Firebase",gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Eu("@firebase/auth");function fR(t,...e){Kc.logLevel<=ae.WARN&&Kc.warn(`Auth (${Ps}): ${t}`,...e)}function sc(t,...e){Kc.logLevel<=ae.ERROR&&Kc.error(`Auth (${Ps}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw jp(t,...e)}function Tn(t,...e){return jp(t,...e)}function xb(t,e,n){const r=Object.assign(Object.assign({},mR()),{[e]:n});return new Rs("auth","Firebase",r).create(e,{appName:t.name})}function Wn(t){return xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yb.create(t,...e)}function Z(t,e,...n){if(!t)throw jp(e,...n)}function Un(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sc(e),new Error(e)}function er(t,e){t||Un(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pR(){return lx()==="http:"||lx()==="https:"}function lx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pR()||V1()||"connection"in navigator)?navigator.onLine:!0}function yR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||UI()}get(){return gR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Wo(3e4,6e4);function sr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ir(t,e,n,r,s={}){return wb(t,s,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Mo(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},a);return FI()||(d.referrerPolicy="no-referrer"),vb.fetch()(_b(t,t.config.apiHost,n,c),d)})}async function wb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xR),e);try{const s=new _R(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Ol(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ol(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ol(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ol(t,"user-disabled",o);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xb(t,m,d);gn(t,m)}}catch(s){if(s instanceof tn)throw s;gn(t,"network-request-failed",{message:String(s)})}}async function Ho(t,e,n,r,s={}){const a=await ir(t,e,n,r,s);return"mfaPendingCredential"in a&&gn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function _b(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Tp(t.config,s):`${t.config.apiScheme}://${s}`}function wR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _R{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),vR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ol(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Tn(t,e,r);return s.customData._tokenResponse=n,s}function cx(t){return t!==void 0&&t.enterprise!==void 0}class bR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return wR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function NR(t,e){return ir(t,"GET","/v2/recaptchaConfig",sr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e){return ir(t,"POST","/v1/accounts:delete",e)}async function bb(t,e){return ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jR(t,e=!1){const n=_e(t),r=await n.getIdToken(e),s=Ip(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Ha(rh(s.auth_time)),issuedAtTime:Ha(rh(s.iat)),expirationTime:Ha(rh(s.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rh(t){return Number(t)*1e3}function Ip(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=R1(n);return s?JSON.parse(s):(sc("Failed to decode base64 JWT payload"),null)}catch(s){return sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ux(t){const e=Ip(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tn&&TR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ha(this.lastLoginAt),this.creationTime=Ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await To(t,bb(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Nb(a.providerUserInfo):[],c=SR(t.providerData,o),u=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=u?d:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Cm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,p)}async function kR(t){const e=_e(t);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Nb(t){return t.map(e=>{var{providerId:n}=e,r=Ep(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e){const n=await wb(t,{},async()=>{const r=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,o=_b(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",vb.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AR(t,e){return ir(t,"POST","/v2/accounts:revokeToken",sr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=ux(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await CR(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,o=new yi;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),a&&(Z(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yi,this.toJSON())}_performRefresh(){return Un("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await To(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jR(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(Wn(this.auth));const e=await this.getIdToken();return await To(this,ER(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,o,c,u,d,m;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,j=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(c=n.tenantId)!==null&&c!==void 0?c:void 0,C=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,_=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:I,emailVerified:k,isAnonymous:D,providerData:L,stsTokenManager:E}=n;Z(I&&E,e,"internal-error");const w=yi.fromJSON(this.name,E);Z(typeof I=="string",e,"internal-error"),ur(p,e.name),ur(f,e.name),Z(typeof k=="boolean",e,"internal-error"),Z(typeof D=="boolean",e,"internal-error"),ur(x,e.name),ur(j,e.name),ur(b,e.name),ur(C,e.name),ur(T,e.name),ur(_,e.name);const y=new zn({uid:I,auth:e,email:f,emailVerified:k,displayName:p,isAnonymous:D,photoURL:j,phoneNumber:x,tenantId:b,stsTokenManager:w,createdAt:T,lastLoginAt:_});return L&&Array.isArray(L)&&(y.providerData=L.map(N=>Object.assign({},N))),C&&(y._redirectEventId=C),y}static async _fromIdTokenResponse(e,n,r=!1){const s=new yi;s.updateFromServerResponse(n);const a=new zn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qc(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Z(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?Nb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new yi;c.updateFromIdToken(r);const u=new zn({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Map;function Bn(t){er(t instanceof Function,"Expected a class definition");let e=dx.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Eb.type="NONE";const hx=Eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){return`firebase:${t}:${e}:${n}`}class xi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ic(this.userKey,s.apiKey,a),this.fullPersistenceKey=ic("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xi(Bn(hx),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=s[0]||Bn(hx);const o=ic(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const m=await d._get(o);if(m){const p=zn._fromJSON(e,m);d!==a&&(c=p),a=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new xi(a,e,r):(a=u[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==a)try{await d._remove(o)}catch{}})),new xi(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Cb(e))return"Blackberry";if(Ab(e))return"Webos";if(Tb(e))return"Safari";if((e.includes("chrome/")||Ib(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jb(t=yt()){return/firefox\//i.test(t)}function Tb(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ib(t=yt()){return/crios\//i.test(t)}function kb(t=yt()){return/iemobile/i.test(t)}function Sb(t=yt()){return/android/i.test(t)}function Cb(t=yt()){return/blackberry/i.test(t)}function Ab(t=yt()){return/webos/i.test(t)}function kp(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RR(t=yt()){var e;return kp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PR(){return zI()&&document.documentMode===10}function Rb(t=yt()){return kp(t)||Sb(t)||Ab(t)||Cb(t)||/windows phone/i.test(t)||kb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e=[]){let n;switch(t){case"Browser":n=mx(yt());break;case"Worker":n=`${mx(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ps}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const u=e(a);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e={}){return ir(t,"GET","/v2/passwordPolicy",sr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=6;class MR{constructor(e){var n,r,s,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:OR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,o,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fx(this),this.idTokenSubscription=new fx(this),this.beforeStateQueue=new DR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await xi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bb(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(s=u.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(Wn(this));const n=e?_e(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(Wn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(Wn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LR(this),n=new MR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await xi.create(this,[Bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yr(t){return _e(t)}class fx{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(t){Bu=t}function Db(t){return Bu.loadJS(t)}function UR(){return Bu.recaptchaEnterpriseScript}function zR(){return Bu.gapiScript}function BR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $R="recaptcha-enterprise",qR="NO_RECAPTCHA";class WR{constructor(e){this.type=$R,this.auth=Yr(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{NR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new bR(u);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})})}function s(a,o,c){const u=window.grecaptcha;cx(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{o(d)}).catch(()=>{o(qR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&cx(window.grecaptcha))s(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=UR();u.length!==0&&(u+=c),Db(u).then(()=>{s(c,a,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function px(t,e,n,r=!1){const s=new WR(t);let a;try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Yc(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await px(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await px(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){const n=Hr(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(go(a,e??{}))return s;gn(s,"already-initialized")}return n.initialize({options:e})}function GR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KR(t,e,n){const r=Yr(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=Lb(e),{host:o,port:c}=QR(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),YR()}function Lb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QR(t){const e=Lb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:gx(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:gx(o)}}}function gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Un("not implemented")}_getIdTokenResponse(e){return Un("not implemented")}_linkToIdToken(e,n){return Un("not implemented")}_getReauthenticationResolver(e){return Un("not implemented")}}async function JR(t,e){return ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return Ho(t,"POST","/v1/accounts:signInWithPassword",sr(t,e))}async function ZR(t,e){return ir(t,"POST","/v1/accounts:sendOobCode",sr(t,e))}async function e4(t,e){return ZR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){return Ho(t,"POST","/v1/accounts:signInWithEmailLink",sr(t,e))}async function n4(t,e){return Ho(t,"POST","/v1/accounts:signInWithEmailLink",sr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Sp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Io(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Io(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(e,n,"signInWithPassword",XR);case"emailLink":return t4(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yc(e,r,"signUpPassword",JR);case"emailLink":return n4(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e){return Ho(t,"POST","/v1/accounts:signInWithIdp",sr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="http://localhost";class Ns extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Ep(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ns(r,s);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vi(e,n)}buildRequest(){const e={requestUri:r4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i4(t){const e=Ia(ka(t)).link,n=e?Ia(ka(e)).deep_link_id:null,r=Ia(ka(t)).deep_link_id;return(r?Ia(ka(r)).link:null)||r||n||e||t}class Cp{constructor(e){var n,r,s,a,o,c;const u=Ia(ka(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,m=(r=u.oobCode)!==null&&r!==void 0?r:null,p=s4((s=u.mode)!==null&&s!==void 0?s:null);Z(d&&m&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=m,this.continueUrl=(a=u.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=i4(e);try{return new Cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.providerId=Ji.PROVIDER_ID}static credential(e,n){return Io._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cp.parseLink(n);return Z(r,"argument-error"),Io._fromEmailAndCode(e,r.code,r.tenantId)}}Ji.PROVIDER_ID="password";Ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Go{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Go{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Go{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e){return Ho(t,"POST","/v1/accounts:signUp",sr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await zn._fromIdTokenResponse(e,r,s),o=yx(r);return new Es({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=yx(r);return new Es({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function yx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends tn{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Jc(e,n,r,s)}}function Mb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(t,a,e,r):a})}async function o4(t,e,n=!1){const r=await To(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e,n=!1){const{auth:r}=t;if(wn(r.app))return Promise.reject(Wn(r));const s="reauthenticate";try{const a=await To(t,Mb(r,s,e,t),n);Z(a.idToken,r,"internal-error");const o=Ip(a.idToken);Z(o,r,"internal-error");const{sub:c}=o;return Z(t.uid===c,r,"user-mismatch"),Es._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e,n=!1){if(wn(t.app))return Promise.reject(Wn(t));const r="signIn",s=await Mb(t,r,e),a=await Es._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function c4(t,e){return Vb(Yr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t){const e=Yr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u4(t,e,n){const r=Yr(t);await Yc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",e4)}async function d4(t,e,n){if(wn(t.app))return Promise.reject(Wn(t));const r=Yr(t),o=await Yc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a4).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Fb(t),u}),c=await Es._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function h4(t,e,n){return wn(t.app)?Promise.reject(Wn(t)):c4(_e(t),Ji.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fb(t),r})}function m4(t,e,n,r){return _e(t).onIdTokenChanged(e,n,r)}function f4(t,e,n){return _e(t).beforeAuthStateChanged(e,n)}function p4(t,e,n,r){return _e(t).onAuthStateChanged(e,n,r)}function g4(t){return _e(t).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1e3,x4=10;class zb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);PR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,x4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zb.type="LOCAL";const v4=zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bb.type="SESSION";const $b=Bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $u(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(o).map(async d=>d(n.origin,a)),u=await w4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,o;return new Promise((c,u)=>{const d=Ap("",20);s.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(f.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(){return window}function b4(t){In().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof In().WorkerGlobalScope<"u"&&typeof In().importScripts=="function"}async function N4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j4(){return qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firebaseLocalStorageDb",T4=1,Zc="firebaseLocalStorage",Hb="fbase_key";class Ko{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qu(t,e){return t.transaction([Zc],e?"readwrite":"readonly").objectStore(Zc)}function I4(){const t=indexedDB.deleteDatabase(Wb);return new Ko(t).toPromise()}function Am(){const t=indexedDB.open(Wb,T4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zc,{keyPath:Hb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zc)?e(r):(r.close(),await I4(),e(await Am()))})})}async function xx(t,e,n){const r=qu(t,!0).put({[Hb]:e,value:n});return new Ko(r).toPromise()}async function k4(t,e){const n=qu(t,!1).get(e),r=await new Ko(n).toPromise();return r===void 0?null:r.value}function vx(t,e){const n=qu(t,!0).delete(e);return new Ko(n).toPromise()}const S4=800,C4=3;class Gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>C4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$u._getInstance(j4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await N4(),!this.activeServiceWorker)return;this.sender=new _4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await xx(e,Xc,"1"),await vx(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>k4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=qu(s,!1).getAll();return new Ko(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gb.type="LOCAL";const A4=Gb;new Wo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e){return e?Bn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P4(t){return Vb(t.auth,new Rp(t),t.bypassAuthState)}function D4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),l4(n,new Rp(t),t.bypassAuthState)}async function L4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),o4(n,new Rp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P4;case"linkViaPopup":case"linkViaRedirect":return L4;case"reauthViaPopup":case"reauthViaRedirect":return D4;default:gn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Wo(2e3,1e4);class ci extends Kb{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ci.currentPopupAction&&ci.currentPopupAction.cancel(),ci.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ci.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O4.get())};e()}}ci.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="pendingRedirect",ac=new Map;class V4 extends Kb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const r=await F4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F4(t,e){const n=B4(e),r=z4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function U4(t,e){ac.set(t._key(),e)}function z4(t){return Bn(t._redirectPersistence)}function B4(t){return ic(M4,t.config.apiKey,t.name)}async function $4(t,e,n=!1){if(wn(t.app))return Promise.reject(Wn(t));const r=Yr(t),s=R4(r,e),o=await new V4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=10*60*1e3;class W4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Qb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(wx(e))}saveEventToCache(e){this.cachedEventUids.add(wx(e)),this.lastProcessedEventTime=Date.now()}}function wx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Qb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function H4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function Y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G4(t);for(const n of e)try{if(J4(n))return}catch{}gn(t,"unauthorized-domain")}function J4(t){const e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q4.test(n))return!1;if(K4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Wo(3e4,6e4);function _x(){const t=In().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z4(t){return new Promise((e,n)=>{var r,s,a;function o(){_x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_x(),n(Tn(t,"network-request-failed"))},timeout:X4.get()})}if(!((s=(r=In().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=In().gapi)===null||a===void 0)&&a.load)o();else{const c=BR("iframefcb");return In()[c]=()=>{gapi.load?o():n(Tn(t,"network-request-failed"))},Db(`${zR()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw oc=null,e})}let oc=null;function eP(t){return oc=oc||Z4(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=new Wo(5e3,15e3),nP="__/auth/iframe",rP="emulator/auth/iframe",sP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aP(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tp(e,rP):`https://${t.config.authDomain}/${nP}`,r={apiKey:e.apiKey,appName:t.name,v:Ps},s=iP.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Mo(r).slice(1)}`}async function oP(t){const e=await eP(t),n=In().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:aP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sP,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const o=Tn(t,"network-request-failed"),c=In().setTimeout(()=>{a(o)},tP.get());function u(){In().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cP=500,uP=600,dP="_blank",hP="http://localhost";class bx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mP(t,e,n,r=cP,s=uP){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},lP),{width:r.toString(),height:s.toString(),top:a,left:o}),d=yt().toLowerCase();n&&(c=Ib(d)?dP:n),jb(d)&&(e=e||hP,u.scrollbars="yes");const m=Object.entries(u).reduce((f,[x,j])=>`${f}${x}=${j},`,"");if(RR(d)&&c!=="_self")return fP(e||"",c),new bx(null);const p=window.open(e||"",c,m);Z(p,t,"popup-blocked");try{p.focus()}catch{}return new bx(p)}function fP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="__/auth/handler",gP="emulator/auth/handler",yP=encodeURIComponent("fac");async function Nx(t,e,n,r,s,a){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ps,eventId:s};if(e instanceof Ob){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,p]of Object.entries({}))o[m]=p}if(e instanceof Go){const m=e.getScopes().filter(p=>p!=="");m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),d=u?`#${yP}=${encodeURIComponent(u)}`:"";return`${xP(t)}?${Mo(c).slice(1)}${d}`}function xP({config:t}){return t.emulator?Tp(t,gP):`https://${t.authDomain}/${pP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$b,this._completeRedirectFn=$4,this._overrideRedirectResult=U4}async _openPopup(e,n,r,s){var a;er((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await Nx(e,n,r,Sm(),s);return mP(e,o,Ap())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await Nx(e,n,r,Sm(),s);return b4(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(er(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oP(e),r=new W4(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sh,{type:sh},s=>{var a;const o=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[sh];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Tb()||kp()}}const wP=vP;var Ex="@firebase/auth",jx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NP(t){fn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pb(t)},d=new VR(r,s,a,u);return GR(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new Zt("auth-internal",e=>{const n=Yr(e.getProvider("auth").getImmediate());return(r=>new _P(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rt(Ex,jx,bP(t)),Rt(Ex,jx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=5*60,jP=O1("authIdTokenMaxAge")||EP;let Tx=null;const TP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jP)return;const s=n==null?void 0:n.token;Tx!==s&&(Tx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Yb(t=ju()){const e=Hr(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HR(t,{popupRedirectResolver:wP,persistence:[A4,v4,$b]}),r=O1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=TP(a.toString());f4(n,o,()=>o(n.currentUser)),m4(n,c=>o(c))}}const s=P1("auth");return s&&KR(n,`http://${s}`),n}function IP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Tn("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",IP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NP("Browser");const Jb="@firebase/installations",Pp="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=1e4,Zb=`w:${Pp}`,eN="FIS_v2",kP="https://firebaseinstallations.googleapis.com/v1",SP=60*60*1e3,CP="installations",AP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},js=new Rs(CP,AP,RP);function tN(t){return t instanceof tn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN({projectId:t}){return`${kP}/projects/${t}/installations`}function rN(t){return{token:t.token,requestStatus:2,expiresIn:DP(t.expiresIn),creationTime:Date.now()}}async function sN(t,e){const r=(await e.json()).error;return js.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function iN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function PP(t,{refreshToken:e}){const n=iN(t);return n.append("Authorization",LP(e)),n}async function aN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function DP(t){return Number(t.replace("s","000"))}function LP(t){return`${eN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nN(t),s=iN(t),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:eN,appId:t.appId,sdkVersion:Zb},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await aN(()=>fetch(r,c));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:rN(d.authToken)}}else throw await sN("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^[cdef][\w-]{21}$/,Rm="";function FP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=UP(t);return VP.test(n)?n:Rm}catch{return Rm}}function UP(t){return MP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function cN(t,e){const n=Wu(t);uN(n,e),zP(n,e)}function uN(t,e){const n=lN.get(t);if(n)for(const r of n)r(e)}function zP(t,e){const n=BP();n&&n.postMessage({key:t,fid:e}),$P()}let us=null;function BP(){return!us&&"BroadcastChannel"in self&&(us=new BroadcastChannel("[Firebase] FID Change"),us.onmessage=t=>{uN(t.data.key,t.data.fid)}),us}function $P(){lN.size===0&&us&&(us.close(),us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="firebase-installations-database",WP=1,Ts="firebase-installations-store";let ih=null;function Dp(){return ih||(ih=$1(qP,WP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ts)}}})),ih}async function eu(t,e){const n=Wu(t),s=(await Dp()).transaction(Ts,"readwrite"),a=s.objectStore(Ts),o=await a.get(n);return await a.put(e,n),await s.done,(!o||o.fid!==e.fid)&&cN(t,e.fid),e}async function dN(t){const e=Wu(t),r=(await Dp()).transaction(Ts,"readwrite");await r.objectStore(Ts).delete(e),await r.done}async function Hu(t,e){const n=Wu(t),s=(await Dp()).transaction(Ts,"readwrite"),a=s.objectStore(Ts),o=await a.get(n),c=e(o);return c===void 0?await a.delete(n):await a.put(c,n),await s.done,c&&(!o||o.fid!==c.fid)&&cN(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(t){let e;const n=await Hu(t.appConfig,r=>{const s=HP(r),a=GP(t,s);return e=a.registrationPromise,a.installationEntry});return n.fid===Rm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function HP(t){const e=t||{fid:FP(),registrationStatus:0};return hN(e)}function GP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(js.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QP(t)}:{installationEntry:e}}async function KP(t,e){try{const n=await OP(t,e);return eu(t.appConfig,n)}catch(n){throw tN(n)&&n.customData.serverCode===409?await dN(t.appConfig):await eu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QP(t){let e=await Ix(t.appConfig);for(;e.registrationStatus===1;)await oN(100),e=await Ix(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lp(t);return r||n}return e}function Ix(t){return Hu(t,e=>{if(!e)throw js.create("installation-not-found");return hN(e)})}function hN(t){return YP(t)?{fid:t.fid,registrationStatus:0}:t}function YP(t){return t.registrationStatus===1&&t.registrationTime+Xb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP({appConfig:t,heartbeatServiceProvider:e},n){const r=XP(t,n),s=PP(t,n),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:Zb,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(o)},u=await aN(()=>fetch(r,c));if(u.ok){const d=await u.json();return rN(d)}else throw await sN("Generate Auth Token",u)}function XP(t,{fid:e}){return`${nN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(t,e=!1){let n;const r=await Hu(t.appConfig,a=>{if(!mN(a))throw js.create("not-registered");const o=a.authToken;if(!e&&tD(o))return a;if(o.requestStatus===1)return n=ZP(t,e),a;{if(!navigator.onLine)throw js.create("app-offline");const c=rD(a);return n=eD(t,c),c}});return n?await n:r.authToken}async function ZP(t,e){let n=await kx(t.appConfig);for(;n.authToken.requestStatus===1;)await oN(100),n=await kx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Op(t,e):r}function kx(t){return Hu(t,e=>{if(!mN(e))throw js.create("not-registered");const n=e.authToken;return sD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function eD(t,e){try{const n=await JP(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await eu(t.appConfig,r),n}catch(n){if(tN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await eu(t.appConfig,r)}throw n}}function mN(t){return t!==void 0&&t.registrationStatus===2}function tD(t){return t.requestStatus===2&&!nD(t)}function nD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SP}function rD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function sD(t){return t.requestStatus===1&&t.requestTime+Xb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Lp(e);return r?r.catch(console.error):Op(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e=!1){const n=t;return await oD(n),(await Op(n,e)).token}async function oD(t){const{registrationPromise:e}=await Lp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){if(!t||!t.options)throw ah("App Configuration");if(!t.name)throw ah("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ah(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ah(t){return js.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="installations",cD="installations-internal",uD=t=>{const e=t.getProvider("app").getImmediate(),n=lD(e),r=Hr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},dD=t=>{const e=t.getProvider("app").getImmediate(),n=Hr(e,fN).getImmediate();return{getId:()=>iD(n),getToken:s=>aD(n,s)}};function hD(){fn(new Zt(fN,uD,"PUBLIC")),fn(new Zt(cD,dD,"PRIVATE"))}hD();Rt(Jb,Pp);Rt(Jb,Pp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu="analytics",mD="firebase_id",fD="origin",pD=60*1e3,gD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Eu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Rs("analytics","Analytics",yD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){if(!t.startsWith(Mp)){const e=$t.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function pN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function wD(t,e){const n=vD("firebase-js-sdk-policy",{createScriptURL:xD}),r=document.createElement("script"),s=`${Mp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function _D(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function bD(t,e,n,r,s,a){const o=r[s];try{if(o)await e[o];else{const u=(await pN(n)).find(d=>d.measurementId===s);u&&await e[u.appId]}}catch(c){Dt.error(c)}t("config",s,a)}async function ND(t,e,n,r,s){try{let a=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const c=await pN(n);for(const u of o){const d=c.find(p=>p.measurementId===u),m=d&&e[d.appId];if(m)a.push(m);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,s||{})}catch(a){Dt.error(a)}}function ED(t,e,n,r){async function s(a,...o){try{if(a==="event"){const[c,u]=o;await ND(t,e,n,c,u)}else if(a==="config"){const[c,u]=o;await bD(t,e,n,r,c,u)}else if(a==="consent"){const[c,u]=o;t("consent",c,u)}else if(a==="get"){const[c,u,d]=o;t("get",c,u,d)}else if(a==="set"){const[c]=o;t("set",c)}else t(a,...o)}catch(c){Dt.error(c)}}return s}function jD(t,e,n,r,s){let a=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=ED(a,t,e,n),{gtagCore:a,wrappedGtag:window[s]}}function TD(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Mp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=30,kD=1e3;class SD{constructor(e={},n=kD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gN=new SD;function CD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AD(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:CD(r)},a=gD.replace("{app-id}",n),o=await fetch(a,s);if(o.status!==200&&o.status!==304){let c="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(c=u.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function RD(t,e=gN,n){const{appId:r,apiKey:s,measurementId:a}=t.options;if(!r)throw $t.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw $t.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new LD;return setTimeout(async()=>{c.abort()},pD),yN({appId:r,apiKey:s,measurementId:a},o,c,e)}async function yN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=gN){var a;const{appId:o,measurementId:c}=t;try{await PD(r,e)}catch(u){if(c)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:c};throw u}try{const u=await AD(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!DD(d)){if(s.deleteThrottleMetadata(o),c)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:c};throw u}const m=Number((a=d==null?void 0:d.customData)===null||a===void 0?void 0:a.httpStatus)===503?my(n,s.intervalMillis,ID):my(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(o,p),Dt.debug(`Calling attemptFetch again in ${m} millis`),yN(t,p,r,s)}}function PD(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(a),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DD(t){if(!(t instanceof tn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class LD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function OD(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(){if(F1())try{await U1()}catch(t){return Dt.warn($t.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VD(t,e,n,r,s,a,o){var c;const u=RD(t);u.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Dt.error(x)),e.push(u);const d=MD().then(x=>{if(x)return r.getId()}),[m,p]=await Promise.all([u,d]);TD(a)||wD(a,m.measurementId),s("js",new Date);const f=(c=o==null?void 0:o.config)!==null&&c!==void 0?c:{};return f[fD]="firebase",f.update=!0,p!=null&&(f[mD]=p),s("config",m.measurementId,f),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.app=e}_delete(){return delete Ga[this.app.options.appId],Promise.resolve()}}let Ga={},Sx=[];const Cx={};let oh="dataLayer",UD="gtag",Ax,xN,Rx=!1;function zD(){const t=[];if(V1()&&t.push("This is a browser extension environment."),$I()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}function BD(t,e,n){zD();const r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(Ga[r]!=null)throw $t.create("already-exists",{id:r});if(!Rx){_D(oh);const{wrappedGtag:a,gtagCore:o}=jD(Ga,Sx,Cx,oh,UD);xN=a,Ax=o,Rx=!0}return Ga[r]=VD(t,Sx,Cx,e,Ax,oh,n),new FD(t)}function $D(t=ju()){t=_e(t);const e=Hr(t,tu);return e.isInitialized()?e.getImmediate():qD(t)}function qD(t,e={}){const n=Hr(t,tu);if(n.isInitialized()){const s=n.getImmediate();if(go(e,n.getOptions()))return s;throw $t.create("already-initialized")}return n.initialize({options:e})}function WD(t,e,n,r){t=_e(t),OD(xN,Ga[t.app.options.appId],e,n,r).catch(s=>Dt.error(s))}const Px="@firebase/analytics",Dx="0.10.8";function HD(){fn(new Zt(tu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return BD(r,s,n)},"PUBLIC")),fn(new Zt("analytics-internal",t,"PRIVATE")),Rt(Px,Dx),Rt(Px,Dx,"esm2017");function t(e){try{const n=e.getProvider(tu).getImmediate();return{logEvent:(r,s,a)=>WD(n,r,s,a)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}HD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebasestorage.googleapis.com",wN="storageBucket",GD=2*60*1e3,KD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le extends tn{constructor(e,n,r=0){super(lh(e),`Firebase Storage: ${n} (${lh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Le.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var De;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(De||(De={}));function lh(t){return"storage/"+t}function Vp(){const t="An unknown error occurred, please check the error payload for server response.";return new Le(De.UNKNOWN,t)}function QD(t){return new Le(De.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function YD(t){return new Le(De.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Le(De.UNAUTHENTICATED,t)}function XD(){return new Le(De.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZD(t){return new Le(De.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e5(){return new Le(De.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t5(){return new Le(De.CANCELED,"User canceled the upload/download.")}function n5(t){return new Le(De.INVALID_URL,"Invalid URL '"+t+"'.")}function r5(t){return new Le(De.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function s5(){return new Le(De.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wN+"' property when initializing the app?")}function i5(){return new Le(De.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a5(){return new Le(De.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function o5(t){return new Le(De.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pm(t){return new Le(De.INVALID_ARGUMENT,t)}function _N(){return new Le(De.APP_DELETED,"The Firebase app was deleted.")}function l5(t){return new Le(De.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ka(t,e){return new Le(De.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _a(t){throw new Le(De.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zt.makeFromUrl(e,n)}catch{return new zt(e,"")}if(r.path==="")return r;throw r5(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const m="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",x=new RegExp(`^https?://${p}/${m}/b/${s}/o${f}`,"i"),j={bucket:1,path:3},b=n===vN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",T=new RegExp(`^https?://${b}/${s}/${C}`,"i"),I=[{regex:c,indices:u,postModify:a},{regex:x,indices:j,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<I.length;k++){const D=I[k],L=D.regex.exec(e);if(L){const E=L[D.indices.bucket];let w=L[D.indices.path];w||(w=""),r=new zt(E,w),D.postModify(r);break}}if(r==null)throw n5(e);return r}}class c5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e,n){let r=1,s=null,a=null,o=!1,c=0;function u(){return c===2}let d=!1;function m(...C){d||(d=!0,e.apply(null,C))}function p(C){s=setTimeout(()=>{s=null,t(x,u())},C)}function f(){a&&clearTimeout(a)}function x(C,...T){if(d){f();return}if(C){f(),m.call(null,C,...T);return}if(u()||o){f(),m.call(null,C,...T);return}r<64&&(r*=2);let I;c===1?(c=2,I=0):I=(r+Math.random())*1e3,p(I)}let j=!1;function b(C){j||(j=!0,f(),!d&&(s!==null?(C||(c=2),clearTimeout(s),p(0)):C||(c=1)))}return p(0),a=setTimeout(()=>{o=!0,b(!0)},n),b}function d5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t){return t!==void 0}function m5(t){return typeof t=="object"&&!Array.isArray(t)}function Fp(t){return typeof t=="string"||t instanceof String}function Lx(t){return Up()&&t instanceof Blob}function Up(){return typeof Blob<"u"}function Ox(t,e,n,r){if(r<e)throw Pm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Pm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bN(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fs||(fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,s,a,o,c,u,d,m,p,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=m,this.connectionFactory_=p,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,j)=>{this.resolve_=x,this.reject_=j,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ml(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===fs.NO_ERROR,u=a.getStatus();if(!c||f5(u,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===fs.ABORT;r(!1,new Ml(!1,null,m));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Ml(d,a))})},n=(r,s)=>{const a=this.resolve_,o=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());h5(u)?a(u):a()}catch(u){o(u)}else if(c!==null){const u=Vp();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(s.canceled){const u=this.appDelete_?_N():t5();o(u)}else{const u=e5();o(u)}};this.canceled_?n(!1,new Ml(!1,null,!0)):this.backoffId_=u5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ml{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function v5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w5(t,e,n,r,s,a,o=!0){const c=bN(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return x5(d,e),g5(d,n),y5(d,a),v5(d,r),new p5(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function b5(...t){const e=_5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Up())return new Blob(t);throw new Le(De.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function N5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){if(typeof atob>"u")throw o5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ch{constructor(e,n){this.data=e,this.contentType=n||null}}function j5(t,e){switch(t){case _n.RAW:return new ch(NN(e));case _n.BASE64:case _n.BASE64URL:return new ch(EN(t,e));case _n.DATA_URL:return new ch(I5(e),k5(e))}throw Vp()}function NN(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function T5(t){let e;try{e=decodeURIComponent(t)}catch{throw Ka(_n.DATA_URL,"Malformed data URL.")}return NN(e)}function EN(t,e){switch(t){case _n.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Ka(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case _n.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Ka(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=E5(e)}catch(s){throw s.message.includes("polyfill")?s:Ka(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class jN{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ka(_n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=S5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function I5(t){const e=new jN(t);return e.base64?EN(_n.BASE64,e.rest):T5(e.rest)}function k5(t){return new jN(t).contentType}function S5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){let r=0,s="";Lx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Lx(this.data_)){const r=this.data_,s=N5(r,e,n);return s===null?null:new vr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new vr(r,!0)}}static getBlob(...e){if(Up()){const n=e.map(r=>r instanceof vr?r.data_:r);return new vr(b5.apply(null,n))}else{const n=e.map(o=>Fp(o)?j5(_n.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)s[a++]=o[c]}),new vr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){let e;try{e=JSON.parse(t)}catch{return null}return m5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A5(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function IN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(t,e){return e}class wt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||R5}}let Vl=null;function P5(t){return!Fp(t)||t.length<2?t:IN(t)}function kN(){if(Vl)return Vl;const t=[];t.push(new wt("bucket")),t.push(new wt("generation")),t.push(new wt("metageneration")),t.push(new wt("name","fullPath",!0));function e(a,o){return P5(o)}const n=new wt("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const s=new wt("size");return s.xform=r,t.push(s),t.push(new wt("timeCreated")),t.push(new wt("updated")),t.push(new wt("md5Hash",null,!0)),t.push(new wt("cacheControl",null,!0)),t.push(new wt("contentDisposition",null,!0)),t.push(new wt("contentEncoding",null,!0)),t.push(new wt("contentLanguage",null,!0)),t.push(new wt("contentType",null,!0)),t.push(new wt("metadata","customMetadata",!0)),Vl=t,Vl}function D5(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new zt(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function L5(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return D5(r,t),r}function SN(t,e,n){const r=TN(e);return r===null?null:L5(t,r,n)}function O5(t,e,n,r){const s=TN(e);if(s===null||!Fp(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(d=>{const m=t.bucket,p=t.fullPath,f="/b/"+o(m)+"/o/"+o(p),x=Gu(f,n,r),j=bN({alt:"media",token:d});return x+j})[0]}function M5(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class zp{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){if(!t)throw Vp()}function V5(t,e){function n(r,s){const a=SN(t,s,e);return CN(a!==null),a}return n}function F5(t,e){function n(r,s){const a=SN(t,s,e);return CN(a!==null),O5(a,s,t.host,t._protocol)}return n}function AN(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=XD():s=JD():n.getStatus()===402?s=YD(t.bucket):n.getStatus()===403?s=ZD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function RN(t){const e=AN(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=QD(t.path)),a.serverResponse=s.serverResponse,a}return n}function U5(t,e,n){const r=e.fullServerUrl(),s=Gu(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new zp(s,a,F5(t,n),o);return c.errorHandler=RN(e),c}function z5(t,e){const n=e.fullServerUrl(),r=Gu(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function o(u,d){}const c=new zp(r,s,o,a);return c.successCodes=[200,204],c.errorHandler=RN(e),c}function B5(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $5(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=B5(null,e)),r}function q5(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let I="";for(let k=0;k<2;k++)I=I+Math.random().toString().slice(2);return I}const u=c();o["Content-Type"]="multipart/related; boundary="+u;const d=$5(e,r,s),m=M5(d,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+u+"--",x=vr.getBlob(p,r,f);if(x===null)throw i5();const j={name:d.fullPath},b=Gu(a,t.host,t._protocol),C="POST",T=t.maxUploadRetryTime,_=new zp(b,C,V5(t,n),T);return _.urlParams=j,_.headers=o,_.body=x.uploadData(),_.errorHandler=AN(e),_}class W5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw _a("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _a("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _a("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _a("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _a("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class H5 extends W5{initXhr(){this.xhr_.responseType="text"}}function Bp(){return new H5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this._service=e,n instanceof zt?this._location=n:this._location=zt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Is(e,n)}get root(){const e=new zt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IN(this._location.path)}get storage(){return this._service}get parent(){const e=C5(this._location.path);if(e===null)return null;const n=new zt(this._location.bucket,e);return new Is(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l5(e)}}function G5(t,e,n){t._throwIfRoot("uploadBytes");const r=q5(t.storage,t._location,kN(),new vr(e,!0),n);return t.storage.makeRequestWithTokens(r,Bp).then(s=>({metadata:s,ref:t}))}function K5(t){t._throwIfRoot("getDownloadURL");const e=U5(t.storage,t._location,kN());return t.storage.makeRequestWithTokens(e,Bp).then(n=>{if(n===null)throw a5();return n})}function Q5(t){t._throwIfRoot("deleteObject");const e=z5(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Bp)}function Y5(t,e){const n=A5(t._location.path,e),r=new zt(t._location.bucket,n);return new Is(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t){return/^[A-Za-z]+:\/\//.test(t)}function X5(t,e){return new Is(t,e)}function PN(t,e){if(t instanceof $p){const n=t;if(n._bucket==null)throw s5();const r=new Is(n,n._bucket);return e!=null?PN(r,e):r}else return e!==void 0?Y5(t,e):t}function Z5(t,e){if(e&&J5(e)){if(t instanceof $p)return X5(t,e);throw Pm("To use ref(service, url), the first argument must be a Storage instance.")}else return PN(t,e)}function Mx(t,e){const n=e==null?void 0:e[wN];return n==null?null:zt.makeFromBucketSpec(n,t)}function e3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:M1(s,t.app.options.projectId))}class $p{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=vN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GD,this._maxUploadRetryTime=KD,this._requests=new Set,s!=null?this._bucket=zt.makeFromBucketSpec(s,this._host):this._bucket=Mx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zt.makeFromBucketSpec(this._url,e):this._bucket=Mx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Is(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new c5(_N());{const o=w5(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Vx="@firebase/storage",Fx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="storage";function t3(t,e,n){return t=_e(t),G5(t,e,n)}function n3(t){return t=_e(t),K5(t)}function r3(t){return t=_e(t),Q5(t)}function LN(t,e){return t=_e(t),Z5(t,e)}function s3(t=ju(),e){t=_e(t);const r=Hr(t,DN).getImmediate({identifier:e}),s=D1("storage");return s&&i3(r,...s),r}function i3(t,e,n,r={}){e3(t,e,n,r)}function a3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $p(n,r,s,e,Ps)}function o3(){fn(new Zt(DN,a3,"PUBLIC").setMultipleInstances(!0)),Rt(Vx,Fx,""),Rt(Vx,Fx,"esm2017")}o3();const l3={apiKey:"AIzaSyDFYAxry4pC8b2urTH7EgWfkeTI5r9ySAg",authDomain:"synapseai-a1290.firebaseapp.com",projectId:"synapseai-a1290",storageBucket:"synapseai-a1290.appspot.com",messagingSenderId:"65881787673",appId:"1:65881787673:web:4724020c42141e13a6c988",measurementId:"G-K058WQ2XC3"},Ku=q1(l3),Ne=QA(Ku),Fe=Yb(Ku);$D(Ku);const ON=s3(Ku),Cn=kI(t=>({user:null,loading:!1,error:null,signIn:async(e,n)=>{try{t({loading:!0,error:null}),await h4(Fe,e,n)}catch(r){const s=r.code;let a="Une erreur s'est produite lors de la connexion.";switch(s){case"auth/invalid-email":a="L'adresse email est mal formate.";break;case"auth/user-disabled":a="Ce compte utilisateur a t dsactiv.";break;case"auth/user-not-found":a="Aucun compte ne correspond  cette adresse email.";break;case"auth/wrong-password":a="Le mot de passe est incorrect.";break;case"auth/too-many-requests":a="Trop de tentatives de connexion. Veuillez ressayer plus tard.";break;case"auth/network-request-failed":a="Problme de connexion rseau. Vrifiez votre connexion internet.";break}t({error:a})}finally{t({loading:!1})}},signUp:async(e,n)=>{try{t({loading:!0,error:null}),await d4(Fe,e,n)}catch(r){const s=r.code;let a="Une erreur s'est produite lors de l'inscription.";switch(s){case"auth/email-already-in-use":a="Cette adresse email est dj utilise par un autre compte.";break;case"auth/invalid-email":a="L'adresse email est mal formate.";break;case"auth/operation-not-allowed":a="L'inscription par email/mot de passe n'est pas active.";break;case"auth/weak-password":a="Le mot de passe est trop faible. Utilisez au moins 6 caractres.";break;case"auth/network-request-failed":a="Problme de connexion rseau. Vrifiez votre connexion internet.";break}t({error:a})}finally{t({loading:!1})}},signOut:async()=>{try{t({loading:!0,error:null}),await g4(Fe)}catch(e){t({error:e.message})}finally{t({loading:!1})}}}));p4(Fe,t=>{Cn.setState({user:t,loading:!1})});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,...d},m)=>A.createElement("svg",{ref:m,...c3,width:s,height:s,stroke:r,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${u3(t)}`,c].join(" "),...d},[...e.map(([p,f])=>A.createElement(p,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=$("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=$("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=$("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=$("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=$("BarChart4",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=$("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=$("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=$("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=$("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=$("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=$("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=$("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=$("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=$("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=$("FileBarChart",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=$("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=$("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=$("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=$("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=$("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=$("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=$("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=$("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=$("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=$("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=$("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=$("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=$("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=$("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=$("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=$("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=$("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=$("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=$("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=$("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=$("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=$("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),B3=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,a]=A.useState(""),{signIn:o,loading:c,error:u,user:d}=Cn(),m=Wi();A.useEffect(()=>{d&&m("/dashboard")},[d,m]);const p=b=>{const T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b);return a(T?"":"Veuillez entrer une adresse email valide"),T},f=async b=>{b.preventDefault(),p(t)&&await o(t,n)},[x,j]=A.useState(!1);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-card w-full max-w-md animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mb-4",children:i.jsx(qx,{className:"w-8 h-8 text-primary-600"})}),i.jsx("h1",{className:"text-2xl font-bold font-heading text-gray-800",children:"Connexion  Oya"}),i.jsx("p",{className:"text-gray-500 mt-2 text-center",children:"La plateforme RH innovante"})]}),u&&i.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex items-start",role:"alert","aria-live":"assertive",children:[i.jsx(tr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),i.jsx("span",{children:u})]}),i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Co,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",type:"email",value:t,onChange:b=>{e(b.target.value),s&&p(b.target.value)},onBlur:()=>p(t),className:`input pl-10 py-2.5 w-full rounded-md border ${s?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"votre@email.com","aria-invalid":!!s,"aria-describedby":s?"email-error":void 0,required:!0})]}),s&&i.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600",children:s})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",type:x?"text":"password",value:n,onChange:b=>r(b.target.value),className:"input pl-10 pr-10 py-2.5 w-full rounded-md border border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-200 focus:ring-opacity-50",placeholder:"",required:!0,"aria-describedby":"password-toggle"}),i.jsx("button",{id:"password-toggle",type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>j(!x),"aria-label":x?"Masquer le mot de passe":"Afficher le mot de passe",children:x?i.jsx(Om,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):i.jsx(So,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),i.jsx("div",{className:"flex justify-end mt-1",children:i.jsx(je,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Mot de passe oubli ?"})})]}),i.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary w-full py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-primary-500 hover:bg-primary-600 text-white","aria-busy":c,children:c?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connexion en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qx,{className:"h-5 w-5 mr-2"}),"Se connecter"]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Vous n'avez pas de compte ? ",i.jsx(je,{to:"/signup",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Crer un compte"})]})})]})]})})},$3=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,a]=A.useState(""),[o,c]=A.useState(""),{signUp:u,loading:d,error:m,user:p}=Cn(),[f,x]=A.useState({}),j=Wi(),b={minLength:n.length>=8,hasUppercase:/[A-Z]/.test(n),hasLowercase:/[a-z]/.test(n),hasNumber:/[0-9]/.test(n),hasSpecial:/[^A-Za-z0-9]/.test(n)};A.useEffect(()=>{p&&j("/dashboard")},[p,j]);const C=()=>{const L={};o.trim()?o.trim().length<2&&(L.name="Le nom doit contenir au moins 2 caractres"):L.name="Le nom est requis";const E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.trim()?E.test(t)||(L.email="Veuillez entrer une adresse email valide"):L.email="L'email est requis",n?n.length<8?L.password="Le mot de passe doit contenir au moins 8 caractres":b.hasUppercase&&b.hasLowercase&&b.hasNumber||(L.password="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):L.password="Le mot de passe est requis",n!==s&&(L.confirmPassword="Les mots de passe ne correspondent pas"),x(L),Object.keys(L).length===0},T=async L=>{L.preventDefault(),C()&&await u(t,n)},[_,I]=A.useState(!1),[k,D]=A.useState(!1);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-card w-full max-w-md animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mb-4",children:i.jsx(Mm,{className:"w-8 h-8 text-primary-600"})}),i.jsx("h1",{className:"text-2xl font-bold font-heading text-gray-800",children:"Crer un compte Oya"}),i.jsx("p",{className:"text-gray-500 mt-2 text-center",children:"Rejoignez la plateforme RH innovante"})]}),m&&i.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex items-start",role:"alert","aria-live":"assertive",children:[i.jsx(tr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),i.jsx("span",{children:m})]}),i.jsxs("form",{onSubmit:T,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom complet"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Fs,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"name",type:"text",value:o,onChange:L=>{c(L.target.value),f.name&&C()},onBlur:C,className:`input pl-10 py-2.5 w-full rounded-md border ${f.name?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"Votre nom complet","aria-invalid":!!f.name,"aria-describedby":f.name?"name-error":void 0,required:!0})]}),f.name&&i.jsx("p",{id:"name-error",className:"mt-1 text-sm text-red-600",children:f.name})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Co,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",type:"email",value:t,onChange:L=>{e(L.target.value),f.email&&C()},onBlur:C,className:`input pl-10 py-2.5 w-full rounded-md border ${f.email?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"votre@email.com","aria-invalid":!!f.email,"aria-describedby":f.email?"email-error":void 0,required:!0})]}),f.email&&i.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600",children:f.email})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",type:_?"text":"password",value:n,onChange:L=>{r(L.target.value),f.password&&C()},onBlur:C,className:`input pl-10 pr-10 py-2.5 w-full rounded-md border ${f.password?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"","aria-invalid":!!f.password,"aria-describedby":"password-criteria password-error",required:!0}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>I(!_),"aria-label":_?"Masquer le mot de passe":"Afficher le mot de passe",children:_?i.jsx(Om,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):i.jsx(So,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),f.password&&i.jsx("p",{id:"password-error",className:"mt-1 text-sm text-red-600",children:f.password}),i.jsxs("div",{id:"password-criteria",className:"mt-2 space-y-1",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Le mot de passe doit contenir :"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:`text-xs flex items-center ${b.minLength?"text-green-600":"text-gray-500"}`,children:[b.minLength?i.jsx(Pe,{className:"h-3 w-3 mr-1"}):i.jsx("span",{className:"h-3 w-3 mr-1 rounded-full border border-gray-300"}),"Au moins 8 caractres"]}),i.jsxs("div",{className:`text-xs flex items-center ${b.hasUppercase?"text-green-600":"text-gray-500"}`,children:[b.hasUppercase?i.jsx(Pe,{className:"h-3 w-3 mr-1"}):i.jsx("span",{className:"h-3 w-3 mr-1 rounded-full border border-gray-300"}),"Une majuscule"]}),i.jsxs("div",{className:`text-xs flex items-center ${b.hasLowercase?"text-green-600":"text-gray-500"}`,children:[b.hasLowercase?i.jsx(Pe,{className:"h-3 w-3 mr-1"}):i.jsx("span",{className:"h-3 w-3 mr-1 rounded-full border border-gray-300"}),"Une minuscule"]}),i.jsxs("div",{className:`text-xs flex items-center ${b.hasNumber?"text-green-600":"text-gray-500"}`,children:[b.hasNumber?i.jsx(Pe,{className:"h-3 w-3 mr-1"}):i.jsx("span",{className:"h-3 w-3 mr-1 rounded-full border border-gray-300"}),"Un chiffre"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"confirmPassword",type:k?"text":"password",value:s,onChange:L=>{a(L.target.value),f.confirmPassword&&C()},onBlur:C,className:`input pl-10 pr-10 py-2.5 w-full rounded-md border ${f.confirmPassword?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"","aria-invalid":!!f.confirmPassword,"aria-describedby":f.confirmPassword?"confirm-password-error":void 0,required:!0}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>D(!k),"aria-label":k?"Masquer le mot de passe":"Afficher le mot de passe",children:k?i.jsx(Om,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):i.jsx(So,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),f.confirmPassword&&i.jsx("p",{id:"confirm-password-error",className:"mt-1 text-sm text-red-600",children:f.confirmPassword})]}),i.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary w-full py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-primary-500 hover:bg-primary-600 text-white","aria-busy":d,children:d?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Inscription en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Mm,{className:"h-5 w-5 mr-2"}),"S'inscrire"]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Vous avez dj un compte ? ",i.jsx(je,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Se connecter"})]})})]})]})})},q3=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[s,a]=A.useState(null),[o,c]=A.useState(!1),[u,d]=A.useState(""),m=f=>{const j=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f);return d(j?"":"Veuillez entrer une adresse email valide"),j},p=async f=>{if(f.preventDefault(),!!m(t)){r(!0),a(null);try{await u4(Fe,t),c(!0)}catch(x){const j=x.code;let b="Une erreur s'est produite lors de l'envoi de l'email de rinitialisation.";switch(j){case"auth/invalid-email":b="L'adresse email est mal formate.";break;case"auth/user-not-found":b="Aucun compte ne correspond  cette adresse email.";break;case"auth/too-many-requests":b="Trop de tentatives. Veuillez ressayer plus tard.";break;case"auth/network-request-failed":b="Problme de connexion rseau. Vrifiez votre connexion internet.";break}a(b)}finally{r(!1)}}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-card w-full max-w-md animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mb-4",children:i.jsx(Co,{className:"w-8 h-8 text-primary-600"})}),i.jsx("h1",{className:"text-2xl font-bold font-heading text-gray-800",children:"Mot de passe oubli"}),i.jsx("p",{className:"text-gray-500 mt-2 text-center",children:"Nous vous enverrons un lien pour rinitialiser votre mot de passe"})]}),s&&i.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6 flex items-start",role:"alert","aria-live":"assertive",children:[i.jsx(tr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),i.jsx("span",{children:s})]}),o?i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"bg-green-50 text-green-600 p-4 rounded-lg mb-6 flex items-start",role:"alert","aria-live":"assertive",children:[i.jsx(Xi,{className:"h-5 w-5 mr-2 flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("p",{children:["Un email de rinitialisation a t envoy  ",i.jsx("strong",{children:t}),"."]}),i.jsx("p",{className:"mt-2",children:"Vrifiez votre bote de rception et suivez les instructions pour rinitialiser votre mot de passe."})]})]}),i.jsxs(je,{to:"/login",className:"btn btn-primary py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center bg-primary-500 hover:bg-primary-600 text-white mx-auto","aria-label":"Retour  la page de connexion",children:[i.jsx(zr,{className:"h-5 w-5 mr-2"}),"Retour  la connexion"]})]}):i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Co,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",type:"email",value:t,onChange:f=>{e(f.target.value),u&&m(f.target.value)},onBlur:()=>m(t),className:`input pl-10 py-2.5 w-full rounded-md border ${u?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-primary-500 focus:ring-primary-200"} shadow-sm focus:ring focus:ring-opacity-50`,placeholder:"votre@email.com","aria-invalid":!!u,"aria-describedby":u?"email-error":void 0,required:!0})]}),u&&i.jsx("p",{id:"email-error",className:"mt-1 text-sm text-red-600",children:u})]}),i.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary w-full py-2.5 px-4 rounded-md transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed bg-primary-500 hover:bg-primary-600 text-white","aria-busy":n,children:n?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):"Envoyer le lien de rinitialisation"}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(je,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center justify-center",children:[i.jsx(zr,{className:"h-4 w-4 mr-1"}),"Retour  la connexion"]})})]})]})})},BN=Ke(Ne,"missions"),$N=async(t,e)=>{if(!e)throw new Error("Utilisateur non authentifi");try{const n={...t,status:"open",createdBy:e,createdAt:en()};return(await Qr(BN,n)).id}catch(n){throw console.error("Erreur lors de la cration de la mission:",n),n}},Vm=async t=>{if(!t)throw new Error("Utilisateur non authentifi");try{const e=ln(BN,Vt("createdBy","==",t));return(await cn(e)).docs.map(r=>{var a,o,c;const s=r.data();return{id:r.id,...s,startDate:(a=s.startDate)==null?void 0:a.toDate(),endDate:(o=s.endDate)==null?void 0:o.toDate(),createdAt:(c=s.createdAt)==null?void 0:c.toDate()}})}catch(e){throw console.error("Erreur lors de la rcupration des missions:",e),e}},Wx=async t=>new Promise(e=>{setTimeout(()=>{const n=t.name.toLowerCase(),r={title:"Mission extraite du fichier",company:n.includes("acme")?"ACME Corp":"Entreprise Non Identifie",location:n.includes("paris")?"Paris":"Lyon",description:"Description extraite du document. Cette mission ncessite une expertise en dveloppement et en gestion de projet. Le candidat idal possde une exprience significative dans le secteur.",skills:["Dveloppement","Gestion de projet","Communication"],dailyRate:500};e(r)},1500)}),W3="activities",Hx="missions",H3="workers",G3="documents",Gx=async()=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const e=ln(Ke(Ne,H3),Vt("status","==","active")),r=(await cn(e)).size,s=ln(Ke(Ne,Hx),Vt("status","in",["confirmed","pending"]),Vt("date",">=",new Date)),o=(await cn(s)).size;let c=0;const u=ln(Ke(Ne,Hx),Vt("status","==","completed"));c=(await cn(u)).size*8;const m=ln(Ke(Ne,G3),Vt("status","==","pending")),f=(await cn(m)).size,x={workers:r>120?"+4,75%":"-2,30%",missions:o>10?"+1,25%":"-0,75%",hours:c>1e3?"+2,35%":"-1,40%",documents:f>3?"+3,15%":"-1,75%"};return{activeWorkers:r,activeMissions:o,hoursWorked:c,pendingDocuments:f,trends:x}}catch(t){throw console.error("Erreur lors de la rcupration des statistiques:",t),t}},K3=async(t=5)=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const n=ln(Ke(Ne,W3),_p("timestamp","desc"),oR(t));return(await cn(n)).docs.map(s=>{const a=s.data();return{id:s.id,...a,timestamp:a.timestamp instanceof me?a.timestamp.toDate():new Date(a.timestamp)}})}catch(e){throw console.error("Erreur lors de la rcupration des activits rcentes:",e),e}},Q3=async(t=5)=>{var e;try{const r=(e=Yb().currentUser)==null?void 0:e.uid;if(!r)throw new Error("Utilisateur non authentifi");return(await Vm(r)).filter(o=>o.status==="open").sort((o,c)=>o.startDate.getTime()-c.startDate.getTime()).slice(0,t).map(o=>({id:o.id,title:o.title,client:o.company,date:o.startDate,status:o.status==="open"?"pending":o.status==="in-progress"?"confirmed":o.status==="completed"?"completed":"cancelled",workersCount:0,workers:[],createdBy:"",createdAt:new Date}))}catch(n){return console.error("Erreur lors de la rcupration des missions  venir:",n),[{id:"1",title:"Soudeur TIG",client:"Industrie Mtallique SA",date:new Date(Date.now()+864e5),status:"pending",workersCount:2,workers:["worker1","worker2"],createdBy:"admin",createdAt:new Date},{id:"2",title:"Manutentionnaire",client:"Logistique Express",date:new Date(Date.now()+1728e5),status:"confirmed",workersCount:5,workers:["worker3","worker4","worker5","worker6","worker7"],createdBy:"admin",createdAt:new Date},{id:"3",title:"Plombier",client:"SantPlus",date:new Date(Date.now()+2592e5),status:"pending",workersCount:1,workers:["worker8"],createdBy:"admin",createdAt:new Date}].slice(0,t)}},Kx=async()=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");return{labels:["Jan","Fv","Mar","Avr","Mai","Juin","Juil","Aot","Sep","Oct","Nov","Dc"],datasets:[{label:"Missions",data:[35,45,55,48,65,80,87,92,98,110,105,120]},{label:"Intrimaires",data:[40,52,60,70,75,85,95,100,105,115,120,130]}]}}catch(t){throw console.error("Erreur lors de la rcupration des donnes de performance:",t),t}},Y3=async()=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");return[{name:"Industrie",percentage:35,count:42},{name:"BTP",percentage:28,count:33},{name:"Logistique",percentage:18,count:22},{name:"Tertiaire",percentage:12,count:14},{name:"Autres",percentage:7,count:8}]}catch(t){throw console.error("Erreur lors de la rcupration des catgories d'emploi:",t),t}},J3=()=>{A.useState("today");const[t,e]=A.useState("overview"),[n,r]=A.useState(null),[s,a]=A.useState([]),[o,c]=A.useState([]),[u,d]=A.useState(null),[m,p]=A.useState([]),[f,x]=A.useState({stats:!0,activities:!0,missions:!0,chart:!0,categories:!0}),[j,b]=A.useState({stats:null,activities:null,missions:null,chart:null,categories:null});A.useEffect(()=>{(async()=>{try{const k=await Gx();r(k),b(D=>({...D,stats:null}))}catch(k){console.error("Erreur lors du chargement des statistiques:",k),b(D=>({...D,stats:"Impossible de charger les statistiques"}))}finally{x(k=>({...k,stats:!1}))}})()},[]),A.useEffect(()=>{(async()=>{try{const k=await K3(4);a(k),b(D=>({...D,activities:null}))}catch(k){console.error("Erreur lors du chargement des activits:",k),b(D=>({...D,activities:"Impossible de charger les activits rcentes"}))}finally{x(k=>({...k,activities:!1}))}})()},[]),A.useEffect(()=>{(async()=>{try{const k=await Q3(4);c(k),b(D=>({...D,missions:null}))}catch(k){console.error("Erreur lors du chargement des missions:",k),b(D=>({...D,missions:"Impossible de charger les missions  venir"}))}finally{x(k=>({...k,missions:!1}))}})()},[]),A.useEffect(()=>{(async()=>{try{const k=await Kx();d(k),b(D=>({...D,chart:null}))}catch(k){console.error("Erreur lors du chargement des donnes du graphique:",k),b(D=>({...D,chart:"Impossible de charger les donnes du graphique"}))}finally{x(k=>({...k,chart:!1}))}})()},[]),A.useEffect(()=>{(async()=>{try{const k=await Y3();p(k),b(D=>({...D,categories:null}))}catch(k){console.error("Erreur lors du chargement des catgories:",k),b(D=>({...D,categories:"Impossible de charger les catgories d'emploi"}))}finally{x(k=>({...k,categories:!1}))}})()},[]);const C=()=>{const I={primary:{bg:"from-primary-500 to-secondary-500",glow:"from-primary-500/30 to-secondary-500/20",light:"text-primary-500"},secondary:{bg:"from-primary-500 to-primary-600",glow:"from-primary-600/30 to-primary-500/20",light:"text-primary-400"},success:{bg:"from-secondary-500 to-secondary-600",glow:"from-secondary-600/30 to-secondary-500/20",light:"text-secondary-400"},warning:{bg:"from-secondary-500 to-primary-500",glow:"from-secondary-500/30 to-primary-500/20",light:"text-secondary-300"}};if(f.stats)return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map((D,L)=>i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md group transition-all duration-300 h-32",children:[i.jsx("div",{className:"absolute inset-0 bg-dark/50"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-white/10"}),i.jsx("div",{className:"relative p-5 flex items-center justify-center",children:i.jsx(Te,{className:"h-8 w-8 text-primary-500 animate-spin"})})]},L))});if(j.stats)return i.jsxs("div",{className:"bg-primary-500/10 border border-primary-400/20 p-4 rounded-xl text-primary-300",children:[i.jsx("p",{children:j.stats}),i.jsx("button",{className:"mt-2 px-3 py-1 bg-primary-600/30 hover:bg-primary-600/50 rounded text-sm transition-colors",onClick:()=>{x(D=>({...D,stats:!0})),Gx().then(D=>{r(D),b(L=>({...L,stats:null}))}).catch(D=>{b(L=>({...L,stats:"Impossible de charger les statistiques"}))}).finally(()=>{x(D=>({...D,stats:!1}))})},children:"Ressayer"})]});if(!n)return null;const k=[{title:"Candidats identifis",value:n.activeWorkers.toString(),trend:n.trends.workers,trendDirection:n.trends.workers.startsWith("+")?"up":"down",icon:Ao,color:"primary"},{title:"Entretiens programms",value:n.activeMissions.toString(),trend:n.trends.missions,trendDirection:n.trends.missions.startsWith("+")?"up":"down",icon:pt,color:"secondary"},{title:"Score de matching",value:n.hoursWorked.toString()+"%",trend:n.trends.hours,trendDirection:n.trends.hours.startsWith("+")?"up":"down",icon:lc,color:"success"},{title:"Offres envoyes",value:n.pendingDocuments.toString(),trend:n.trends.documents,trendDirection:n.trends.documents.startsWith("+")?"up":"down",icon:rt,color:"warning"}];return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map((D,L)=>{const E=I[D.color];return i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md group transition-all duration-300 hover:scale-[1.02]",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:`absolute -bottom-8 -right-8 h-40 w-40 rounded-full bg-gradient-radial ${E.glow} opacity-20 group-hover:opacity-30 transition-opacity duration-500 blur-xl`}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r ${E.bg}`}),i.jsxs("div",{className:"relative p-5",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${E.bg} shadow-lg`,children:i.jsx(D.icon,{className:"h-5 w-5 text-white"})}),i.jsx("h3",{className:"ml-3 text-sm font-medium text-dark",children:D.title})]}),i.jsx("button",{className:"p-0.5 rounded-md hover:bg-dark/5",children:i.jsx(uh,{className:"h-4 w-4 text-dark/60"})})]}),i.jsxs("div",{className:"flex items-baseline justify-between",children:[i.jsx("span",{className:"text-2xl font-bold text-dark",children:D.value}),i.jsxs("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${D.trendDirection==="up"?"text-emerald-700 bg-emerald-500/10":"text-primary-700 bg-primary-500/10"}`,children:[D.trendDirection==="up"?i.jsx(UN,{className:"h-3 w-3 mr-1"}):i.jsx(z3,{className:"h-3 w-3 mr-1"}),D.trend]})]})]})]},L)})})},T=()=>{if(f.chart)return i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all h-96",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsx("div",{className:"relative p-6 h-full flex items-center justify-center",children:i.jsx(Te,{className:"h-10 w-10 text-primary-500 animate-spin"})})]});if(j.chart)return i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsx("div",{className:"relative p-6",children:i.jsxs("div",{className:"text-primary-500 flex flex-col items-center justify-center p-10",children:[i.jsx(ks,{className:"h-10 w-10 text-primary-500 mb-4"}),i.jsx("p",{children:j.chart}),i.jsx("button",{className:"mt-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 rounded-lg text-white transition-colors",onClick:()=>{x(L=>({...L,chart:!0})),Kx().then(L=>{d(L),b(E=>({...E,chart:null}))}).catch(L=>{b(E=>({...E,chart:"Impossible de charger les donnes du graphique"}))}).finally(()=>{x(L=>({...L,chart:!1}))})},children:"Ressayer"})]})})]});if(!u)return null;const I=u.datasets,k=I.flatMap(L=>L.data),D=Math.max(...k);return i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute -top-20 left-20 w-[500px] h-64 bg-secondary-500/5 rotate-45 filter blur-3xl opacity-20"}),i.jsx("div",{className:"absolute -bottom-20 right-20 w-[300px] h-64 bg-primary-500/5 -rotate-45 filter blur-3xl opacity-20"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Matching IA"}),i.jsx("div",{className:"h-0.5 w-12 bg-primary-500/40 mt-1 rounded-full"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-dark/5 rounded-lg border border-dark/5",children:[i.jsx("span",{className:"text-xs text-dark/70",children:"2024"}),i.jsx(Ss,{className:"h-3.5 w-3.5 text-dark/40"})]}),i.jsx("button",{className:"p-1.5 rounded-lg hover:bg-dark/5 transition",children:i.jsx(uh,{className:"h-4 w-4 text-dark/40"})})]})]}),i.jsx("div",{className:"mb-3 flex items-center space-x-3",children:u.datasets.map((L,E)=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:`h-3 w-3 rounded-full ${E===0?"bg-primary-500/80":"bg-secondary-500/80"}`}),i.jsx("span",{className:"text-xs text-dark/60",children:L.label})]},E))}),i.jsx("div",{className:"h-[260px] flex items-end space-x-2",children:u.labels.map((L,E)=>{const w=I.map(y=>{const N=y.data[E];return Math.round(N/D*100)});return i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("div",{className:"relative h-64 flex",children:w.map((y,N)=>i.jsx("div",{className:`absolute bottom-0 w-full rounded-t-sm transform transition-all duration-500 
                          ${N===0?"bg-gradient-to-t from-primary-500/50 to-primary-500/80 z-10":"bg-gradient-to-t from-secondary-500/50 to-secondary-500/80 z-0 left-0"} 
                          ${N===0?"hover:translate-y-[-5px]":"hover:translate-y-[-3px]"}
                        `,style:{height:`${y}%`,width:N===0?"65%":"100%",left:N===0?"17.5%":"0"},children:i.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 transform -translate-x-1/2 bg-dark text-white text-xs py-1 px-2 rounded pointer-events-none",children:I[N].data[E]})},N))}),i.jsx("div",{className:"text-xs text-center text-dark/60",children:L})]},E)})})]})]})},_=()=>{const I=[{icon:Fs,label:"Nouveau candidat",color:"from-primary-500 to-primary-600"},{icon:lc,label:"Lancer recherche IA",color:"from-secondary-500 to-secondary-600"},{icon:rt,label:"Crer offre",color:"from-primary-400 to-secondary-500"},{icon:Hp,label:"Assistant IA",color:"from-secondary-400 to-primary-500"}];return i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Actions rapides"}),i.jsx("button",{className:"p-1.5 rounded-lg hover:bg-dark/5 transition",children:i.jsx(D3,{className:"h-4 w-4 text-dark/40"})})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:I.map((k,D)=>i.jsxs("button",{className:"group flex flex-col items-center justify-center p-4 rounded-lg border border-dark/5 bg-dark/[0.02] hover:bg-dark/[0.05] transition-all duration-300",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`absolute inset-0 blur-md opacity-40 rounded-full bg-gradient-to-r ${k.color}`}),i.jsx("div",{className:`relative p-3 rounded-full bg-gradient-to-br ${k.color} text-white shadow-lg transform group-hover:scale-110 transition-transform duration-300`,children:i.jsx(k.icon,{className:"h-5 w-5"})})]}),i.jsx("span",{className:"mt-3 text-sm text-dark/80",children:k.label})]},D))})]})]})};return i.jsxs("div",{className:"space-y-8 animate-fade-in text-dark bg-light min-h-screen p-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-primary-500/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob"}),i.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-secondary-500/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-4xl font-heading font-bold text-dark",children:["Tableau de bord ",i.jsx("span",{className:"text-primary-500",children:"IA"})]}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mt-2 rounded-full"}),i.jsx("p",{className:"mt-3 text-dark/60 max-w-2xl",children:"Bienvenue sur votre plateforme de recrutement IA. Consultez vos statistiques en temps rel et grez vos candidats efficacement."})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(An,{className:"h-4 w-4 text-dark/40"})}),i.jsx("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 bg-dark/5 border border-dark/10 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500/50 text-dark text-sm"})]}),i.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-dark/5 rounded-xl border border-dark/10",children:[i.jsx(pt,{className:"h-4 w-4 text-dark/40"}),i.jsxs("select",{className:"bg-transparent border-none text-dark/80 text-sm focus:outline-none focus:ring-0",children:[i.jsx("option",{value:"today",children:"Aujourd'hui"}),i.jsx("option",{value:"week",children:"Cette semaine"}),i.jsx("option",{value:"month",children:"Ce mois-ci"}),i.jsx("option",{value:"year",children:"Cette anne"})]})]}),i.jsx("button",{className:"p-2 bg-dark/5 rounded-xl border border-dark/10 text-dark/40 hover:text-dark transition",children:i.jsx(FN,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"mt-8 flex space-x-1 overflow-x-auto scrollbar-none",children:["overview","workers","missions","analytics"].map(I=>{const k={overview:"Vue d'ensemble",workers:"Candidats",missions:"Offres",analytics:"Analyses"};return i.jsx("button",{className:`px-4 py-2 rounded-lg text-sm transition-all ${t===I?"bg-primary-500 text-white":"text-dark/60 hover:bg-dark/5 hover:text-dark/80"}`,onClick:()=>e(I),children:k[I]},I)})})]}),C(),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[i.jsx("div",{className:"xl:col-span-2",children:T()}),i.jsx("div",{children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md h-full transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Postes recherchs"}),i.jsx("div",{className:"h-0.5 w-12 bg-secondary-500 mt-1 rounded-full"})]}),i.jsx("button",{className:"p-1.5 rounded-lg hover:bg-dark/5 transition",children:i.jsx(uh,{className:"h-4 w-4 text-dark/40"})})]}),i.jsx("div",{className:"space-y-4",children:!f.categories&&!j.categories&&m.length>0?m.map((I,k)=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("span",{className:"text-sm text-dark",children:I.name})}),i.jsxs("span",{className:"text-sm text-dark/60",children:[I.percentage,"%"]})]}),i.jsx("div",{className:"h-2 w-full bg-dark/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-primary-500 to-secondary-500",style:{width:`${I.percentage}%`}})})]},k)):i.jsx("div",{className:"text-center py-10",children:i.jsx("p",{className:"text-dark/40",children:"Chargement des catgories..."})})})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Derniers candidats matchs"}),i.jsx("div",{className:"h-0.5 w-12 bg-primary-500 mt-1 rounded-full"})]}),i.jsxs("div",{className:"text-xs text-primary-500 flex items-center",children:["Voir tous ",i.jsx(Dm,{className:"ml-1 h-3 w-3"})]})]}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(I=>i.jsx("div",{className:"p-3 rounded-lg bg-dark/5 hover:bg-dark/10 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-primary-500/10",children:i.jsx(lc,{className:"h-4 w-4 text-primary-500"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-dark",children:"Dveloppeur Full-Stack"}),i.jsx("div",{className:"text-xs text-dark/60",children:"Score de matching : 95%"})]})]}),i.jsx("span",{className:"text-xs text-primary-500 px-2 py-1 rounded-full bg-primary-500/10",children:"Contact"})]})},I))})]})]}),i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Entretiens programms"}),i.jsx("div",{className:"h-0.5 w-12 bg-secondary-500 mt-1 rounded-full"})]}),i.jsxs("div",{className:"text-xs text-secondary-500 flex items-center",children:["Voir tous ",i.jsx(Dm,{className:"ml-1 h-3 w-3"})]})]}),i.jsx("div",{className:"space-y-3",children:[1,2,3].map(I=>i.jsx("div",{className:"p-3 rounded-lg bg-dark/5 hover:bg-dark/10 transition-colors",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-secondary-500/10",children:i.jsx(pt,{className:"h-4 w-4 text-secondary-500"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-dark",children:"Data Scientist"}),i.jsx("div",{className:"text-xs text-dark/60",children:"Demain  14:00"})]})]}),i.jsx("button",{className:"text-xs bg-secondary-500 text-white px-2 py-1 rounded-full",children:"Prparer"})]})},I))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:_()}),i.jsx("div",{children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all h-full",children:[i.jsx("div",{className:"absolute inset-0 bg-white"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-dark/10"}),i.jsxs("div",{className:"relative p-6",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h2",{className:"text-lg font-bold text-dark",children:"Assistant IA"})}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"bg-primary-500/10 rounded-lg p-4 text-center",children:[i.jsx(zN,{className:"h-10 w-10 text-primary-500 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-dark/80",children:"Votre assistant IA est prt  vous aider dans votre recrutement"}),i.jsx("button",{className:"mt-3 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white rounded-lg text-sm transition-colors",children:"Poser une question"})]})})]})]})})]})]})},X3=({size:t="md",variant:e="dark"})=>{const n={sm:"h-8",md:"h-10",lg:"h-14"},r={light:"text-white",dark:"text-gray-900 dark:text-white",color:"text-transparent"};return i.jsxs("div",{className:`flex items-center ${n[t]}`,children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"absolute -inset-0.5 rounded-full blur-md bg-gradient-to-r from-primary-400 via-secondary-500 to-primary-600 opacity-70 dark:opacity-90 animate-pulse-slow"}),i.jsx("div",{className:`relative flex items-center justify-center ${n[t]} aspect-square rounded-full bg-gradient-to-br from-primary-500 via-secondary-500 to-primary-600 shadow-lg`,children:i.jsx("span",{className:"text-white font-bold text-lg sm:text-xl md:text-2xl tracking-tight",children:"O"})})]}),i.jsxs("div",{className:"ml-3 flex flex-col",children:[i.jsx("h1",{className:`font-heading font-bold text-lg sm:text-xl md:text-2xl leading-none ${e==="color"?"bg-gradient-to-r from-primary-600 via-secondary-500 to-primary-600 bg-clip-text text-transparent":r[e]}`,children:"OYA"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Librez l'avenir du travail"})]})]})},Z3=({isOpen:t,toggleSidebar:e})=>{const{signOut:n}=Cn(),r=[{icon:j3,label:"Accueil",path:"/dashboard"},{icon:Ao,label:"Candidats",path:"/dashboard/candidates"},{icon:Ms,label:"Offres",path:"/dashboard/missions"},{icon:rt,label:"Documents",path:"/dashboard/documents"},{icon:k3,label:"Matching IA",path:"/dashboard/matching"},{icon:A3,label:"Assistant IA",path:"/dashboard/ai-chat"},{icon:p3,label:"Rapports",path:"/dashboard/reports"},{icon:FN,label:"Paramtres",path:"/dashboard/settings"}],s=[{id:"main",label:"Principal",items:r.slice(0,3)},{id:"management",label:"Gestion",items:r.slice(3,6)},{id:"analytics",label:"Analyses",items:r.slice(6)}];return i.jsxs("aside",{className:`h-full z-30 transition-all duration-300 ease-in-out ${t?"w-72":"w-20 overflow-hidden"}`,style:{background:"#f4f0ec",boxShadow:"0 0 20px rgba(0, 0, 0, 0.1), inset 1px 0 0 rgba(0, 0, 0, 0.05)"},children:[i.jsx("div",{className:"md:hidden fixed bottom-6 right-6 z-50",children:i.jsx("button",{className:"p-3 rounded-full bg-orange text-ivoire shadow-lg hover:shadow-xl transform transition-all duration-300 hover:scale-110",onClick:e,children:i.jsx(C3,{className:"h-6 w-6"})})}),i.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-gray-200 h-16",children:[i.jsx("div",{className:`transition-all duration-300 ${t?"opacity-100 translate-x-0":"opacity-0 -translate-x-10 hidden"}`,children:i.jsx(X3,{size:"sm",variant:"dark"})}),i.jsx("div",{className:`transition-all duration-300 ${t?"opacity-0 scale-95 hidden":"opacity-100 scale-100 block"} mx-auto`,children:i.jsxs("div",{className:"relative h-10 w-10 rounded-full flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 opacity-70 blur-[2px]"}),i.jsx("div",{className:"relative h-9 w-9 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-lg",children:"O"})]})}),i.jsx("button",{onClick:e,className:"p-2 rounded-full text-gray-500 hover:text-gray-800 transition-colors duration-200 hover:bg-gray-200/50",children:t?i.jsx(v3,{className:"h-5 w-5"}):i.jsx(cc,{className:"h-5 w-5"})})]}),i.jsx("nav",{className:"flex-1 py-6 px-3 overflow-y-auto h-[calc(100vh-8rem)]",children:s.map(a=>i.jsxs("div",{className:"mb-8",children:[t&&i.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-3 mb-3",children:a.label}),i.jsx("div",{className:"space-y-1.5",children:a.items.map(o=>i.jsx(XT,{to:o.path,className:({isActive:c})=>`flex items-center ${t?"px-3":"px-0 justify-center"} py-2.5 text-sm rounded-lg transition-all duration-200 ${c?"bg-violet/10 text-violet":"text-bleu hover:bg-bleu/10 hover:text-orange"}`,title:t?void 0:o.label,children:({isActive:c})=>i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`relative ${t?"":"p-2"}`,children:[i.jsx(o.icon,{className:`h-5 w-5 ${t?"mr-3":""} ${c?"text-violet":"text-bleu"} transition-colors duration-200`}),c&&!t&&i.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-violet rounded-l-md"})]}),t&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"flex-1 truncate",children:o.label}),c&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-violet ml-2"})]})]})},o.path))})]},a.id))}),i.jsx("div",{className:"p-4 border-t border-bleu/10 h-16",children:i.jsxs("button",{onClick:()=>n(),className:`flex items-center ${t?"w-full px-3":"mx-auto p-2"} py-2 text-sm rounded-md transition-all duration-200 text-bleu hover:text-orange hover:bg-bleu/10 group`,title:t?void 0:"Dconnexion",children:[i.jsx(S3,{className:"h-5 w-5 group-hover:text-orange transition-colors duration-200"}),t&&i.jsx("span",{className:"ml-3",children:"Dconnexion"})]})}),t&&i.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-20",onClick:e})]})},eL=()=>{const[t,e]=A.useState(!0);return A.useEffect(()=>{document.documentElement.classList.remove("dark")},[]),i.jsxs("div",{className:"grid grid-cols-[auto_1fr] h-screen bg-white overflow-hidden",children:[i.jsx(Z3,{isOpen:t,toggleSidebar:()=>e(!t)}),i.jsx("main",{className:"overflow-y-auto w-full",children:i.jsx("div",{className:"w-full p-6",children:i.jsx(FT,{})})})]})},Gp="messages",Qu="chatSessions",Ws=async t=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const n={...t,timestamp:en()};return{id:(await Qr(Ke(Ne,Gp),n)).id,...n}}catch(e){throw console.error("Erreur lors de la cration du message:",e),e}},tL=async t=>{try{const e=Fe.currentUser;if(!e)throw new Error("Utilisateur non authentifi");const n=ln(Ke(Ne,Gp),Vt("sessionId","==",t),Vt("userId","==",e.uid),_p("timestamp","asc"));return(await cn(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error("Erreur lors de la rcupration des messages:",e),e}},Qx=async t=>{try{const e=Fe.currentUser;if(!e)throw new Error("Utilisateur non authentifi");const n={...t,userId:e.uid,date:en(),lastUpdated:en()};return{id:(await Qr(Ke(Ne,Qu),n)).id,...n}}catch(e){throw console.error("Erreur lors de la cration de la session:",e),e}},nL=async()=>{try{const t=Fe.currentUser;if(!t)throw new Error("Utilisateur non authentifi");const e=ln(Ke(Ne,Qu),Vt("userId","==",t.uid),_p("lastUpdated","desc"));return(await cn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erreur lors de la rcupration des sessions:",t),t}},rL=async(t,e)=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const r=Os(Ne,Qu,t);await pb(r,{...e,lastUpdated:en()})}catch(n){throw console.error("Erreur lors de la mise  jour de la session:",n),n}},sL=async t=>{try{const e=Fe.currentUser;if(!e)throw new Error("Utilisateur non authentifi");const n=Os(Ne,Qu,t);await km(n);const r=ln(Ke(Ne,Gp),Vt("sessionId","==",t),Vt("userId","==",e.uid)),a=(await cn(r)).docs.map(o=>km(o.ref));await Promise.all(a)}catch(e){throw console.error("Erreur lors de la suppression de la session:",e),e}},iL="AIzaSyCZs6SFd1914inMW4IzTRrBw7AwDL8eqgI",aL="https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",Yx=async t=>{try{console.log("Paramtres de requte Gemini:",t);const e=await fetch(`${aL}?key=${iL}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:t.prompt}]}],generationConfig:{temperature:t.temperature||.7,maxOutputTokens:t.maxTokens||800}})});if(!e.ok){const r=await e.json();return console.error("Erreur API Gemini:",r),"Erreur lors de la communication avec l'IA. Veuillez ressayer."}return(await e.json()).candidates[0].content.parts[0].text}catch(e){return console.error("Erreur lors de l'appel  Gemini:",e),"Erreur lors de la communication avec l'IA. Veuillez ressayer."}},oL=()=>{const{user:t}=Cn(),[e,n]=A.useState(""),[r,s]=A.useState([{id:"1",text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date}]),[a,o]=A.useState(!1),[c,u]=A.useState(!0),[d,m]=A.useState("current"),[p,f]=A.useState(null),[x,j]=A.useState([]),[b,C]=A.useState(!0),[T,_]=A.useState(null),I=A.useRef(null),k=A.useRef(null),D=[{id:"general",name:"Gnral",icon:zN,suggestions:["Comment puis-je optimiser le recrutement d'intrimaires ?","Quelles sont les meilleures pratiques pour la gestion des missions ?","Comment rduire le taux d'absentisme des intrimaires ?","Quel est le processus pour ajouter un nouvel intrimaire ?"]},{id:"legal",name:"Juridique",icon:rt,suggestions:["Quelles sont les obligations lgales pour l'embauche d'intrimaires ?","Comment rdiger un contrat de mission conforme  la lgislation ?","Quels documents sont obligatoires pour un intrimaire ?","Quelles sont les rgles de temps de travail pour les intrimaires ?"]},{id:"tech",name:"Technique",icon:_3,suggestions:["Comment exporter les donnes des missions au format CSV ?","Comment configurer les notifications automatiques ?","Comment gnrer un rapport personnalis ?","Comment synchroniser les donnes avec notre SIRH ?"]}];A.useEffect(()=>{(async()=>{try{if(t){C(!0),_(null);const G=await nL();if(G.length>0){const K=G.map(X=>({...X,date:X.date instanceof me?X.date.toDate():X.date,lastUpdated:X.lastUpdated instanceof me?X.lastUpdated.toDate():X.lastUpdated}));j(K),(!d||d==="current")&&(m(K[0].id||"current"),await L(K[0].id||"current"))}else{const K=await Qx({title:"Nouvelle conversation",preview:"Bonjour ! Je suis l'assistant IA d'OYA...",date:new Date,userId:t.uid,lastUpdated:new Date});j([{...K,date:K.date instanceof me?K.date.toDate():new Date,lastUpdated:K.lastUpdated instanceof me?K.lastUpdated.toDate():new Date}]),m(K.id||"current"),await Ws({text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date,userId:t.uid,sessionId:K.id||"current"})}}}catch(G){console.error("Erreur lors du chargement des donnes:",G),_("Impossible de charger les conversations. Veuillez ressayer plus tard.")}finally{C(!1)}})()},[t]);const L=async V=>{try{C(!0),_(null);const G=await tL(V);if(G.length>0){const K=G.map(X=>({id:X.id||Date.now().toString(),text:X.text,sender:X.sender,timestamp:X.timestamp instanceof me?X.timestamp.toDate():new Date(X.timestamp),isLoading:!1}));s(K)}else s([{id:"1",text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date}]),t&&await Ws({text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date,userId:t.uid,sessionId:V})}catch(G){console.error("Erreur lors du chargement des messages:",G),_("Impossible de charger les messages. Veuillez ressayer plus tard.")}finally{C(!1)}},E=()=>{var V;(V=I.current)==null||V.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{E()},[r]);const w=()=>{k.current&&(k.current.style.height="auto",k.current.style.height=`${Math.min(k.current.scrollHeight,120)}px`)};A.useEffect(()=>{w()},[e]);const y=async V=>{if(V.preventDefault(),!(!e.trim()||!t))try{const G={id:Date.now().toString(),text:e,sender:"user",timestamp:new Date};s(ie=>[...ie,G]),n(""),o(!0),k.current&&(k.current.style.height="auto"),d!=="current"&&(await rL(d,{title:J(e,30),preview:J(e,40),lastUpdated:new Date}),j(ie=>ie.map($e=>$e.id===d?{...$e,title:J(e,30),preview:J(e,40),lastUpdated:new Date}:$e))),await Ws({text:e,sender:"user",timestamp:new Date,userId:t.uid,sessionId:d});const K=(Date.now()+1).toString();s(ie=>[...ie,{id:K,text:"",sender:"ai",timestamp:new Date,isLoading:!0}]);const X=await Yx({prompt:e,userId:t.uid,context:r.map(ie=>`${ie.sender}: ${ie.text}`).slice(-5)});s(ie=>ie.map($e=>$e.id===K?{...$e,text:X,isLoading:!1}:$e)),await Ws({text:X,sender:"ai",timestamp:new Date,userId:t.uid,sessionId:d})}catch(G){console.error("Erreur lors de l'envoi du message:",G),_("Une erreur est survenue lors de l'envoi du message. Veuillez ressayer."),s(K=>K.filter(X=>!X.isLoading))}finally{o(!1)}},N=async()=>{try{if(!t)return;if(d!=="current"&&d){await sL(d);const V=await Qx({title:"Nouvelle conversation",preview:"Bonjour ! Je suis l'assistant IA d'OYA...",date:new Date,userId:t.uid,lastUpdated:new Date});j(K=>[{...V,date:V.date instanceof me?V.date.toDate():new Date,lastUpdated:V.lastUpdated instanceof me?V.lastUpdated.toDate():new Date},...K.filter(ie=>ie.id!==d)]),m(V.id||"current");const G={id:Date.now().toString(),text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date};s([G]),await Ws({text:G.text,sender:G.sender,timestamp:G.timestamp,userId:t.uid,sessionId:V.id||"current"})}else s([{id:Date.now().toString(),text:"Bonjour ! Je suis l'assistant IA d'OYA. Je peux vous aider avec la gestion des intrimaires, la cration de missions, les questions juridiques, et bien plus encore. Comment puis-je vous aider aujourd'hui ?",sender:"ai",timestamp:new Date}])}catch(V){console.error("Erreur lors de la suppression de la conversation:",V),_("Une erreur est survenue lors de la suppression de la conversation. Veuillez ressayer.")}},R=()=>{const V=r.filter(Ye=>!Ye.isLoading).map(Ye=>`${Ye.sender==="user"?"Vous":"Assistant"} (${Lt(Ye.timestamp)}):
${Ye.text}`).join(`

`),G=new Blob([V],{type:"text/plain"}),K=URL.createObjectURL(G),X=document.createElement("a");X.href=K;const ie=x.find(Ye=>Ye.id===d),$e=ie?`OYA-Chat-${ie.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().slice(0,10)}.txt`:`OYA-Chat-${new Date().toISOString().slice(0,10)}.txt`;X.download=$e,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(K)},P=async()=>{if(!(r.length<2||!t))try{const V=[...r].reverse().findIndex(G=>G.sender==="ai");if(V>=0){const G=r.length-1-V;s(ie=>[...ie.slice(0,G),{id:Date.now().toString(),text:"",sender:"ai",timestamp:new Date,isLoading:!0}]),o(!0);const K=[...r].reverse().find(ie=>ie.sender==="user");if(!K)throw new Error("Aucun message utilisateur trouv pour rgnrer une rponse");const X=await Yx({prompt:K.text+" (merci de reformuler)",userId:t.uid,context:r.map(ie=>`${ie.sender}: ${ie.text}`).slice(-5)});s(ie=>[...ie.slice(0,ie.length-1),{id:Date.now().toString(),text:X,sender:"ai",timestamp:new Date}]),await Ws({text:X,sender:"ai",timestamp:new Date,userId:t.uid,sessionId:d})}}catch(V){console.error("Erreur lors de la rgnration de la rponse:",V),_("Une erreur est survenue lors de la rgnration de la rponse. Veuillez ressayer."),s(G=>G.filter(K=>!K.isLoading))}finally{o(!1)}},S=async V=>{try{if(V===d)return;m(V),C(!0),await L(V)}catch(G){console.error("Erreur lors du changement de session:",G),_("Une erreur est survenue lors du chargement de la conversation. Veuillez ressayer.")}finally{C(!1)}},fe=V=>{n(V),k.current&&k.current.focus()},jt=(V,G)=>{navigator.clipboard.writeText(V).then(()=>{f(G),setTimeout(()=>f(null),2e3)})},Rn=V=>V.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Lt=V=>V.toLocaleString([],{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=V=>{const G=new Date,K=new Date(G);return K.setDate(K.getDate()-1),V.toDateString()===G.toDateString()?"Aujourd'hui":V.toDateString()===K.toDateString()?"Hier":V.toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})},J=(V,G)=>V.length>G?V.substring(0,G)+"...":V;return b&&r.length<=1&&x.length===0?i.jsx("div",{className:"h-[calc(100vh-6rem)] flex items-center justify-center bg-gray-900 rounded-xl border border-gray-700",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(Te,{className:"h-10 w-10 text-primary-500 animate-spin mx-auto"}),i.jsx("p",{className:"text-gray-300",children:"Chargement de vos conversations..."})]})}):T&&!b&&r.length<=1&&x.length===0?i.jsx("div",{className:"h-[calc(100vh-6rem)] flex items-center justify-center bg-gray-900 rounded-xl border border-gray-700",children:i.jsxs("div",{className:"text-center space-y-4 p-6 max-w-md",children:[i.jsx(tr,{className:"h-10 w-10 text-red-500 mx-auto"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Une erreur est survenue"}),i.jsx("p",{className:"text-gray-300",children:T}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Ressayer"})]})}):i.jsxs("div",{className:"flex h-[calc(100vh-6rem)] overflow-hidden rounded-xl border border-gray-700 bg-gray-900 text-white",children:[i.jsxs("div",{className:`flex flex-col transition-all duration-300 border-r border-gray-700 bg-gray-800/50 ${c?"w-80":"w-0 opacity-0 overflow-hidden"}`,children:[i.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center",children:[i.jsx("h2",{className:"font-semibold text-lg",children:"Historique"}),i.jsx("button",{onClick:()=>u(!1),className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md transition-colors",children:i.jsx(Br,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto py-2 px-3 space-y-1",children:b&&x.length===0?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Te,{className:"h-6 w-6 text-gray-400 animate-spin"})}):x.length>0?x.map(V=>{const G=V.date instanceof Date?V.date:V.date instanceof me?V.date.toDate():new Date;return i.jsxs("button",{onClick:()=>S(V.id||"current"),className:`w-full p-3 rounded-lg text-left transition-all ${d===V.id?"bg-primary-500/20 text-primary-300 border border-primary-500/30":"hover:bg-gray-700/50 text-gray-300 border border-transparent"}`,children:[i.jsx("div",{className:"font-medium",children:V.title}),i.jsxs("div",{className:"text-xs mt-1 flex justify-between items-center",children:[i.jsx("span",{className:`${d===V.id?"text-primary-300/70":"text-gray-500"}`,children:q(G)}),i.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${d===V.id?"bg-primary-500/20":"bg-gray-700"}`,children:V.id===d?"Actuel":""})]})]},V.id)}):i.jsx("div",{className:"text-center p-4 text-gray-400 text-sm",children:"Aucune conversation trouve"})}),i.jsx("div",{className:"p-3 border-t border-gray-700",children:i.jsxs("button",{onClick:N,className:"flex items-center w-full p-2 text-sm rounded-lg text-red-400 hover:bg-red-500/10 transition-colors",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Nouvelle conversation"})]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col relative",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 bg-gray-800/30 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[!c&&i.jsx("button",{onClick:()=>u(!0),className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-700/50 rounded-md transition-colors mr-2",children:i.jsx(P3,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-primary-500 to-primary-600 text-white shadow-lg mr-3",children:i.jsx(Hp,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-white",children:"Assistant OYA"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Propuls par IA"})]})]})]}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{onClick:P,disabled:a||r.length<2,className:"p-2 text-gray-400 hover:text-primary-400 hover:bg-gray-700/50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Rgnrer la dernire rponse",title:"Rgnrer la dernire rponse",children:i.jsx(L3,{className:"h-4 w-4"})}),i.jsx("button",{onClick:R,className:"p-2 text-gray-400 hover:text-primary-400 hover:bg-gray-700/50 rounded-lg transition-colors","aria-label":"Tlcharger la conversation",title:"Tlcharger la conversation",children:i.jsx(ko,{className:"h-4 w-4"})}),i.jsx("button",{onClick:N,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700/50 rounded-lg transition-colors","aria-label":"Nouvelle conversation",title:"Nouvelle conversation",children:i.jsx(nu,{className:"h-4 w-4"})})]})]}),T&&i.jsxs("div",{className:"bg-red-500/10 border border-red-400/20 m-4 p-3 rounded-lg flex items-center text-sm",children:[i.jsx(tr,{className:"h-5 w-5 text-red-400 mr-2 flex-shrink-0"}),i.jsx("p",{className:"text-red-300",children:T}),i.jsx("button",{onClick:()=>_(null),className:"ml-auto text-red-400 hover:text-red-300",children:i.jsx(Br,{className:"h-4 w-4"})})]}),r.length===1&&i.jsxs("div",{className:"p-6 bg-gray-800/20",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Suggestions pour dmarrer"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map(V=>i.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 border-b border-gray-700",children:[i.jsx("div",{className:"p-1.5 rounded-lg bg-gray-700 text-primary-400",children:i.jsx(V.icon,{className:"h-4 w-4"})}),i.jsx("h4",{className:"font-medium text-gray-300",children:V.name})]}),i.jsx("div",{className:"p-2",children:V.suggestions.map((G,K)=>i.jsx("button",{onClick:()=>fe(G),className:"w-full text-left p-2 rounded-lg hover:bg-gray-700/50 text-sm text-gray-300 transition-colors mb-1 last:mb-0",children:J(G,60)},K))})]},V.id))})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6","aria-live":"polite",children:[b&&r.length<=1?i.jsx("div",{className:"flex justify-center p-8",children:i.jsx(Te,{className:"h-8 w-8 text-gray-400 animate-spin"})}):r.map(V=>i.jsx("div",{className:`flex ${V.sender==="user"?"justify-end":"justify-start"} group`,children:i.jsx("div",{className:`max-w-[80%] rounded-2xl p-4 ${V.sender==="user"?"bg-primary-600/80 text-white backdrop-blur-sm border border-primary-500/30":"bg-gray-800/80 border border-gray-700/80 text-gray-200 backdrop-blur-sm"}`,children:V.isLoading?i.jsxs("div",{className:"flex items-center space-x-3 px-2",children:[i.jsx(Te,{className:"h-5 w-5 animate-spin text-gray-400"}),i.jsx("span",{className:"text-gray-400",children:"L'assistant rflchit..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"whitespace-pre-wrap",children:V.text}),i.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-3 -right-3 transition-opacity",children:i.jsx("button",{onClick:()=>jt(V.text,V.id),className:`p-1.5 rounded-lg ${V.sender==="user"?"bg-primary-700 hover:bg-primary-800":"bg-gray-700 hover:bg-gray-600"} transition-colors shadow-lg`,title:"Copier le message",children:p===V.id?i.jsx(Pe,{className:"h-3.5 w-3.5 text-green-400"}):i.jsx(w3,{className:"h-3.5 w-3.5 text-gray-300"})})})]}),i.jsx("div",{className:`text-xs mt-2 ${V.sender==="user"?"text-primary-200":"text-gray-500"} text-right`,children:Rn(V.timestamp)})]})})},V.id)),i.jsx("div",{ref:I})]}),i.jsx("form",{onSubmit:y,className:"p-4 border-t border-gray-700 bg-gray-800/30",children:i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("textarea",{ref:k,value:e,onChange:V=>n(V.target.value),onKeyDown:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),e.trim()&&y(V))},placeholder:"Posez votre question...",className:"w-full bg-gray-800 border border-gray-700 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 rounded-xl pl-4 pr-10 py-3 text-white placeholder-gray-500 resize-none overflow-hidden",disabled:a||b,rows:1,style:{minHeight:"2.5rem",maxHeight:"8rem"}}),i.jsx("button",{type:"submit",className:"absolute right-3 bottom-3 p-1.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:a||!e.trim()||b||!t,children:a?i.jsx(Te,{className:"h-4 w-4 animate-spin"}):i.jsx(O3,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"text-xs text-gray-500 flex justify-between items-center px-1",children:[i.jsx("span",{children:"Appuyez sur Entre pour envoyer, Maj+Entre pour un saut de ligne"}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(An,{className:"h-3 w-3"}),i.jsx(V3,{className:"h-3 w-3"}),i.jsx(pt,{className:"h-3 w-3"}),i.jsx(Wp,{className:"h-3 w-3"}),i.jsx("span",{children:"et plus encore..."})]})]})]})})]})]})},Yo="candidates",dh=async()=>{try{const t=Fe.currentUser;if(!t)throw new Error("Utilisateur non authentifi");const e=ln(Ke(Ne,Yo),Vt("userId","==",t.uid));return(await cn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erreur lors de la rcupration des candidats:",t),t}},Yu=async t=>{try{const e=Os(Ne,Yo,t),n=await mb(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration du candidat:",e),e}},qN=async t=>{try{const e=Fe.currentUser;if(!e)throw new Error("Utilisateur non authentifi");return(await Qr(Ke(Ne,Yo),{...t,userId:e.uid,createdAt:en(),updatedAt:en()})).id}catch(e){throw console.error("Erreur lors de la cration du candidat:",e),e}},lL=async(t,e)=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const r=Os(Ne,Yo,t);await pb(r,{...e,updatedAt:en()})}catch(n){throw console.error("Erreur lors de la mise  jour du candidat:",n),n}},cL=async t=>{try{if(!Fe.currentUser)throw new Error("Utilisateur non authentifi");const n=await Yu(t);if(n!=null&&n.cvUrl){const s=LN(ON,n.cvUrl);await r3(s)}const r=Os(Ne,Yo,t);await km(r)}catch(e){throw console.error("Erreur lors de la suppression du candidat:",e),e}},uL=async(t,e)=>{try{const n=Fe.currentUser;if(!n)throw new Error("Utilisateur non authentifi");const r=LN(ON,`cvs/${n.uid}/${t}/${e.name}`);await t3(r,e);const s=await n3(r);return await lL(t,{cvUrl:s}),s}catch(n){throw console.error("Erreur lors de l'upload du CV:",n),n}},dL=async(t,e)=>{try{return await new Promise(n=>setTimeout(n,2e3)),{extractedSkills:["Communication","Gestion de projet","Leadership"],experience:["Dveloppeur FullStack - Tech Solutions (2019-2023)","Ingnieur Frontend - WebCreate (2016-2019)"],education:["Master en Informatique - Universit de Paris (2016)","Licence en Mathmatiques - Universit de Lyon (2014)"],summary:`${e} est un professionnel expriment avec une solide formation en informatique. Son parcours dmontre une progression constante et des comptences diversifies.`,recommendedJobs:["Dveloppeur Frontend","Chef de Projet IT","Consultant Technique"],marketValue:{min:45e3,max:6e4,currency:"EUR"}}}catch(n){throw console.error("Erreur lors de l'analyse du CV:",n),n}},hL=async t=>(console.log("Recherche de profils LinkedIn avec critres:",t),await new Promise(e=>setTimeout(e,1500)),Array(5).fill(0).map((e,n)=>({firstName:`Prnom${n+1}`,lastName:`Nom${n+1}`,linkedinProfile:`https://linkedin.com/in/profile${n+1}`,skills:[...t.skills,"Comptence additionnelle"],status:"available"}))),mL=async t=>{var o;const e=t.skills||[],n=((o=t.cvAnalysis)==null?void 0:o.experience)||[];await new Promise(c=>setTimeout(c,1e3));const r=4e4,s=e.length*1e3,a=n.length*5e3;return{min:r+s,max:r+s+a,currency:"EUR",marketAnalysis:`Bas sur le profil de ${t.firstName}, l'analyse du march indique une valorisation entre ${r+s} et ${r+s+a} annuels. Ce candidat possde des comptences recherches comme ${e.slice(0,3).join(", ")} qui sont trs demandes sur le march actuel.`}},fL=({isOpen:t,onClose:e,onCandidateAdded:n})=>{const r={firstName:"",lastName:"",email:"",phone:"",skills:"",availability:"Immdiate",status:"available"},[s,a]=A.useState(r),[o,c]=A.useState(!1),[u,d]=A.useState({}),m=x=>{const{name:j,value:b}=x.target;a(C=>({...C,[j]:b})),u[j]&&d(C=>({...C,[j]:""}))},p=()=>{const x={};return s.firstName.trim()||(x.firstName="Le prnom est requis"),s.lastName.trim()||(x.lastName="Le nom est requis"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(x.email="Format d'email invalide"):x.email="L'email est requis",s.phone.trim()||(x.phone="Le tlphone est requis"),s.skills.trim()||(x.skills="Au moins une comptence est requise"),d(x),Object.keys(x).length===0},f=async x=>{if(x.preventDefault(),!!p()){c(!0);try{const j=s.skills.split(",").map(C=>C.trim()).filter(C=>C!==""),b=await qN({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,skills:j,availability:s.availability,status:s.status,avatar:null});n(b),a(r),e()}catch(j){console.error("Erreur lors de la cration du candidat:",j)}finally{c(!1)}}};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",children:i.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 max-w-2xl w-full p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Ajouter un candidat"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",disabled:o,children:i.jsx(Br,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:f,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-400 mb-1",children:"Prnom"}),i.jsx("input",{type:"text",id:"firstName",name:"firstName",value:s.firstName,onChange:m,className:`block w-full px-4 py-2 bg-gray-900 border ${u.firstName?"border-red-500":"border-gray-700"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500`}),u.firstName&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.firstName})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-400 mb-1",children:"Nom"}),i.jsx("input",{type:"text",id:"lastName",name:"lastName",value:s.lastName,onChange:m,className:`block w-full px-4 py-2 bg-gray-900 border ${u.lastName?"border-red-500":"border-gray-700"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500`}),u.lastName&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.lastName})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),i.jsx("input",{type:"email",id:"email",name:"email",value:s.email,onChange:m,className:`block w-full px-4 py-2 bg-gray-900 border ${u.email?"border-red-500":"border-gray-700"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500`}),u.email&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.email})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-400 mb-1",children:"Tlphone"}),i.jsx("input",{type:"tel",id:"phone",name:"phone",value:s.phone,onChange:m,className:`block w-full px-4 py-2 bg-gray-900 border ${u.phone?"border-red-500":"border-gray-700"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500`}),u.phone&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.phone})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"availability",className:"block text-sm font-medium text-gray-400 mb-1",children:"Disponibilit"}),i.jsxs("select",{id:"availability",name:"availability",value:s.availability,onChange:m,className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500",children:[i.jsx("option",{value:"Immdiate",children:"Immdiate"}),i.jsx("option",{value:"1 semaine",children:"1 semaine"}),i.jsx("option",{value:"2 semaines",children:"2 semaines"}),i.jsx("option",{value:"1 mois",children:"1 mois"}),i.jsx("option",{value:"3 mois",children:"3 mois"}),i.jsx("option",{value:"Plus de 3 mois",children:"Plus de 3 mois"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-400 mb-1",children:"Statut"}),i.jsxs("select",{id:"status",name:"status",value:s.status,onChange:m,className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500",children:[i.jsx("option",{value:"available",children:"Disponible"}),i.jsx("option",{value:"interviewing",children:"En entretien"}),i.jsx("option",{value:"hired",children:"Recrut"}),i.jsx("option",{value:"inactive",children:"Inactif"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-400 mb-1",children:"Comptences (spares par des virgules)"}),i.jsx("input",{type:"text",id:"skills",name:"skills",value:s.skills,onChange:m,placeholder:"Ex: JavaScript, React, Node.js",className:`block w-full px-4 py-2 bg-gray-900 border ${u.skills?"border-red-500":"border-gray-700"} rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary-500`}),u.skills&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:u.skills})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-lg transition-colors",disabled:o,children:"Annuler"}),i.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center disabled:opacity-50",children:o?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 mr-2 animate-spin"}),i.jsx("span",{children:"Enregistrement..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ys,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Enregistrer"})]})})]})]})]})}):null},pL=({isOpen:t,onClose:e,onCandidateAdded:n})=>{const[r,s]=A.useState(null),[a,o]=A.useState(!1),[c,u]=A.useState(!1),[d,m]=A.useState("upload"),[p,f]=A.useState({firstName:"",lastName:"",email:"",phone:"",skills:[]}),x=A.useRef(null),j=k=>{k.preventDefault(),k.stopPropagation(),k.type==="dragenter"||k.type==="dragover"?o(!0):k.type==="dragleave"&&o(!1)},b=k=>{k.preventDefault(),k.stopPropagation(),o(!1),k.dataTransfer.files&&k.dataTransfer.files[0]&&T(k.dataTransfer.files[0])},C=k=>{k.target.files&&k.target.files[0]&&T(k.target.files[0])},T=k=>{if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(k.type)){alert("Veuillez importer un fichier PDF ou Word (.doc/.docx)");return}s(k),u(!0),setTimeout(()=>{const L=k.name.split(".")[0].split("_");f({firstName:L[0]||"",lastName:L[1]||"",email:`${L[0].toLowerCase()}@example.com`,phone:"0102030405",skills:["JavaScript","React","Node.js"]}),u(!1),m("preview")},1500)},_=async()=>{if(r){u(!0),m("processing");try{const k=await qN({firstName:p.firstName,lastName:p.lastName,email:p.email,phone:p.phone,skills:p.skills,availability:" dterminer",status:"available",avatar:null});await uL(k,r),await dL(URL.createObjectURL(r),`${p.firstName} ${p.lastName}`),n(k),I(),e()}catch(k){console.error("Erreur lors du traitement du CV:",k),alert("Une erreur est survenue lors du traitement du CV.")}finally{u(!1)}}},I=()=>{s(null),m("upload"),f({firstName:"",lastName:"",email:"",phone:"",skills:[]})};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",children:i.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 max-w-2xl w-full p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white",children:[d==="upload"&&"Importer un CV",d==="preview"&&"Vrifier les informations",d==="processing"&&"Traitement du CV"]}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",disabled:c,children:i.jsx(Br,{className:"h-6 w-6"})})]}),d==="upload"&&i.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center ${a?"border-primary-500 bg-primary-500/10":"border-gray-600 bg-gray-700/30"}`,onDragEnter:j,onDragLeave:j,onDragOver:j,onDrop:b,children:[i.jsx(rt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Glissez-dposez votre CV ici"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"ou cliquez pour slectionner un fichier (PDF, DOC, DOCX)"}),i.jsxs("button",{type:"button",onClick:()=>{var k;return(k=x.current)==null?void 0:k.click()},className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center mx-auto",children:[i.jsx(Qo,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Slectionner un fichier"})]}),i.jsx("input",{type:"file",ref:x,onChange:C,accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",className:"hidden"})]}),d==="preview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-700/30 p-4 rounded-xl border border-gray-600 flex items-center",children:[i.jsx(rt,{className:"h-10 w-10 text-primary-400 mr-4"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:r==null?void 0:r.name}),i.jsxs("p",{className:"text-gray-400 text-sm",children:[(r==null?void 0:r.size)&&(r.size/1024/1024).toFixed(2)||"0"," MB"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prnom"}),i.jsx("input",{type:"text",value:p.firstName,onChange:k=>f(D=>({...D,firstName:k.target.value})),className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nom"}),i.jsx("input",{type:"text",value:p.lastName,onChange:k=>f(D=>({...D,lastName:k.target.value})),className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),i.jsx("input",{type:"email",value:p.email,onChange:k=>f(D=>({...D,email:k.target.value})),className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Tlphone"}),i.jsx("input",{type:"tel",value:p.phone,onChange:k=>f(D=>({...D,phone:k.target.value})),className:"block w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Comptences dtectes"}),i.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-900 border border-gray-700 rounded-lg",children:p.skills.map((k,D)=>i.jsx("span",{className:"px-2.5 py-1 bg-primary-500/10 text-primary-400 rounded-full text-sm",children:k},D))})]})]})]}),d==="processing"&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Te,{className:"h-16 w-16 text-primary-500 animate-spin mx-auto mb-6"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Traitement du CV en cours..."}),i.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"Nous analysons votre document pour extraire toutes les informations pertinentes. Veuillez patienter..."})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-700",children:[d==="upload"&&i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-lg transition-colors",children:"Annuler"}),d==="preview"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:()=>m("upload"),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-lg transition-colors",children:"Retour"}),i.jsxs("button",{type:"button",onClick:_,className:"px-6 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center",children:[i.jsx(rt,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Traiter le CV"})]})]})]})]})}):null},ba={available:{bg:"bg-emerald-500/10",text:"text-emerald-500",dot:"bg-emerald-500"},interviewing:{bg:"bg-violet/10",text:"text-violet",dot:"bg-violet"},hired:{bg:"bg-orange/10",text:"text-orange",dot:"bg-orange"},inactive:{bg:"bg-gray-400/10",text:"text-gray-400",dot:"bg-gray-400"}},gL=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(!0),[s,a]=A.useState(null),[o,c]=A.useState(""),[u,d]=A.useState(null),[m,p]=A.useState(null),[f,x]=A.useState(!1),[j,b]=A.useState(!1),[C,T]=A.useState(!1),[_,I]=A.useState([]),k=Wi();A.useEffect(()=>{(async()=>{try{r(!0);const N=await dh();e(N),a(null)}catch(N){console.error("Erreur lors du chargement des candidats:",N),a("Impossible de charger les candidats. Veuillez ressayer.")}finally{r(!1)}})()},[]);const D=Array.from(new Set(t.flatMap(y=>y.skills))),L=t.filter(y=>{const N=o===""||`${y.firstName} ${y.lastName}`.toLowerCase().includes(o.toLowerCase())||y.email.toLowerCase().includes(o.toLowerCase()),R=u===null||y.skills.includes(u),P=m===null||y.status===m;return N&&R&&P}),E=async()=>{try{T(!0);const y={skills:u?[u]:D.slice(0,3),jobTitle:"Developer"},N=await hL(y);I(N)}catch(y){console.error("Erreur lors de la recherche LinkedIn:",y)}finally{T(!1)}},w=y=>{dh().then(N=>{e(N)}).catch(N=>{console.error("Erreur lors du rechargement des candidats:",N)}),setTimeout(()=>{k(`/dashboard/candidates/${y}`)},500)};return n&&t.length===0?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Te,{className:"h-10 w-10 text-orange animate-spin"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-bleu",children:"Base de Talents"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:E,disabled:C,className:"px-4 py-2 bg-violet hover:bg-violet/80 text-ivoire rounded-lg transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[C?i.jsx(Te,{className:"h-5 w-5 animate-spin"}):i.jsx(Ms,{className:"h-5 w-5"}),i.jsx("span",{children:"Rechercher sur LinkedIn"})]}),i.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-violet hover:bg-violet/80 text-ivoire rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Qo,{className:"h-5 w-5"}),i.jsx("span",{children:"Importer CV"})]}),i.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Mm,{className:"h-5 w-5"}),i.jsx("span",{children:"Ajouter un candidat"})]})]})]}),s&&i.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-xl text-red-600 flex items-start",children:[i.jsx(ks,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{children:s}),i.jsx("button",{className:"mt-2 px-3 py-1 bg-red-100 hover:bg-red-200 rounded text-sm transition-colors",onClick:()=>{r(!0),dh().then(y=>{e(y),a(null)}).catch(y=>{console.error("Erreur lors du rechargement:",y),a("Impossible de charger les candidats. Veuillez ressayer.")}).finally(()=>{r(!1)})},children:"Ressayer"})]})]}),_.length>0&&i.jsxs("div",{className:"bg-violet/10 border border-violet/20 p-4 rounded-xl",children:[i.jsx("h3",{className:"text-bleu text-lg font-semibold mb-3",children:"Profils LinkedIn correspondants"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map((y,N)=>i.jsxs("div",{className:"bg-ivoire p-4 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h4",{className:"font-medium text-bleu",children:[y.firstName," ",y.lastName]}),i.jsx("div",{className:"mt-2 text-sm text-gray-600",children:y.skills&&y.skills.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:y.skills.slice(0,3).map((R,P)=>i.jsx("span",{className:"px-2 py-1 bg-violet/10 rounded-full text-xs text-violet",children:R},P))})}),i.jsxs("div",{className:"mt-3 flex justify-between",children:[i.jsxs("a",{href:y.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"text-violet text-sm hover:underline flex items-center",children:["Voir profil ",i.jsx(So,{className:"h-3 w-3 ml-1"})]}),i.jsx("button",{className:"text-orange text-sm hover:underline",children:"Importer"})]})]},N))})]}),i.jsx("div",{className:"bg-ivoire rounded-xl p-4 border border-gray-200 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(An,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",placeholder:"Rechercher un candidat...",className:"pl-10 pr-4 py-2 w-full bg-white border border-gray-300 rounded-lg focus:ring-violet focus:border-violet text-bleu",value:o,onChange:y=>c(y.target.value)})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var y;return(y=document.getElementById("skill-dropdown"))==null?void 0:y.classList.toggle("hidden")},children:[i.jsx(Mi,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:u||"Comptences"}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"skill-dropdown",className:"absolute mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;d(null),(y=document.getElementById("skill-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("span",{children:"Toutes les comptences"}),u===null&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),D.map(y=>i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var N;d(y),(N=document.getElementById("skill-dropdown"))==null||N.classList.add("hidden")},children:[i.jsx("span",{children:y}),u===y&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]},y))]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var y;return(y=document.getElementById("status-dropdown"))==null?void 0:y.classList.toggle("hidden")},children:[i.jsx("div",{className:"h-4 w-4 mr-2 rounded-full bg-gray-300"}),i.jsx("span",{children:m?m==="available"?"Disponible":m==="interviewing"?"En entretien":m==="hired"?"Recrut":"Inactif":"Statut"}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"status-dropdown",className:"absolute mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;p(null),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("span",{children:"Tous les statuts"}),m===null&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;p("available"),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("div",{className:`h-3 w-3 mr-2 rounded-full ${ba.available.dot}`}),i.jsx("span",{children:"Disponible"}),m==="available"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;p("interviewing"),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("div",{className:`h-3 w-3 mr-2 rounded-full ${ba.interviewing.dot}`}),i.jsx("span",{children:"En entretien"}),m==="interviewing"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;p("hired"),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("div",{className:`h-3 w-3 mr-2 rounded-full ${ba.hired.dot}`}),i.jsx("span",{children:"Recrut"}),m==="hired"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;p("inactive"),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("div",{className:`h-3 w-3 mr-2 rounded-full ${ba.inactive.dot}`}),i.jsx("span",{children:"Inactif"}),m==="inactive"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]})]})})]})]})]})}),i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-100",children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Candidat"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Comptences"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Disponibilit"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Matching Score"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:L.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(Fs,{className:"h-10 w-10 mb-2 text-gray-400"}),i.jsx("p",{className:"mb-1",children:"Aucun candidat ne correspond  votre recherche"}),i.jsx("p",{className:"text-sm",children:"Essayez de modifier vos filtres ou d'ajouter de nouveaux candidats"})]})})}):L.map(y=>{var fe,jt;const N=ba[y.status],R=y.status==="available"?"Disponible":y.status==="interviewing"?"En entretien":y.status==="hired"?"Recrut":"Inactif",P=Math.floor(Math.random()*60)+40,S=P>=80?"text-emerald-500":P>=65?"text-violet":P>=50?"text-orange":"text-gray-400";return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:y.avatar?i.jsx("img",{className:"h-10 w-10 rounded-full",src:y.avatar,alt:""}):i.jsxs("div",{className:"h-10 w-10 rounded-full bg-violet/20 flex items-center justify-center text-violet",children:[(fe=y.firstName)==null?void 0:fe[0],(jt=y.lastName)==null?void 0:jt[0]]})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"text-sm font-medium text-bleu",children:[y.firstName," ",y.lastName]}),i.jsx("div",{className:"text-sm text-gray-500",children:y.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.skills.slice(0,3).map((Rn,Lt)=>i.jsx("span",{className:"px-2 py-1 text-xs bg-violet/10 rounded-full text-violet",children:Rn},Lt)),y.skills.length>3&&i.jsxs("span",{className:"px-2 py-1 text-xs bg-gray-100 rounded-full text-gray-500",children:["+",y.skills.length-3]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:`inline-flex items-center ${N.bg} ${N.text} px-2.5 py-1 rounded-full text-xs font-medium`,children:[i.jsx("div",{className:`w-2 h-2 ${N.dot} rounded-full mr-2`}),R]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Vs,{className:"h-4 w-4 mr-1 text-orange"}),i.jsx("span",{className:"text-sm",children:y.availability})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:`flex items-center ${S} font-bold`,children:[i.jsx(qp,{className:"h-4 w-4 mr-1"}),P,"%"]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(je,{to:`/dashboard/candidates/${y.id}`,className:"rounded-md p-1.5 bg-gray-100 hover:bg-gray-200 text-bleu transition-colors",children:i.jsx(So,{className:"h-4 w-4"})}),i.jsx(je,{to:`/dashboard/candidates/${y.id}/interview`,className:"rounded-md p-1.5 bg-violet/10 hover:bg-violet/20 text-violet transition-colors",children:i.jsx(pt,{className:"h-4 w-4"})}),y.cvUrl&&i.jsx("a",{href:y.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"rounded-md p-1.5 bg-orange/10 hover:bg-orange/20 text-orange transition-colors",children:i.jsx(rt,{className:"h-4 w-4"})})]})})]},y.id)})})]})})}),f&&i.jsx(fL,{onClose:()=>x(!1),onCandidateAdded:w}),j&&i.jsx(pL,{onClose:()=>b(!1),onCVImported:w})]})},hh={labels:["Jan","Fv","Mar","Avr","Mai","Jun"],datasets:[{label:"Missions",data:[28,32,36,30,40,48],color:"#ff6a3d"},{label:"Candidats",data:[45,52,49,60,72,80],color:"#9b6bff"}]},yL=[{title:"Offres publies",value:87,change:12.3,increasingIsGood:!0},{title:"Taux de matching",value:92.5,unit:"%",change:2.6,increasingIsGood:!0},{title:"Candidats recruts",value:48,change:15.4,increasingIsGood:!0},{title:"Satisfaction client",value:4.8,unit:"/5",change:.2,increasingIsGood:!0}],xL=[{name:"Tech",value:35,color:"bg-violet"},{name:"Marketing",value:28,color:"bg-orange"},{name:"Finance",value:18,color:"bg-bleu"},{name:"Commercial",value:12,color:"bg-emerald-500"},{name:"Autres",value:7,color:"bg-gray-400"}],Jx=[{id:"1",title:"Rapport de performance mensuel",description:"Analyse des performances des offres d'emploi et des candidats",type:"performance",date:new Date("2024-03-01"),timeFrame:"month"},{id:"2",title:"Rapport financier Q1 2024",description:"Analyse financire du premier trimestre",type:"financial",date:new Date("2024-03-31"),timeFrame:"quarter"},{id:"3",title:"Rapport d'activit hebdomadaire",description:"Suivi de l'activit de la semaine dernire",type:"activity",date:new Date("2024-03-10"),timeFrame:"week"},{id:"4",title:"Performance des candidats",description:"Analyse des performances par candidat et par secteur",type:"performance",date:new Date("2024-02-15"),timeFrame:"month"},{id:"5",title:"Rapport annuel 2023",description:"Bilan complet de l'anne 2023",type:"financial",date:new Date("2024-01-31"),timeFrame:"year"}],vL=()=>{const[t,e]=A.useState("overview"),[n,r]=A.useState(""),[s,a]=A.useState("all"),[o,c]=A.useState("all"),u=Jx.filter(f=>{const x=f.title.toLowerCase().includes(n.toLowerCase())||f.description.toLowerCase().includes(n.toLowerCase()),j=s==="all"||f.type===s,b=o==="all"||f.timeFrame===o;return x&&j&&b}),d=f=>new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"long",year:"numeric"}).format(f),m=f=>{switch(f){case"financial":return"Financier";case"performance":return"Performance";case"activity":return"Activit";default:return f}},p=f=>{switch(f){case"week":return"Hebdomadaire";case"month":return"Mensuel";case"quarter":return"Trimestriel";case"year":return"Annuel";default:return f}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-bleu",children:"Rapports et analyses"}),i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-orange focus:ring-offset-2",children:[i.jsx(f3,{className:"w-4 h-4 mr-2"}),"Gnrer un rapport"]})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{className:`pb-3 px-1 text-sm font-medium ${t==="overview"?"text-violet border-b-2 border-violet":"text-bleu hover:text-orange"}`,onClick:()=>e("overview"),children:"Vue d'ensemble"}),i.jsx("button",{className:`pb-3 px-1 text-sm font-medium ${t==="list"?"text-violet border-b-2 border-violet":"text-bleu hover:text-orange"}`,onClick:()=>e("list"),children:"Liste des rapports"})]})}),t==="overview"?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:yL.map((f,x)=>i.jsxs("div",{className:"bg-ivoire rounded-xl p-4 border border-gray-200 shadow-sm",children:[i.jsx("p",{className:"text-sm text-gray-600",children:f.title}),i.jsxs("div",{className:"mt-2 flex justify-between items-baseline",children:[i.jsxs("p",{className:"text-2xl font-semibold text-bleu",children:[f.value,f.unit||""]}),i.jsx("div",{className:`flex items-center text-xs px-2 py-1 rounded-full ${f.change>0?f.increasingIsGood?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600":f.increasingIsGood?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:f.change>0?i.jsxs(i.Fragment,{children:[i.jsx(h3,{className:"w-3 h-3 mr-1"}),"+",f.change,"%"]}):i.jsxs(i.Fragment,{children:[i.jsx(d3,{className:"w-3 h-3 mr-1"}),f.change,"%"]})})]})]},x))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 bg-ivoire rounded-xl p-6 border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-bleu",children:"Performance"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-orange"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Offres"})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-violet"}),i.jsx("span",{className:"text-xs text-gray-600",children:"Candidats"})]})]})]}),i.jsx("div",{className:"mt-4 h-64 flex items-end",children:i.jsx("div",{className:"flex-1 flex items-end justify-around",children:hh.labels.map((f,x)=>i.jsxs("div",{className:"flex flex-col items-center space-y-2 w-10",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-1 w-full",children:[i.jsx("div",{className:"w-5 bg-violet rounded-t",style:{height:`${hh.datasets[1].data[x]}px`}}),i.jsx("div",{className:"w-5 bg-orange rounded-t",style:{height:`${hh.datasets[0].data[x]}px`}})]}),i.jsx("span",{className:"text-xs text-gray-600",children:f})]},x))})})]}),i.jsxs("div",{className:"bg-ivoire rounded-xl p-6 border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-bleu mb-6",children:"Rpartition par secteur"}),i.jsx("div",{className:"space-y-4",children:xL.map((f,x)=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-sm text-gray-700",children:f.name}),i.jsxs("span",{className:"text-sm text-gray-600",children:[f.value,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${f.color}`,style:{width:`${f.value}%`}})})]},x))})]})]}),i.jsxs("div",{className:"bg-ivoire rounded-xl border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsx("h2",{className:"text-lg font-semibold text-bleu",children:"Rapports rcents"})}),i.jsx("div",{children:Jx.slice(0,3).map(f=>i.jsxs("div",{className:"p-4 border-b border-gray-200 last:border-b-0 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:f.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:f.description})]}),i.jsx("button",{className:"p-1.5 text-gray-500 hover:text-orange transition-colors",children:i.jsx(ko,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-violet/10 text-violet mr-2",children:m(f.type)}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Gnr le ",d(f.date)]})]})]},f.id))})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(An,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 bg-white rounded-lg focus:outline-none focus:ring-violet focus:border-violet text-bleu text-sm placeholder-gray-500",placeholder:"Rechercher un rapport...",value:n,onChange:f=>r(f.target.value)})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var f;return(f=document.getElementById("type-dropdown"))==null?void 0:f.classList.toggle("hidden")},children:[i.jsx(Mi,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:s==="all"?"Type de rapport":m(s)}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"type-dropdown",className:"absolute mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var f;a("all"),(f=document.getElementById("type-dropdown"))==null||f.classList.add("hidden")},children:[i.jsx("span",{children:"Tous les types"}),s==="all"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),["financial","performance","activity"].map(f=>i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var x;a(f),(x=document.getElementById("type-dropdown"))==null||x.classList.add("hidden")},children:[i.jsx("span",{children:m(f)}),s===f&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]},f))]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var f;return(f=document.getElementById("timeframe-dropdown"))==null?void 0:f.classList.toggle("hidden")},children:[i.jsx(pt,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:o==="all"?"Priode":p(o)}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"timeframe-dropdown",className:"absolute mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var f;c("all"),(f=document.getElementById("timeframe-dropdown"))==null||f.classList.add("hidden")},children:[i.jsx("span",{children:"Toutes les priodes"}),o==="all"&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),["week","month","quarter","year"].map(f=>i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var x;c(f),(x=document.getElementById("timeframe-dropdown"))==null||x.classList.add("hidden")},children:[i.jsx("span",{children:p(f)}),o===f&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]},f))]})})]})]})]}),i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:u.length>0?i.jsx("div",{className:"divide-y divide-gray-200",children:u.map(f=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"sm:flex sm:justify-between sm:items-center",children:[i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"p-2 bg-violet/10 rounded-lg",children:i.jsx(Bx,{className:"h-6 w-6 text-violet"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-medium text-bleu",children:f.title}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.description}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-violet/10 text-violet",children:m(f.type)}),i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange/10 text-orange",children:p(f.timeFrame)}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Gnr le ",d(f.date)]})]})]})]}),i.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-6 flex",children:i.jsxs("button",{className:"ml-auto flex items-center px-3 py-1.5 border border-gray-300 rounded-md text-sm text-bleu hover:bg-gray-100 transition-colors",children:[i.jsx(ko,{className:"h-4 w-4 mr-1.5"}),"Tlcharger"]})})]})},f.id))}):i.jsxs("div",{className:"text-center py-12 px-4",children:[i.jsx(Bx,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-bleu",children:"Aucun rapport trouv"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Aucun rapport ne correspond  vos critres de recherche."})]})})]})]})},wL=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(vL,{})}),_L=()=>{const[t,e]=A.useState("profile"),[n,r]=A.useState(!0),[s,a]=A.useState(!0),[o,c]=A.useState(!0),[u,d]=A.useState(!1),[m,p]=A.useState("fr"),[f,x]=A.useState(!1),j=()=>{x(!0),setTimeout(()=>{x(!1)},1e3)},b=[{id:"profile",label:"Profil",icon:Fs},{id:"notifications",label:"Notifications",icon:g3},{id:"security",label:"Scurit",icon:M3},{id:"billing",label:"Facturation",icon:Lm},{id:"company",label:"Entreprise",icon:y3},{id:"documents",label:"Documents",icon:rt},{id:"language",label:"Langue",icon:I3},{id:"help",label:"Aide",icon:$x}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsx("h1",{className:"text-2xl font-bold text-bleu",children:"Paramtres"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsx("nav",{className:"p-2",children:b.map(C=>i.jsxs("button",{className:`flex items-center w-full px-4 py-3 rounded-lg text-left mb-1 ${t===C.id?"bg-violet/10 text-violet font-medium":"text-bleu hover:bg-gray-100 hover:text-orange"}`,onClick:()=>e(C.id),children:[i.jsx(C.icon,{className:"h-5 w-5 mr-3"}),i.jsx("span",{children:C.label})]},C.id))})})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[t==="profile"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Informations personnelles"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Mettez  jour vos informations personnelles et vos coordonnes."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Prnom"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"Stphane"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"Martin"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ux,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"email",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"stephane.martin@oya.fr"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Tlphone"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(MN,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"tel",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"+33 6 12 34 56 78"})]})]})]}),i.jsx("div",{className:"pt-5",children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange",onClick:j,children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-ivoire",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enregistrer"]})})]}),t==="notifications"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Paramtres de notifications"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Configurez les notifications que vous souhaitez recevoir."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Notifications"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Activer ou dsactiver toutes les notifications"})]}),i.jsx("button",{className:"text-gray-500",onClick:()=>r(!n),children:n?i.jsx(Ul,{className:"h-6 w-6 text-violet"}):i.jsx(Fl,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Notifications par email"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Recevoir des notifications par email"})]}),i.jsx("button",{className:`text-gray-500 ${!n&&"opacity-50 cursor-not-allowed"}`,onClick:()=>n&&a(!s),disabled:!n,children:s&&n?i.jsx(Ul,{className:"h-6 w-6 text-violet"}):i.jsx(Fl,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Notifications push"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Recevoir des notifications push dans le navigateur"})]}),i.jsx("button",{className:`text-gray-500 ${!n&&"opacity-50 cursor-not-allowed"}`,onClick:()=>n&&c(!o),disabled:!n,children:o&&n?i.jsx(Ul,{className:"h-6 w-6 text-violet"}):i.jsx(Fl,{className:"h-6 w-6"})})]})]}),i.jsx("div",{className:"pt-5",children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange",onClick:j,children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-ivoire",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enregistrer"]})})]}),t==="security"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Paramtres de scurit"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Mettez  jour vos paramtres de scurit et de confidentialit."}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-medium text-bleu mb-4",children:"Changer le mot de passe"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Mot de passe actuel"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",placeholder:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nouveau mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",placeholder:""})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Confirmer le nouveau mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(wi,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"password",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",placeholder:""})]})]})]})]}),i.jsx("div",{className:"pt-5",children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange",onClick:j,children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-ivoire",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enregistrer"]})})]}),t==="company"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Informations de l'entreprise"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Mettez  jour les informations concernant votre entreprise."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nom de l'entreprise"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"OYA Solutions"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Numro SIRET"}),i.jsx("input",{type:"text",className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"12345678901234"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Adresse"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vi,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"123 Avenue des Champs-lyses"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Site web"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(E3,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"url",className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",defaultValue:"https://oya-solutions.fr"})]})]})]}),i.jsx("div",{className:"pt-5",children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange",onClick:j,children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-ivoire",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enregistrer"]})})]}),t==="language"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Paramtres de langue et d'affichage"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Personnalisez l'affichage et la langue de l'interface."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Langue"}),i.jsxs("select",{className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",value:m,onChange:C=>p(C.target.value),children:[i.jsx("option",{value:"fr",children:"Franais"}),i.jsx("option",{value:"en",children:"English"}),i.jsx("option",{value:"es",children:"Espaol"}),i.jsx("option",{value:"de",children:"Deutsch"})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Mode sombre"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Activer le mode sombre pour l'interface"})]}),i.jsx("button",{className:"text-gray-500",onClick:()=>d(!u),children:u?i.jsx(Ul,{className:"h-6 w-6 text-violet"}):i.jsx(Fl,{className:"h-6 w-6"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Fuseau horaire"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vs,{className:"h-5 w-5 text-orange"})}),i.jsxs("select",{className:"w-full pl-10 pr-3 py-2 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-violet focus:border-violet text-bleu",children:[i.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (UTC+01:00)"}),i.jsx("option",{value:"Europe/London",children:"Europe/London (UTC+00:00)"}),i.jsx("option",{value:"America/New_York",children:"America/New_York (UTC-05:00)"}),i.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (UTC+09:00)"})]})]})]})]}),i.jsx("div",{className:"pt-5",children:i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-ivoire bg-orange hover:bg-orange/80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange",onClick:j,children:[f?i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-ivoire",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Enregistrer"]})})]}),t==="help"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:"Centre d'aide"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Retrouvez de l'aide et des ressources pour utiliser notre plateforme."}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors cursor-pointer",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-5 w-5 text-violet mr-3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Documentation"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Consulter la documentation complte"})]})]}),i.jsx(cc,{className:"h-5 w-5 text-gray-400"})]})}),i.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors cursor-pointer",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx($x,{className:"h-5 w-5 text-violet mr-3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"FAQ"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Questions frquemment poses"})]})]}),i.jsx(cc,{className:"h-5 w-5 text-gray-400"})]})}),i.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm hover:bg-gray-50 transition-colors cursor-pointer",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ux,{className:"h-5 w-5 text-violet mr-3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-bleu",children:"Contacter le support"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Obtenir de l'aide personnalise"})]})]}),i.jsx(cc,{className:"h-5 w-5 text-gray-400"})]})})]})]}),(t==="billing"||t==="documents")&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-bleu",children:t==="billing"?"Facturation":"Documents"}),i.jsx("p",{className:"text-sm text-gray-600",children:t==="billing"?"Grez vos paramtres de facturation et votre abonnement.":"Grez vos modles de documents et vos paramtres de documents."}),i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-100",children:t==="billing"?i.jsx(Lm,{className:"h-8 w-8 text-gray-400"}):i.jsx(rt,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"mt-3 text-sm font-medium text-bleu",children:t==="billing"?"Paramtres de facturation":"Paramtres de documents"}),i.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"Cette fonctionnalit sera disponible prochainement."}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-bleu hover:bg-gray-100 focus:outline-none",children:"En savoir plus"})})]})]})]})})})]})]})},bL=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(_L,{})}),NL=()=>i.jsxs("div",{className:"min-h-screen bg-light text-dark",children:[i.jsx("nav",{className:"relative z-10 py-6 px-8 md:px-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("div",{className:"relative h-10 w-10 mr-3",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 opacity-70 blur-[2px]"}),i.jsx("div",{className:"relative h-full w-full rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-2xl",children:"O"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h1",{className:"text-2xl font-heading font-bold text-dark",children:"oya"}),i.jsx("span",{className:"text-xs tracking-[1.48px] text-dark",children:"intelligence"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[i.jsx("a",{href:"#features",className:"text-sm text-dark hover:text-primary-500 transition-colors",children:"Fonctionnalits"}),i.jsx("a",{href:"#why-oya",className:"text-sm text-dark hover:text-primary-500 transition-colors",children:"Pourquoi OYA"}),i.jsx("a",{href:"#testimonials",className:"text-sm text-dark hover:text-primary-500 transition-colors",children:"Tmoignages"}),i.jsx(je,{to:"/login",className:"text-sm text-dark hover:text-primary-500 transition-colors",children:"Se connecter"})]}),i.jsxs(je,{to:"/signup",className:"relative group overflow-hidden rounded-full px-6 py-2.5 bg-primary-500 text-white font-medium text-sm shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[i.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),"S'inscrire"]})]})}),i.jsxs("section",{className:"relative overflow-hidden pt-16 pb-24 px-8 md:px-12",children:[i.jsx("div",{className:"absolute -top-40 -left-40 w-96 h-96 bg-primary-500/10 rounded-full mix-blend-overlay filter blur-3xl opacity-30 animate-blob"}),i.jsx("div",{className:"absolute top-20 right-10 w-72 h-72 bg-secondary-500/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),i.jsx("div",{className:"absolute -bottom-40 left-20 w-80 h-80 bg-primary-500/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-heading font-bold leading-tight text-dark",children:[i.jsx("span",{className:"text-primary-500",children:"La plateforme IA "}),i.jsx("span",{className:"text-secondary-500",children:"qui transforme le recrutement"})]}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mt-4 rounded-full"})]}),i.jsx("p",{className:"text-dark text-lg max-w-xl",children:"OYA n'est pas un simple outil. C'est une plateforme d'IA RH intelligente, conue pour automatiser, scuriser et acclrer tout le processus de recrutement, tout en supprimant les intermdiaires coteux."}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[i.jsxs(je,{to:"/signup",className:"relative group overflow-hidden rounded-full px-8 py-3.5 bg-primary-500 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-center",children:[i.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),"Rvolutionner mon recrutement"]}),i.jsx("a",{href:"#features",className:"rounded-full px-8 py-3.5 bg-secondary-500/10 text-dark font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-secondary-500/20 text-center",children:"Dcouvrir la plateforme"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>i.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-light bg-primary-500/20"},t))}),i.jsxs("div",{className:"text-sm text-dark",children:[i.jsx("span",{className:"text-primary-500 font-semibold",children:"+200"})," entreprises nous font confiance"]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 to-secondary-500/20 rounded-3xl blur-3xl opacity-30"}),i.jsxs("div",{className:"relative bg-white rounded-3xl p-1 border border-dark/5 shadow-2xl",children:[i.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-primary-500/10 rounded-full translate-x-1/3 -translate-y-1/3 blur-2xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-secondary-500/10 rounded-full -translate-x-1/3 translate-y-1/3 blur-2xl"}),i.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden p-6 md:p-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-red-400"}),i.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-400"}),i.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-400"})]}),i.jsx("div",{className:"text-xs text-dark/60",children:"dashboard.oya.io"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-primary-500",children:"Vue d'ensemble"}),i.jsx("div",{className:"text-xs text-dark/60",children:"Cette semaine"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-light rounded-lg p-4 border border-dark/5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-dark/60 text-xs",children:"Candidats identifis"}),i.jsx("div",{className:"text-2xl font-bold mt-1 text-dark",children:"87"})]}),i.jsx("div",{className:"p-2 rounded-lg bg-primary-500/20",children:i.jsx(Ao,{className:"h-5 w-5 text-primary-500"})})]})}),i.jsx("div",{className:"bg-light rounded-lg p-4 border border-dark/5",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-dark/60 text-xs",children:"Entretiens programms"}),i.jsx("div",{className:"text-2xl font-bold mt-1 text-dark",children:"12"})]}),i.jsx("div",{className:"p-2 rounded-lg bg-secondary-500/20",children:i.jsx(pt,{className:"h-5 w-5 text-secondary-500"})})]})})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-primary-500/10 to-secondary-500/10 rounded-lg p-4 border border-dark/5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"text-sm font-medium text-dark",children:"Matching IA"}),i.jsxs("div",{className:"text-xs text-primary-500 flex items-center",children:["+35% ",i.jsx(Dm,{className:"ml-1 h-3 w-3"})]})]}),i.jsx("div",{className:"h-16 flex items-end space-x-2",children:[55,60,70,65,80,75,85,90,85,95,92].map((t,e)=>i.jsx("div",{className:"flex-1 bg-gradient-to-t from-primary-500/50 to-secondary-500/50 rounded-t-sm",style:{height:`${t}%`}},e))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-dark",children:"Derniers candidats matchs"}),i.jsx("div",{className:"space-y-2",children:[{title:"Dveloppeur Full-Stack",client:"Score de matching : 95%",status:"confirmed"},{title:"Data Scientist",client:"Score de matching : 87%",status:"pending"}].map((t,e)=>i.jsxs("div",{className:"flex items-center justify-between bg-light rounded-lg p-3 border border-dark/5",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"p-1.5 rounded-lg bg-secondary-500/20",children:i.jsx(lc,{className:"h-4 w-4 text-secondary-500"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-dark",children:t.title}),i.jsx("div",{className:"text-xs text-dark/60",children:t.client})]})]}),i.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${t.status==="confirmed"?"bg-emerald-500/20 text-emerald-600":"bg-amber-500/20 text-amber-600"}`,children:t.status==="confirmed"?"Contact":" contacter"})]},e))})]})]})]})]})]})]})})]}),i.jsx("section",{className:"py-16 px-8 md:px-12 bg-light text-dark",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-6",children:[i.jsx("div",{className:"inline-block rounded-full bg-primary-500/10 px-4 py-1.5 mb-2",children:i.jsx("p",{className:"text-sm font-medium text-primary-500",children:"Problme identifi"})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-dark",children:"Un modle de recrutement obsolte"}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mx-auto mt-4 mb-6 rounded-full"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-12",children:[i.jsxs("div",{className:"bg-dark/10 p-6 rounded-xl border border-dark/10",children:[i.jsx("div",{className:"text-4xl font-bold text-primary-500 mb-4",children:"70%"}),i.jsx("p",{className:"text-dark/80",children:"des recrutements passent encore par des intermdiaires (cabinets, plateformes, chasseurs),  des cots trs levs."})]}),i.jsxs("div",{className:"bg-dark/10 p-6 rounded-xl border border-dark/10",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(Vs,{className:"h-10 w-10 text-primary-500"})}),i.jsx("p",{className:"text-dark/80",children:"Les RH perdent du temps sur la recherche, le tri de CV, la prise de contact et la gestion de l'agenda."})]}),i.jsxs("div",{className:"bg-dark/10 p-6 rounded-xl border border-dark/10",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx(Ms,{className:"h-10 w-10 text-primary-500"})}),i.jsx("p",{className:"text-dark/80",children:"Les outils actuels sont fragments, souvent non connects, et lents  oprer."})]})]})]})}),i.jsx("section",{id:"features",className:"py-24 px-8 md:px-12 relative bg-light",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[i.jsx("div",{className:"inline-block rounded-full bg-secondary-500/10 px-4 py-1.5 mb-2",children:i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Notre solution"})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-dark mb-4",children:"L'IA qui restructure votre chane de recrutement"}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mx-auto mt-4 mb-6 rounded-full"}),i.jsx("p",{className:"text-dark/70",children:"OYA centralise tout comme un CRM mais agit comme un moteur intelligent centralis, capable de transformer vos processus de recrutement."})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:An,title:"Recherche automatique de profils",description:"Identifiez les candidats idaux sur toutes les plateformes et LinkedIn automatiquement, selon vos critres prcis.",color:"from-primary-500 to-primary-600",glow:"from-primary-600/10 via-primary-600/5 to-transparent"},{icon:m3,title:"Scoring intelligent",description:"valuez et estimez en temps rel la valeur salariale des candidats avec notre algorithme d'IA avanc.",color:"from-secondary-500 to-secondary-600",glow:"from-secondary-600/10 via-secondary-600/5 to-transparent"},{icon:Ao,title:"Centralisation des profils",description:"Grez tous vos candidats dans une interface intuitive avec filtres, notes et matching intelligent.",color:"from-primary-500 to-secondary-500",glow:"from-primary-600/10 via-secondary-600/5 to-transparent"},{icon:Hp,title:"Gestion automatise des contacts",description:"Organisez prises de contact, entretiens, relances et convocations sans effort grce  notre IA.",color:"from-secondary-500 to-secondary-600",glow:"from-secondary-600/10 via-secondary-600/5 to-transparent"},{icon:pt,title:"Mise  jour intelligente des agendas",description:"Synchronisez automatiquement les calendriers de tous vos recruteurs et candidats sans conflits.",color:"from-primary-500 to-primary-600",glow:"from-primary-600/10 via-primary-600/5 to-transparent"},{icon:rt,title:"Prparation des contrats",description:"Simplifiez la gnration, le suivi et le renouvellement des contrats selon vos directives RH.",color:"from-secondary-500 to-primary-500",glow:"from-secondary-600/10 via-primary-600/5 to-transparent"}].map((t,e)=>i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all duration-300 hover:scale-[1.02] border-l-2 group bg-white",style:{boxShadow:"0 4px 25px rgba(0, 0, 0, 0.06), inset 0 0 0 1px rgba(255, 255, 255, 0.8)",borderLeftColor:"rgba(0, 0, 0, 0.05)"},children:[i.jsx("div",{className:`absolute bottom-0 right-0 h-32 w-32 rounded-full bg-gradient-radial ${t.glow} opacity-0 group-hover:opacity-100 transition-opacity duration-700 ease-in-out blur-2xl`}),i.jsxs("div",{className:"relative p-6 md:p-8",children:[i.jsx("div",{className:"mb-5",children:i.jsxs("div",{className:"relative inline-block",children:[i.jsx("div",{className:`absolute inset-0 rounded-lg blur-sm opacity-50 bg-gradient-to-br ${t.color}`}),i.jsx("div",{className:`relative p-3 rounded-lg bg-gradient-to-br ${t.color} text-white shadow-lg`,children:i.jsx(t.icon,{className:"h-6 w-6"})})]})}),i.jsx("h3",{className:"text-xl font-semibold text-dark mb-3",children:t.title}),i.jsx("p",{className:"text-dark/70",children:t.description})]})]},e))})]})}),i.jsxs("section",{id:"why-oya",className:"py-24 px-8 md:px-12 relative bg-dark text-white",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-600/5 to-secondary-600/5"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[i.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-white mb-4",children:"Pourquoi choisir OYA ?"}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mx-auto mt-4 mb-6 rounded-full"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[i.jsx("div",{children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/20 to-secondary-500/20 rounded-3xl blur-3xl opacity-30"}),i.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1543269865-cbf427effbad?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",alt:"quipe OYA",className:"w-full h-full object-cover rounded-3xl"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark via-dark/20 to-transparent"})]})]})}),i.jsx("div",{className:"space-y-8",children:[{title:"Rduction drastique des cots",description:"liminez jusqu' 70% de vos dpenses lies aux cabinets et autres intermdiaires de recrutement."},{title:"Acclration du processus",description:"Diminuez de 62% le temps consacr au sourcing, tri et prslection des candidats grce  notre IA."},{title:"Plateforme tout-en-un",description:"Centralisez l'ensemble de votre chane de recrutement dans une unique solution puissante et intuitive."},{title:"Intelligence stratgique",description:"Bnficiez d'insights prcieux sur le march du travail et optimisez votre stratgie de recrutement."}].map((t,e)=>i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:i.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 text-white",children:i.jsx(Xi,{className:"h-5 w-5"})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-white",children:t.title}),i.jsx("p",{className:"mt-2 text-white/70",children:t.description})]})]},e))})]})]})]}),i.jsxs("section",{id:"testimonials",className:"py-24 px-8 md:px-12 relative bg-light",children:[i.jsx("div",{className:"absolute -top-40 left-20 w-72 h-72 bg-primary-600/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-4000"}),i.jsx("div",{className:"absolute -bottom-40 right-20 w-72 h-72 bg-secondary-600/10 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob"}),i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-dark mb-4",children:"Ce que nos clients disent"}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mx-auto mt-4 mb-6 rounded-full"}),i.jsx("p",{className:"text-dark/70",children:"Dcouvrez comment OYA a transform les processus de recrutement de nos clients  travers la France."})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{name:"Sophie Martin",role:"Directrice RH, Groupe Tech",quote:"OYA a rvolutionn notre faon de recruter. Nous avons rduit nos cots d'acquisition de 65% tout en acclrant considrablement nos dlais de recrutement.",rating:5},{name:"Thomas Durand",role:"VP People, Scale-up SaaS",quote:"L'IA d'OYA nous a permis d'identifier des candidats parfaitement adapts  notre culture d'entreprise. Le matching est d'une prcision impressionnante.",rating:5},{name:"La Dubois",role:"Talent Acquisition Manager",quote:"Fini les outils fragments et les process manuels. OYA centralise tout notre recrutement et nous permet d'tre bien plus efficaces au quotidien.",rating:4}].map((t,e)=>i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md transition-all duration-300 hover:scale-[1.02] group bg-white",style:{boxShadow:"0 4px 25px rgba(0, 0, 0, 0.06), inset 0 0 0 1px rgba(255, 255, 255, 0.8)"},children:[i.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-gradient-to-r from-primary-500/10 to-secondary-500/10 rounded-full -translate-x-1/3 -translate-y-1/3 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),i.jsxs("div",{className:"relative p-6 md:p-8",children:[i.jsx("div",{className:"flex mb-6",children:Array(5).fill(0).map((n,r)=>i.jsx(U3,{className:`h-5 w-5 ${r<t.rating?"text-primary-500":"text-dark/20"}`,fill:r<t.rating?"currentColor":"none"},r))}),i.jsxs("blockquote",{className:"text-dark/80 mb-6",children:['"',t.quote,'"']}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary-500/20 to-secondary-500/20 flex items-center justify-center text-dark font-bold",children:t.name.split(" ").map(n=>n[0]).join("")}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"font-medium text-dark",children:t.name}),i.jsx("div",{className:"text-sm text-dark/60",children:t.role})]})]})]})]},e))})]})]}),i.jsxs("section",{className:"py-24 px-8 md:px-12 relative bg-dark text-white",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-600/5 to-secondary-600/5"}),i.jsxs("div",{className:"max-w-5xl mx-auto relative",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-heading font-bold text-white mb-4",children:["Prt  ",i.jsx("span",{className:"text-primary-500",children:"simplifier"}),", ",i.jsx("span",{className:"text-secondary-500",children:"acclrer"})," et ",i.jsx("span",{className:"text-primary-500",children:"transformer"})," vos recrutements ?"]}),i.jsx("p",{className:"text-white/70 max-w-3xl mx-auto",children:"Rejoignez les entreprises qui ont dj adopt OYA et rvolutionnez votre stratgie d'acquisition de talents."})]}),i.jsxs("div",{className:"relative p-8 md:p-10 rounded-3xl overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600/20 to-secondary-600/20 blur-3xl opacity-30"}),i.jsx("div",{className:"absolute inset-0 backdrop-blur-sm bg-dark/60 border border-white/10 rounded-3xl"}),i.jsxs("div",{className:"relative flex flex-col md:flex-row gap-8 md:gap-12 items-center justify-between",children:[i.jsxs("div",{className:"space-y-4 text-center md:text-left",children:[i.jsx("h3",{className:"text-2xl font-bold text-white",children:"Dmarrez votre transformation"}),i.jsx("p",{className:"text-white/70",children:"Essai gratuit de 14 jours avec toutes les fonctionnalits. Aucune carte bancaire requise."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(je,{to:"/signup",className:"relative group overflow-hidden rounded-full px-8 py-3.5 bg-primary-500 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 text-center",children:[i.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),"Essayer gratuitement"]}),i.jsx("a",{href:"#",className:"rounded-full px-8 py-3.5 bg-white/5 backdrop-blur-sm border border-white/10 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-white/10 text-center",children:"Demander une dmo"})]})]})]})]})]}),i.jsx("footer",{className:"py-12 px-8 md:px-12 border-t border-dark/10 bg-light",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"col-span-2 md:col-span-1",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsxs("div",{className:"relative h-10 w-10 mr-3",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 opacity-70 blur-[2px]"}),i.jsx("div",{className:"relative h-full w-full rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-2xl",children:"O"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h1",{className:"text-2xl font-heading font-bold text-dark",children:"oya"}),i.jsx("span",{className:"text-xs tracking-[1.48px] text-dark",children:"intelligence"})]})]}),i.jsx("p",{className:"text-dark/70 mb-6",children:"La plateforme IA qui transforme le recrutement en entreprise."}),i.jsx("div",{className:"flex space-x-4",children:["twitter","linkedin","facebook","instagram"].map(t=>i.jsx("a",{href:"#",className:"h-10 w-10 rounded-full bg-primary-500/10 flex items-center justify-center text-primary-500 hover:bg-primary-500/20 transition-colors duration-300",children:i.jsx("span",{className:"sr-only",children:t})},t))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-dark mb-4",children:"Produit"}),i.jsx("ul",{className:"space-y-3",children:["Fonctionnalits","Tarifs","Tmoignages","FAQ"].map(t=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-dark/70 hover:text-primary-500 transition-colors duration-300",children:t})},t))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-dark mb-4",children:"Entreprise"}),i.jsx("ul",{className:"space-y-3",children:[" propos","Blog","Carrires","Contact"].map(t=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-dark/70 hover:text-primary-500 transition-colors duration-300",children:t})},t))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-dark mb-4",children:"Lgal"}),i.jsx("ul",{className:"space-y-3",children:["Confidentialit","Conditions","Cookies","Mentions lgales"].map(t=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-dark/70 hover:text-primary-500 transition-colors duration-300",children:t})},t))})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-dark/10 flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-dark/70 text-sm",children:" 2024 OYA. Tous droits rservs."}),i.jsx("div",{className:"mt-4 md:mt-0",children:i.jsxs("select",{className:"bg-white border border-dark/10 rounded-md px-3 py-2 text-dark/70 text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"fr",children:"Franais"}),i.jsx("option",{value:"en",children:"English"})]})})]})]})})]}),EL=()=>{const[t,e]=A.useState(""),[n,r]=A.useState("all"),[s,a]=A.useState("all"),c=[{id:"1",workerId:"w1",type:"contract",title:"Contrat de mission - Soudeur",url:"/documents/contract-1.pdf",expiryDate:new Date("2024-06-15"),status:"valid",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10")},{id:"2",workerId:"w1",type:"certification",title:"Certification soudure TIG",url:"/documents/cert-1.pdf",expiryDate:new Date("2024-12-31"),status:"valid",createdAt:new Date("2023-12-05"),updatedAt:new Date("2023-12-05")},{id:"3",workerId:"w2",type:"id",title:"Pice d'identit - Martin Dubois",url:"/documents/id-2.pdf",status:"valid",createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01")},{id:"4",workerId:"w3",type:"contract",title:"Contrat de mission - lectricien",url:"/documents/contract-3.pdf",expiryDate:new Date("2024-02-28"),status:"expired",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15")},{id:"5",workerId:"w4",type:"other",title:"Attestation de formation scurit",url:"/documents/training-4.pdf",status:"pending",createdAt:new Date("2024-03-01"),updatedAt:new Date("2024-03-01")},{id:"6",workerId:"w2",type:"certification",title:"Habilitation lectrique",url:"/documents/electrical-cert.pdf",expiryDate:new Date("2025-01-10"),status:"valid",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10")}].filter(p=>{const f=p.title.toLowerCase().includes(t.toLowerCase()),x=n==="all"||p.status===n,j=s==="all"||p.type===s;return f&&x&&j}),u=p=>new Intl.DateTimeFormat("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(p),d=p=>{switch(p){case"valid":return i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[i.jsx(Xi,{className:"w-3 h-3 mr-1"}),"Valide"]});case"expired":return i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:[i.jsx(ks,{className:"w-3 h-3 mr-1"}),"Expir"]});case"pending":return i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:[i.jsx(Vs,{className:"w-3 h-3 mr-1"}),"En attente"]});default:return null}},m=p=>{switch(p){case"id":return"Pice d'identit";case"contract":return"Contrat";case"certification":return"Certification";case"other":return"Autre";default:return p}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Documents"}),i.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-gray-900",children:[i.jsx(VN,{className:"w-4 h-4 mr-2"}),"Nouveau document"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(An,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-700 bg-gray-800/50 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm text-gray-200 placeholder-gray-400",placeholder:"Rechercher un document...",value:t,onChange:p=>e(p.target.value)})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"block w-full pl-3 pr-10 py-2 border border-gray-700 bg-gray-800/50 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm text-gray-200",value:n,onChange:p=>r(p.target.value),children:[i.jsx("option",{value:"all",children:"Tous les statuts"}),i.jsx("option",{value:"valid",children:"Valide"}),i.jsx("option",{value:"expired",children:"Expir"}),i.jsx("option",{value:"pending",children:"En attente"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx(Mi,{className:"h-4 w-4 text-gray-400"})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"block w-full pl-3 pr-10 py-2 border border-gray-700 bg-gray-800/50 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 text-sm text-gray-200",value:s,onChange:p=>a(p.target.value),children:[i.jsx("option",{value:"all",children:"Tous les types"}),i.jsx("option",{value:"id",children:"Pice d'identit"}),i.jsx("option",{value:"contract",children:"Contrat"}),i.jsx("option",{value:"certification",children:"Certification"}),i.jsx("option",{value:"other",children:"Autre"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:i.jsx(Mi,{className:"h-4 w-4 text-gray-400"})})]})]})]}),i.jsx("div",{className:"overflow-hidden rounded-lg shadow",children:i.jsx("div",{className:"relative overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm text-gray-200",children:[i.jsx("thead",{className:"bg-gray-700/50 text-xs uppercase text-gray-300",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Titre"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Type"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date de cration"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date d'expiration"}),i.jsx("th",{scope:"col",className:"px-6 py-3",children:"Statut"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Actions"})]})}),i.jsx("tbody",{children:c.length>0?c.map(p=>i.jsxs("tr",{className:"border-b border-gray-700 bg-gray-800/30 hover:bg-gray-700/30",children:[i.jsx("td",{className:"px-6 py-4 font-medium whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"w-5 h-5 mr-3 text-indigo-400"}),p.title]})}),i.jsx("td",{className:"px-6 py-4",children:m(p.type)}),i.jsx("td",{className:"px-6 py-4",children:u(p.createdAt)}),i.jsx("td",{className:"px-6 py-4",children:p.expiryDate?u(p.expiryDate):"-"}),i.jsx("td",{className:"px-6 py-4",children:d(p.status)}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx("button",{className:"p-1.5 rounded-md text-gray-400 hover:text-white hover:bg-gray-700",children:i.jsx(ko,{className:"w-4 h-4"})}),i.jsx("button",{className:"p-1.5 rounded-md text-gray-400 hover:text-white hover:bg-gray-700",children:i.jsx(R3,{className:"w-4 h-4"})})]})})]},p.id)):i.jsx("tr",{className:"border-b border-gray-700 bg-gray-800/30",children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"Aucun document trouv"})})})]})})})]})},jL=()=>i.jsx("div",{className:"space-y-6",children:i.jsx(EL,{})}),TL="activities",IL="missions",kL="workers",SL="documents",CL=async t=>{try{const e=await Qr(Ke(Ne,kL),{...t,createdAt:en()});return console.log(`Travailleur cr avec ID: ${e.id}`),e.id}catch(e){throw console.error("Erreur lors de la cration du travailleur:",e),e}},AL=async t=>{try{const e=await Qr(Ke(Ne,IL),{...t,createdAt:en()});return console.log(`Mission cre avec ID: ${e.id}`),e.id}catch(e){throw console.error("Erreur lors de la cration de la mission:",e),e}},RL=async t=>{try{const e=await Qr(Ke(Ne,SL),{...t,createdAt:en()});return console.log(`Document cr avec ID: ${e.id}`),e.id}catch(e){throw console.error("Erreur lors de la cration du document:",e),e}},PL=async t=>{try{const e=await Qr(Ke(Ne,TL),{...t,timestamp:en()});return console.log(`Activit cre avec ID: ${e.id}`),e.id}catch(e){throw console.error("Erreur lors de la cration de l'activit:",e),e}},DL=async t=>{if(!t){console.error("ID utilisateur requis pour gnrer les donnes de test");return}console.log("Gnration des donnes de test pour le dashboard...");const e=[{name:"Jean Dupont",email:"jean.dupont@example.com",phone:"0123456789",position:"Soudeur",status:"active",skills:["Soudure TIG","Soudure MIG"],userId:t},{name:"Marie Martin",email:"marie.martin@example.com",phone:"0987654321",position:"lectricienne",status:"active",skills:["Installation lectrique","Dpannage"],userId:t},{name:"Paul Bernard",email:"paul.bernard@example.com",phone:"0678912345",position:"Manutentionnaire",status:"active",skills:["Conduite de chariot lvateur","Gestion de stock"],userId:t},{name:"Sophie Legrand",email:"sophie.legrand@example.com",phone:"0654321987",position:"Dveloppeuse Web",status:"active",skills:["React","TypeScript","Node.js"],userId:t},{name:"Thomas Petit",email:"thomas.petit@example.com",phone:"0612345678",position:"Plombier",status:"inactive",skills:["Installation sanitaire","Rparation"],userId:t}],n=[];for(const u of e){const d=await CL(u);n.push(d)}const r=new Date,s=[{title:"Soudeur TIG",client:"Industrie Mtallique SA",date:new Date(r.getTime()+7*24*60*60*1e3),status:"confirmed",workersCount:3,workers:n.slice(0,3),createdBy:t,description:"Soudure de pices mtalliques pour un projet industriel",location:"Lyon, France"},{title:"Manutentionnaire",client:"Logistique Express",date:new Date(r.getTime()+14*24*60*60*1e3),status:"pending",workersCount:5,workers:n,createdBy:t,description:"Chargement et dchargement de marchandises",location:"Paris, France"},{title:"lectricien",client:"BTP Solutions",date:new Date(r.getTime()+21*24*60*60*1e3),status:"confirmed",workersCount:2,workers:n.slice(1,3),createdBy:t,description:"Installation lectrique sur un chantier de construction",location:"Marseille, France"},{title:"Dveloppeur Web",client:"Tech Innovations",date:new Date(r.getTime()+30*24*60*60*1e3),status:"pending",workersCount:1,workers:[n[3]],createdBy:t,description:"Dveloppement d'une application web pour un client",location:"Nantes, France"},{title:"Plombier",client:"Habitat Confort",date:new Date(r.getTime()-14*24*60*60*1e3),status:"completed",workersCount:1,workers:[n[4]],createdBy:t,description:"Rnovation complte de salle de bain",location:"Bordeaux, France"}],a=[];for(const u of s){const d=await AL(u);a.push(d)}const o=[{title:"Contrat de mission #12345",type:"contract",status:"pending",relatedTo:a[0],createdBy:t,description:"Contrat de mission pour le poste de soudeur TIG"},{title:"Fiche de paie - Mars 2024",type:"payslip",status:"approved",relatedTo:n[0],createdBy:t,description:"Fiche de paie pour Jean Dupont"},{title:"Attestation Ple Emploi",type:"certificate",status:"pending",relatedTo:n[1],createdBy:t,description:"Attestation pour Marie Martin"},{title:"Facture client #789",type:"invoice",status:"pending",relatedTo:a[2],createdBy:t,description:"Facture pour BTP Solutions"},{title:"Avenant au contrat",type:"contract",status:"pending",relatedTo:a[1],createdBy:t,description:"Avenant au contrat pour la mission de manutention"}];for(const u of o)await RL(u);const c=[{type:"mission",title:"Nouvelle mission cre",description:"Soudeur TIG - Industrie Mtallique SA",status:"success",userId:t,createdBy:{id:t,name:"Sophie Martin"}},{type:"worker",title:"Nouvel intrimaire inscrit",description:"Jean Dupont - Soudeur",status:"success",userId:t,createdBy:{id:t,name:"Marc Lefebvre"}},{type:"document",title:"Document en attente",description:"Contrat de mission #12345",status:"warning",userId:t,createdBy:{id:t,name:"La Dubois"}},{type:"mission",title:"Mission termine",description:"lectricien - BTP Solutions",status:"success",userId:t,createdBy:{id:t,name:"Thomas Bernard"}},{type:"payment",title:"Paiement effectu",description:"Facture #456 - 1250",status:"success",userId:t,createdBy:{id:t,name:"Julie Moreau"}}];for(const u of c)await PL(u);console.log("Gnration des donnes de test termine !")},LL=()=>{const{user:t}=Cn(),[e,n]=A.useState(!1),[r,s]=A.useState(!1),[a,o]=A.useState(null),c=async()=>{if(!t){o("Vous devez tre connect pour gnrer des donnes");return}try{n(!0),o(null),s(!1),await DL(t.uid),s(!0)}catch(u){console.error("Erreur lors de la gnration des donnes:",u),o("Une erreur est survenue lors de la gnration des donnes")}finally{n(!1)}};return i.jsxs("div",{className:"space-y-8 animate-fade-in text-white",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-primary-600/20 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob"}),i.jsx("div",{className:"absolute -bottom-20 -right-20 w-64 h-64 bg-secondary-600/20 rounded-full mix-blend-overlay filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-heading font-bold text-transparent bg-gradient-to-r from-primary-400 via-blue-400 to-secondary-400 bg-clip-text",children:"Gnrateur de donnes"}),i.jsx("div",{className:"h-1 w-20 bg-gradient-to-r from-primary-500 to-secondary-500 mt-2 rounded-full"}),i.jsx("p",{className:"mt-3 text-gray-400 max-w-2xl",children:"Cet outil vous permet de gnrer des donnes de test pour le tableau de bord. Utilisez-le uniquement en environnement de dveloppement."})]})})]}),i.jsxs("div",{className:"relative overflow-hidden rounded-xl backdrop-blur-md group transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-gray-950/40"}),i.jsx("div",{className:"absolute -bottom-8 -right-8 h-40 w-40 rounded-full bg-gradient-radial from-violet-600/30 via-indigo-600/20 to-transparent opacity-20 group-hover:opacity-30 transition-opacity duration-500 blur-xl"}),i.jsx("div",{className:"absolute inset-0 rounded-xl border border-white/10"}),i.jsxs("div",{className:"relative p-8",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-violet-500 to-indigo-600 shadow-lg mr-4",children:i.jsx(zx,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Gnrer des donnes de test"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Cette opration crera des intrimaires, missions, documents et activits fictifs lis  votre compte."})]})]}),r&&i.jsxs("div",{className:"mb-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-lg flex items-center",children:[i.jsx(Xi,{className:"h-5 w-5 text-emerald-400 mr-3 flex-shrink-0"}),i.jsx("p",{className:"text-emerald-300",children:"Les donnes de test ont t gnres avec succs ! Vous pouvez maintenant retourner au tableau de bord."})]}),a&&i.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center",children:[i.jsx(ks,{className:"h-5 w-5 text-red-400 mr-3 flex-shrink-0"}),i.jsx("p",{className:"text-red-300",children:a})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-400",children:[i.jsx("strong",{className:"text-white",children:"Utilisateur actuel :"})," ",t?t.email:"Non connect"]})}),i.jsx("button",{onClick:c,disabled:e||!t,className:"px-6 py-3 bg-gradient-to-r from-primary-500 to-secondary-500 text-white rounded-lg font-medium flex items-center space-x-2 hover:from-primary-600 hover:to-secondary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{children:"Gnration en cours..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(zx,{className:"h-5 w-5"}),i.jsx("span",{children:"Gnrer les donnes"})]})})]})]})]}),i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg mt-6",children:[i.jsxs("h3",{className:"text-red-300 font-semibold mb-2 flex items-center",children:[i.jsx(ks,{className:"h-5 w-5 mr-2"}),"Attention"]}),i.jsx("p",{className:"text-gray-300 text-sm",children:"Cette fonctionnalit est destine uniquement  des fins de dveloppement et de test. Ne gnrez pas de donnes fictives dans un environnement de production."})]}),i.jsxs("div",{className:"p-6 bg-gray-800/30 rounded-lg border border-white/5",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Instructions"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-300",children:[i.jsx("li",{children:'Cliquez sur le bouton "Gnrer les donnes" pour crer un ensemble de donnes de test.'}),i.jsx("li",{children:"Retournez au tableau de bord pour voir les donnes gnres."}),i.jsx("li",{children:"Les donnes incluent des intrimaires, missions, documents et activits."}),i.jsx("li",{children:"Toutes les donnes sont lies  votre compte utilisateur."})]})]})]})},OL=()=>{var T,_,I,k,D;const{id:t}=Mf(),e=Wi(),[n,r]=A.useState(null),[s,a]=A.useState(!0),[o,c]=A.useState(null),[u,d]=A.useState(!1),[m,p]=A.useState(!1);A.useEffect(()=>{(async()=>{if(!t){c("ID du candidat non spcifi"),a(!1);return}try{const E=await Yu(t);E?r(E):c("Candidat non trouv")}catch(E){console.error("Erreur lors du chargement des donnes:",E),c("Erreur lors du chargement des donnes")}finally{a(!1)}})()},[t]);const f=L=>L?new Date(L).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non spcifie",x=async()=>{if(t)try{p(!0),await cL(t),e("/dashboard/candidates")}catch(L){console.error("Erreur lors de la suppression:",L),c("Erreur lors de la suppression du candidat"),p(!1),d(!1)}};if(s)return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Te,{className:"h-10 w-10 text-orange animate-spin"})});if(o||!n)return i.jsxs("div",{className:"bg-red-500/10 border border-red-400/20 p-6 rounded-xl text-red-400 flex flex-col items-center justify-center",children:[i.jsx(ks,{className:"h-12 w-12 text-red-400 mb-4"}),i.jsx("p",{className:"text-lg",children:o||"Candidat introuvable"}),i.jsxs(je,{to:"/dashboard/candidates",className:"mt-4 px-4 py-2 bg-bleu hover:bg-bleu/80 rounded-lg flex items-center text-ivoire transition-colors",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Retour  la liste"})]})]});const b={available:{bg:"bg-emerald-500/10",text:"text-emerald-500",dot:"bg-emerald-500"},interviewing:{bg:"bg-orange/10",text:"text-orange",dot:"bg-orange"},hired:{bg:"bg-violet/10",text:"text-violet",dot:"bg-violet"},inactive:{bg:"bg-gray-400/10",text:"text-gray-400",dot:"bg-gray-400"}}[n.status],C=n.status==="available"?"Disponible":n.status==="interviewing"?"En entretien":n.status==="hired"?"Recrut":"Inactif";return i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(je,{to:"/dashboard/candidates",className:"mr-4 p-2 rounded-lg hover:bg-ivoire/10 transition-colors",children:i.jsx(zr,{className:"h-5 w-5 text-bleu"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-bleu",children:[n.firstName," ",n.lastName]}),i.jsx("div",{className:"flex items-center mt-1 text-gray-600",children:i.jsxs("div",{className:`flex items-center ${b.bg} ${b.text} px-2.5 py-1 rounded-full text-xs font-medium`,children:[i.jsx("div",{className:`w-2 h-2 ${b.dot} rounded-full mr-2`}),C]})})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(je,{to:`/dashboard/candidates/${t}/interview`,className:"px-4 py-2 bg-violet hover:bg-violet/80 text-ivoire rounded-lg transition-colors flex items-center",children:[i.jsx(pt,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Planifier un entretien"})]}),i.jsxs(je,{to:`/dashboard/candidates/${t}/value`,className:"px-4 py-2 bg-bleu hover:bg-bleu/80 text-ivoire rounded-lg transition-colors flex items-center",children:[i.jsx(is,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Estimer la valeur"})]}),i.jsxs(je,{to:`/dashboard/candidates/edit/${t}`,className:"px-4 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors flex items-center",children:[i.jsx(F3,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Modifier"})]}),i.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-colors flex items-center",children:[i.jsx(nu,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Supprimer"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[i.jsx("div",{className:"xl:col-span-2 bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-bleu mb-6 border-b border-gray-200 pb-2",children:"Informations personnelles"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-10",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Nom complet"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fs,{className:"h-5 w-5 text-orange mr-2"}),i.jsxs("p",{className:"text-bleu",children:[n.firstName," ",n.lastName]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Co,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("a",{href:`mailto:${n.email}`,className:"text-bleu hover:text-orange transition-colors",children:n.email})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Tlphone"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(MN,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("a",{href:`tel:${n.phone}`,className:"text-bleu hover:text-orange transition-colors",children:n.phone})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Date de naissance"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(pt,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("p",{className:"text-bleu",children:f(n.birthDate)})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Adresse"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Vi,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("p",{className:"text-bleu",children:n.address||"Non spcifie"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Disponibilit"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Vs,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("p",{className:"text-bleu",children:n.availability})]})]}),n.linkedinProfile&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"LinkedIn"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(b3,{className:"h-5 w-5 text-orange mr-2"}),i.jsx("a",{href:n.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"text-bleu hover:text-orange transition-colors",children:"Voir profil LinkedIn"})]})]})]})]})}),i.jsx("div",{className:"xl:col-span-1 bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-bleu mb-4 pb-2 border-b border-gray-200",children:"CV et Documents"}),n.cvUrl?i.jsxs("div",{className:"bg-ivoire/50 p-4 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(rt,{className:"h-6 w-6 text-violet mr-2"}),i.jsx("span",{className:"text-bleu font-medium",children:"CV"})]}),i.jsxs("a",{href:n.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 bg-violet/10 hover:bg-violet/20 rounded-lg text-violet transition-colors w-full mt-2",children:[i.jsx(ko,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Tlcharger le CV"})]})]}):i.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl border border-gray-200 text-center",children:[i.jsx(rt,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"Aucun CV disponible"})]}),i.jsxs("label",{className:"flex items-center justify-center px-4 py-2 bg-orange/10 hover:bg-orange/20 rounded-lg text-orange transition-colors cursor-pointer mt-4",children:[i.jsx(Qo,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Ajouter un document"}),i.jsx("input",{type:"file",className:"hidden"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[i.jsx("div",{className:"xl:col-span-2 bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-bleu mb-6 border-b border-gray-200 pb-2",children:"Profil professionnel"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-bleu font-semibold mb-3 flex items-center",children:[i.jsx(Ms,{className:"h-5 w-5 text-violet mr-2"}),"Comptences"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((L,E)=>i.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-violet/10 text-violet border border-violet/20",children:L},E))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-bleu font-semibold mb-3 flex items-center",children:[i.jsx(pt,{className:"h-5 w-5 text-violet mr-2"}),"Exprience"]}),(T=n.cvAnalysis)!=null&&T.experience&&n.cvAnalysis.experience.length>0?i.jsx("ul",{className:"space-y-2 text-gray-700",children:n.cvAnalysis.experience.map((L,E)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-violet mt-1.5 mr-2 flex-shrink-0"}),i.jsx("span",{children:L})]},E))}):i.jsx("p",{className:"text-gray-500 italic",children:"Aucune exprience disponible"})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-bleu font-semibold mb-3",children:"Formation"}),(_=n.cvAnalysis)!=null&&_.education&&n.cvAnalysis.education.length>0?i.jsx("ul",{className:"space-y-2 text-gray-700",children:n.cvAnalysis.education.map((L,E)=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-violet mt-1.5 mr-2 flex-shrink-0"}),i.jsx("span",{children:L})]},E))}):i.jsx("p",{className:"text-gray-500 italic",children:"Aucune formation disponible"})]}),((I=n.cvAnalysis)==null?void 0:I.summary)&&i.jsxs("div",{className:"mt-6 bg-gray-100 p-4 rounded-xl border border-gray-200",children:[i.jsx("h3",{className:"text-bleu font-semibold mb-2",children:"Rsum"}),i.jsx("p",{className:"text-gray-700",children:n.cvAnalysis.summary})]})]})}),i.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-bleu mb-4 pb-2 border-b border-gray-200",children:"Match IA"}),(k=n.cvAnalysis)!=null&&k.recommendedJobs&&n.cvAnalysis.recommendedJobs.length>0?i.jsx("ul",{className:"space-y-3",children:n.cvAnalysis.recommendedJobs.map((L,E)=>i.jsxs("li",{className:"bg-gray-100 p-3 rounded-lg border border-gray-200",children:[i.jsx("p",{className:"text-bleu font-medium",children:L}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:"text-gray-500 text-sm",children:"Score de compatibilit"}),i.jsxs("span",{className:"text-orange font-semibold",children:[90-E*7,"%"]})]})]},E))}):i.jsx("p",{className:"text-gray-500 italic",children:"Aucun poste recommand"})]})}),i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-bold text-bleu mb-4 pb-2 border-b border-gray-200",children:"Estimation de valeur"}),(D=n.cvAnalysis)!=null&&D.marketValue?i.jsxs("div",{children:[i.jsxs("div",{className:"bg-gray-100 p-4 rounded-xl border border-gray-200",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Fourchette salariale estime"}),i.jsxs("div",{className:"flex items-center text-bleu font-bold text-xl",children:[i.jsx(is,{className:"h-5 w-5 text-orange mr-1"}),i.jsxs("span",{children:[new Intl.NumberFormat("fr-FR",{style:"currency",currency:n.cvAnalysis.marketValue.currency,maximumFractionDigits:0}).format(n.cvAnalysis.marketValue.min)," -",new Intl.NumberFormat("fr-FR",{style:"currency",currency:n.cvAnalysis.marketValue.currency,maximumFractionDigits:0}).format(n.cvAnalysis.marketValue.max)]})]})]}),i.jsxs(je,{to:`/dashboard/candidates/${t}/value`,className:"flex items-center justify-center px-4 py-2 bg-orange/10 hover:bg-orange/20 rounded-lg text-orange transition-colors mt-4",children:[i.jsx(is,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Analyse dtaille"})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx(is,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune estimation disponible"}),i.jsxs(je,{to:`/dashboard/candidates/${t}/value`,className:"inline-flex items-center px-4 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors",children:[i.jsx(is,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Estimer la valeur"})]})]})]})})]})]}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-ivoire rounded-xl border border-gray-200 max-w-md w-full p-6 shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-bleu mb-4",children:"Confirmer la suppression"}),i.jsxs("p",{className:"text-gray-700 mb-6",children:["tes-vous sr de vouloir supprimer le profil de ",n.firstName," ",n.lastName," ? Cette action est irrversible."]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors",disabled:m,children:"Annuler"}),i.jsx("button",{onClick:x,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center",disabled:m,children:m?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"}),i.jsx("span",{children:"Suppression..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(nu,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Supprimer"})]})})]})]})})]})},WN="workers",ML=async()=>{try{const t=Fe.currentUser;if(!t)throw new Error("Utilisateur non authentifi");const e=ln(Ke(Ne,WN),Vt("userId","==",t.uid));return(await cn(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){throw console.error("Erreur lors de la rcupration des intrimaires:",t),t}},VL=async t=>{try{const e=Os(Ne,WN,t),n=await mb(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Erreur lors de la rcupration de l'intrimaire:",e),e}},FL=async t=>{try{const e=await VL(t);if(!e)throw new Error("Intrimaire non trouv");return[{id:"job1",title:"Dveloppeur Frontend React",company:{id:"company1",name:"TechSolutions"},location:"Paris",description:"Nous recherchons un dveloppeur frontend pour travailler sur des projets React innovants.",postedAt:new Date().toISOString(),salary:{min:4e4,max:5e4,currency:"EUR"},type:"CDI",skills:["React","JavaScript","TypeScript","CSS","HTML"]},{id:"job2",title:"Dveloppeur FullStack JavaScript",company:{id:"company2",name:"WebInnovate"},location:"Lyon",description:"Poste de dveloppeur fullstack avec une forte emphase sur Node.js et React.",postedAt:new Date().toISOString(),salary:{min:45e3,max:55e3,currency:"EUR"},type:"CDD - 12 mois",skills:["JavaScript","Node.js","Express","React","MongoDB"]},{id:"job3",title:"Dveloppeur Backend Java",company:{id:"company3",name:"SoftwareEnterprise"},location:"Bordeaux",description:"Dveloppement d'APIs et de services backend avec Java et Spring Boot.",postedAt:new Date().toISOString(),salary:{min:42e3,max:52e3,currency:"EUR"},type:"CDI",skills:["Java","Spring Boot","JPA","SQL","REST API"]},{id:"job4",title:"Dveloppeur PHP Symfony",company:{id:"company4",name:"AgenceDigitale"},location:"Marseille",description:"Dveloppement d'applications web avec PHP et Symfony.",postedAt:new Date().toISOString(),salary:{min:35e3,max:45e3,currency:"EUR"},type:"CDI",skills:["PHP","Symfony","MySQL","JavaScript","HTML","CSS"]},{id:"job5",title:"Intgrateur Web",company:{id:"company5",name:"DesignAgency"},location:"Lille",description:"Intgration de maquettes et dveloppement frontend.",postedAt:new Date().toISOString(),salary:{min:3e4,max:38e3,currency:"EUR"},type:"Freelance",skills:["HTML","CSS","JavaScript","Responsive Design","SASS"]},{id:"job6",title:"Dveloppeur .NET",company:{id:"company6",name:"EnterpriseSoft"},location:"Nantes",description:"Dveloppement d'applications d'entreprise avec .NET Core.",postedAt:new Date().toISOString(),salary:{min:4e4,max:5e4,currency:"EUR"},type:"CDI",skills:["C#",".NET Core","SQL Server","Azure","REST API"]}].map(s=>{const a=e.skills,o=s.skills,c=a.filter(f=>o.some(x=>x.toLowerCase()===f.toLowerCase())),u=o.filter(f=>!a.some(x=>x.toLowerCase()===f.toLowerCase())),d=o.length>0?c.length/o.length*100:0,m=a.length>0?c.length/a.length*100:0,p=Math.round(d*.7+m*.3);return{job:s,matchScore:p,matchedSkills:c,missingSkills:u}}).sort((s,a)=>a.matchScore-s.matchScore)}catch(e){throw console.error("Erreur lors de la recherche des correspondances d'emploi:",e),e}},UL=({workerId:t,workerName:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState([]),[o,c]=A.useState(!0),[u,d]=A.useState(null),[m,p]=A.useState(""),[f,x]=A.useState(0);A.useEffect(()=>{(async()=>{try{c(!0),d(null);const C=await FL(t);r(C),a(C)}catch(C){d("Erreur lors du chargement des correspondances d'emploi"),console.error(C)}finally{c(!1)}})()},[t]),A.useEffect(()=>{const b=n.filter(C=>{const T=C.job.title.toLowerCase().includes(m.toLowerCase())||C.job.company.name.toLowerCase().includes(m.toLowerCase())||C.job.location.toLowerCase().includes(m.toLowerCase())||C.job.description.toLowerCase().includes(m.toLowerCase()),_=C.matchScore>=f;return T&&_});a(b)},[m,f,n]);const j=()=>{const b=["Titre du poste","Entreprise","Lieu","Score","Comptences correspondantes","Comptences manquantes","Salaire","Type de contrat","Date de publication"],C=s.map(D=>[D.job.title,D.job.company.name,D.job.location,`${D.matchScore}%`,D.matchedSkills.join(", "),D.missingSkills.join(", "),`${D.job.salary.min} - ${D.job.salary.max} `,D.job.type,new Date(D.job.postedAt).toLocaleDateString("fr-FR")]),T=[b.join(","),...C.map(D=>D.join(","))].join(`
`),_=new Blob([T],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(_),k=document.createElement("a");k.setAttribute("href",I),k.setAttribute("download",`correspondances_${e.replace(/\s+/g,"_")}_${new Date().toISOString().slice(0,10)}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return o?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[i.jsx(Te,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400",children:"Recherche des correspondances d'emploi..."})]}):u?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-4",children:[i.jsx(tr,{className:"h-8 w-8 text-red-500"}),i.jsx("p",{className:"text-lg text-red-500",children:u})]}):i.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:["Correspondances d'emploi pour ",e]}),i.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[s.length," offre(s) d'emploi correspondant au profil"]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-5 w-5"}),i.jsx("input",{type:"text",placeholder:"Rechercher par titre, entreprise, lieu...",className:"pl-10 w-full h-10 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-900 dark:text-white",value:m,onChange:b=>p(b.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("label",{htmlFor:"min-score",className:"text-sm text-slate-600 dark:text-slate-400 whitespace-nowrap",children:"Score minimum :"}),i.jsx("input",{id:"min-score",type:"range",min:"0",max:"100",step:"5",value:f,onChange:b=>x(parseInt(b.target.value)),className:"w-32 h-2 bg-slate-200 dark:bg-slate-600 rounded-lg appearance-none cursor-pointer"}),i.jsxs("span",{className:"text-sm font-medium text-slate-900 dark:text-white w-10 text-center",children:[f,"%"]})]}),i.jsxs("button",{onClick:j,className:"flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:[i.jsx(N3,{className:"h-5 w-5 mr-2"}),"Exporter"]})]}),s.length===0?i.jsxs("div",{className:"text-center py-10",children:[i.jsx(T3,{className:"h-12 w-12 mx-auto text-slate-400"}),i.jsx("p",{className:"mt-4 text-lg text-slate-600 dark:text-slate-400",children:"Aucune correspondance trouve avec ces critres de filtrage."})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(b=>i.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg border border-slate-200 dark:border-slate-600 p-5 relative",children:[i.jsxs("div",{className:`absolute top-5 right-5 px-3 py-1 rounded-full flex items-center ${b.matchScore>=80?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":b.matchScore>=50?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:[i.jsx(Wp,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{className:"font-medium",children:[b.matchScore,"%"]})]}),i.jsx("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-3 pr-16",children:b.job.title}),i.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mb-2",children:[i.jsx(Ms,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:b.job.company.name})]}),i.jsxs("div",{className:"flex items-center text-slate-600 dark:text-slate-400 mb-4",children:[i.jsx(Vi,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:b.job.location})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Lm,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:[b.job.salary.min," - ",b.job.salary.max," "]})]}),i.jsxs("div",{className:"flex items-center text-sm text-slate-600 dark:text-slate-400",children:[i.jsx(Vs,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:b.job.type})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2 flex items-center",children:[i.jsx(Xi,{className:"h-4 w-4 mr-1 text-green-500"}),"Comptences correspondantes"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.matchedSkills.map((C,T)=>i.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-100 text-xs rounded-full",children:C},T)),b.matchedSkills.length===0&&i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"Aucune comptence correspondante"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-slate-900 dark:text-white mb-2 flex items-center",children:[i.jsx(tr,{className:"h-4 w-4 mr-1 text-amber-500"}),"Comptences manquantes"]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.missingSkills.map((C,T)=>i.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-100 text-xs rounded-full",children:C},T)),b.missingSkills.length===0&&i.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 italic",children:"Toutes les comptences requises sont prsentes"})]})]}),i.jsxs("div",{className:"mt-4 text-xs text-slate-500 dark:text-slate-400",children:["Publi le ",new Date(b.job.postedAt).toLocaleDateString("fr-FR")]})]},b.job.id))})]})},zL=()=>{const[t,e]=A.useState([]),[n,r]=A.useState(null),[s,a]=A.useState(""),[o,c]=A.useState(!0),[u,d]=A.useState(null);A.useEffect(()=>{(async()=>{try{c(!0);const f=await ML();e(f),f.length>0&&r(f[0])}catch(f){d("Erreur lors du chargement des candidats"),console.error(f)}finally{c(!1)}})()},[]);const m=t.filter(p=>`${p.firstName} ${p.lastName}`.toLowerCase().includes(s.toLowerCase())||p.skills.some(f=>f.toLowerCase().includes(s.toLowerCase())));return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-bleu",children:"Matching IA Candidats-Offres"}),i.jsx("p",{className:"text-gray-600",children:"Trouvez les meilleures correspondances entre vos candidats et les offres d'emploi disponibles"})]}),i.jsxs("div",{className:"flex flex-1 gap-4 h-full overflow-hidden",children:[i.jsxs("div",{className:"w-72 bg-ivoire rounded-lg shadow-sm p-4 flex flex-col h-full border border-gray-200",children:[i.jsxs("div",{className:"mb-4 relative",children:[i.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange h-5 w-5"}),i.jsx("input",{type:"text",placeholder:"Rechercher un candidat...",className:"pl-10 w-full h-10 rounded-lg border border-gray-300 bg-white text-bleu",value:s,onChange:p=>a(p.target.value)})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:o?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx(Te,{className:"h-8 w-8 animate-spin text-orange"})}):u?i.jsx("div",{className:"text-red-500 text-center p-4",children:u}):m.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun candidat trouv"}):i.jsx("ul",{className:"space-y-2",children:m.map(p=>i.jsx("li",{children:i.jsxs("button",{onClick:()=>r(p),className:`w-full text-left p-3 rounded-lg transition-colors ${(n==null?void 0:n.id)===p.id?"bg-violet text-ivoire":"hover:bg-gray-100 text-bleu"}`,children:[i.jsxs("div",{className:"font-medium",children:[p.firstName," ",p.lastName]}),i.jsxs("div",{className:"text-sm opacity-80 truncate",children:[p.skills.slice(0,3).join(", "),p.skills.length>3&&"..."]})]})},p.id))})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:n?i.jsx(UL,{workerId:n.id||"",workerName:`${n.firstName} ${n.lastName}`}):i.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-ivoire rounded-lg shadow-sm p-8 border border-gray-200",children:i.jsxs("div",{className:"text-gray-700 text-center",children:[i.jsx("p",{className:"text-lg mb-2",children:"Slectionnez un candidat pour voir les offres correspondantes"}),i.jsx("p",{children:"Les rsultats de matching IA vous aideront  identifier les meilleures opportunits pour vos candidats"})]})})})]})]})},Xx=({isOpen:t,onClose:e,onMissionAdded:n,isNew:r=!1})=>{var y;const{user:s}=Cn(),[a,o]=A.useState(null),[c,u]=A.useState(!1),[d,m]=A.useState(!1),[p,f]=A.useState(null),[x,j]=A.useState(null),[b,C]=A.useState({title:"",company:"",location:"",description:"",skills:[],dailyRate:0,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),contactPerson:"",contactEmail:""}),T=A.useRef(null);if(A.useEffect(()=>{t&&(r?(C({title:"",company:"",location:"",description:"",skills:[],dailyRate:0,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),contactPerson:"",contactEmail:""}),f({}),o(null)):(o(null),f(null),j(null),C({title:"",company:"",location:"",description:"",skills:[],dailyRate:0,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),contactPerson:"",contactEmail:""})))},[t,r]),!t)return null;const _=async N=>{var P;const R=(P=N.target.files)==null?void 0:P[0];if(R){o(R),m(!0),j(null);try{const S=await Wx(R);f(S),C({...b,...S})}catch{j("Erreur lors de l'analyse du fichier. Veuillez ressayer.")}finally{m(!1)}}},I=N=>{N.preventDefault()},k=async N=>{var P;N.preventDefault();const R=(P=N.dataTransfer.files)==null?void 0:P[0];if(R){o(R),m(!0),j(null);try{const S=await Wx(R);f(S),C({...b,...S})}catch{j("Erreur lors de l'analyse du fichier. Veuillez ressayer.")}finally{m(!1)}}},D=N=>{const{name:R,value:P}=N.target;C({...b,[R]:P})},L=N=>{const{name:R,value:P}=N.target;C({...b,[R]:new Date(P)})},E=N=>{const R=N.target.value.split(",").map(P=>P.trim()).filter(P=>P);C({...b,skills:R})},w=async N=>{if(N.preventDefault(),!(s!=null&&s.uid)){j("Utilisateur non authentifi");return}if(!b.title||!b.company||!b.startDate||!b.endDate){j("Veuillez remplir tous les champs obligatoires");return}u(!0),j(null);try{await $N(b,s.uid),n(),e()}catch{j("Erreur lors de la cration de la mission")}finally{u(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:i.jsxs("div",{className:"bg-gray-800 w-full max-w-3xl rounded-lg shadow-xl max-h-[90vh] overflow-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:r?"Nouvelle mission":"Importer une mission"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Br,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[x&&i.jsxs("div",{className:"mb-4 p-3 bg-red-900/30 border border-red-800 rounded flex items-center gap-2 text-red-300",children:[i.jsx(tr,{size:18}),i.jsx("span",{children:x})]}),!a&&!r?i.jsxs("div",{className:"border-2 border-dashed border-gray-600 rounded-lg p-8 mb-6 text-center cursor-pointer hover:bg-gray-700/20 transition-colors",onClick:()=>{var N;return(N=T.current)==null?void 0:N.click()},onDragOver:I,onDrop:k,children:[i.jsx(Qo,{size:40,className:"mx-auto mb-2 text-gray-400"}),i.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-300",children:"Dposez votre fichier ici"}),i.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"ou cliquez pour slectionner un fichier"}),i.jsx("input",{type:"file",ref:T,onChange:_,className:"hidden",accept:".pdf,.doc,.docx,.txt"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Formats supports: PDF, DOC, DOCX, TXT"})]}):a&&!r?i.jsxs("div",{className:"mb-6 p-4 bg-gray-700/30 border border-gray-600 rounded flex items-center gap-3",children:[i.jsx(rt,{size:24,className:"text-blue-400"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-200 font-medium",children:a.name}),i.jsxs("p",{className:"text-xs text-gray-400",children:[(a.size/1024).toFixed(1)," KB"]})]}),i.jsx("button",{className:"text-gray-400 hover:text-white",onClick:()=>{o(null),f(null),T.current&&(T.current.value="")},children:i.jsx(Br,{size:18})})]}):null,d?i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-500 border-r-transparent"}),i.jsx("p",{className:"mt-2 text-gray-300",children:"Analyse du document en cours..."})]}):(p||r)&&i.jsxs("form",{onSubmit:w,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre*"}),i.jsx("input",{type:"text",name:"title",value:b.title,onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entreprise*"}),i.jsx("input",{type:"text",name:"company",value:b.company,onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Localisation"}),i.jsx("input",{type:"text",name:"location",value:b.location,onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description"}),i.jsx("textarea",{name:"description",value:b.description,onChange:D,rows:4,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de dbut*"}),i.jsx("input",{type:"date",name:"startDate",value:b.startDate?b.startDate.toISOString().split("T")[0]:"",onChange:L,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de fin*"}),i.jsx("input",{type:"date",name:"endDate",value:b.endDate?b.endDate.toISOString().split("T")[0]:"",onChange:L,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Comptences (spares par des virgules)"}),i.jsx("input",{type:"text",name:"skills",value:(y=b.skills)==null?void 0:y.join(", "),onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Taux journalier ()"}),i.jsx("input",{type:"number",name:"dailyRate",value:b.dailyRate||"",onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Personne de contact"}),i.jsx("input",{type:"text",name:"contactPerson",value:b.contactPerson,onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email de contact"}),i.jsx("input",{type:"email",name:"contactEmail",value:b.contactEmail,onChange:D,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-600 rounded text-gray-300 hover:bg-gray-700 transition-colors",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:c,className:`px-4 py-2 ${r?"bg-primary-600 hover:bg-primary-700":"bg-blue-600 hover:bg-blue-700"} text-white rounded transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:c?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-solid border-white border-r-transparent"}),i.jsx("span",{children:"Cration..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Pe,{size:18}),i.jsx("span",{children:r?"Crer la mission":"Importer la mission"})]})})]})]})]})]})})};var Fm=(t=>(t.RESUME="resume",t.MISSION="mission",t.CONTRACT="contract",t.INVOICE="invoice",t))(Fm||{});const BL=async t=>{await new Promise(n=>setTimeout(n,1500));const e=t.name.toLowerCase();return e.includes("mission")||e.includes("job")||e.includes("offre")?{documentType:"mission",confidence:.85,extractedData:Zx(e,t.type)}:e.includes("cv")||e.includes("resume")?{documentType:"resume",confidence:.9,extractedData:{name:"John Doe",email:"john.doe@example.com",skills:["Dveloppement Web","React","Node.js"],experience:"5 ans"}}:e.includes("contrat")||e.includes("contract")?{documentType:"contract",confidence:.78,extractedData:{parties:["Entreprise A","Entreprise B"],startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+6)),value:15e3}}:{documentType:"mission",confidence:.6,extractedData:Zx(e,t.type)}},Zx=(t,e)=>{let n="Paris";t.includes("lyon")&&(n="Lyon"),t.includes("marseille")&&(n="Marseille"),t.includes("bordeaux")&&(n="Bordeaux");let r="Dveloppeur Web";t.includes("soudeur")&&(r="Soudeur"),t.includes("plombier")&&(r="Plombier"),t.includes("electricien")&&(r="lectricien"),t.includes("cariste")&&(r="Cariste");let s="Entreprise Non Identifie";t.includes("acme")&&(s="ACME Corp"),t.includes("tech")&&(s="TechSolutions"),t.includes("build")&&(s="BuildMaster");const o={"Dveloppeur Web":"Dveloppeur web full-stack matrisant React, Node.js et les bases de donnes. Le candidat travaillera sur des projets innovants dans un environnement agile.",Soudeur:"Soudeur expriment matrisant les techniques TIG et MIG. Le candidat travaillera sur des structures mtalliques complexes dans un environnement industriel.",Plombier:"Plombier qualifi pour installation et maintenance de systmes sanitaires. Le candidat interviendra sur des chantiers rsidentiels et commerciaux.",lectricien:"lectricien industriel pour installation et maintenance de systmes lectriques. Le candidat travaillera sur des installations industrielles complexes.",Cariste:"Cariste expriment pour la gestion d'entrept. Le candidat aura pour mission la manipulation de charges lourdes et la gestion des stocks."}[r]||"Description extraite du document. Cette mission ncessite une expertise technique et une bonne capacit d'adaptation.",u={"Dveloppeur Web":["JavaScript","React","Node.js","CSS"],Soudeur:["Soudure TIG","Soudure MIG","Lecture de plans"],Plombier:["Sanitaire","Chauffage","Dpannage"],lectricien:["Courant fort","Courant faible","Habilitation lectrique"],Cariste:["CACES 3","Gestion de stock","Prparation de commandes"]}[r]||["Comptence technique","Communication","Travail en quipe"],m={"Dveloppeur Web":450,Soudeur:280,Plombier:250,lectricien:280,Cariste:200}[r]||300;return{title:r,company:s,location:n,description:o,skills:u,dailyRate:m,startDate:new Date(new Date().setDate(new Date().getDate()+7)),endDate:new Date(new Date().setDate(new Date().getDate()+37)),contactPerson:"Contact extrait du document",contactEmail:"contact@entreprise.com"}},$L=({isOpen:t,onClose:e,onMissionApproved:n})=>{var R;const{user:r}=Cn(),[s,a]=A.useState(null),[o,c]=A.useState(!1),[u,d]=A.useState(!1),[m,p]=A.useState(null),[f,x]=A.useState(null),[j,b]=A.useState(null),[C,T]=A.useState({title:"",company:"",location:"",description:"",startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+1)),skills:[],dailyRate:0,contactPerson:"",contactEmail:""});A.useEffect(()=>{t||(a(null),x(null),p(null),T({title:"",company:"",location:"",description:"",startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+1)),skills:[],dailyRate:0,contactPerson:"",contactEmail:""}))},[t]),A.useEffect(()=>{j&&j.documentType===Fm.MISSION&&(x(j.extractedData),T(P=>({...P,...j.extractedData})))},[j]);const _=P=>{P.preventDefault(),c(!0)},I=()=>{c(!1)},k=P=>{P.preventDefault(),c(!1),P.dataTransfer.files.length&&L(P.dataTransfer.files[0])},D=P=>{var S;(S=P.target.files)!=null&&S.length&&L(P.target.files[0])},L=async P=>{a(P),d(!0),p(null);try{const S=await BL(P);b(S),S.documentType!==Fm.MISSION&&p(`Le document semble tre un ${S.documentType} et non une mission. Veuillez vrifier.`)}catch(S){p("Erreur lors de l'analyse du fichier. Veuillez ressayer."),console.error(S)}finally{d(!1)}},E=P=>{const{name:S,value:fe}=P.target;T({...C,[S]:fe})},w=P=>{const{name:S,value:fe}=P.target,jt=new Date(fe);T({...C,[S]:jt})},y=P=>{const S=P.target.value.split(",").map(fe=>fe.trim()).filter(fe=>fe.length>0);T({...C,skills:S})},N=async P=>{P.preventDefault(),d(!0),p(null);try{if(!(r!=null&&r.uid))throw new Error("Utilisateur non authentifi");const S=await $N(C,r.uid);n(S)}catch(S){const fe=S instanceof Error?S.message:"Erreur lors de la cration de la mission";p(fe),console.error(S),d(!1)}};return t?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70",children:i.jsxs("div",{className:"bg-gray-800 rounded-xl overflow-hidden w-full max-w-3xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"p-5 border-b border-gray-700 flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-white",children:"Approbation Rapide de Mission"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:i.jsx(Br,{size:24})})]}),i.jsxs("div",{className:"overflow-y-auto p-5 flex-grow",children:[m&&i.jsxs("div",{className:"mb-4 p-3 bg-red-950/30 border border-red-700 rounded-lg flex items-start",children:[i.jsx(tr,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-red-400 text-sm",children:m})]}),s?i.jsxs("form",{onSubmit:N,className:"space-y-5",children:[i.jsxs("div",{className:"p-3 bg-green-900/20 border border-green-700 rounded-lg flex items-center",children:[i.jsx(Xi,{className:"h-5 w-5 text-green-500 mr-3 flex-shrink-0"}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("p",{className:"text-green-400 font-medium",children:"Fichier analys avec succs"}),i.jsx("p",{className:"text-green-500/80 text-sm",children:s.name})]}),i.jsx("button",{type:"button",onClick:()=>a(null),className:"text-gray-400 hover:text-white ml-3",children:i.jsx(Br,{size:18})})]}),j&&i.jsxs("div",{className:"p-3 bg-blue-900/20 border border-blue-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(rt,{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0"}),i.jsx("h4",{className:"text-blue-400 font-medium",children:"Rsultat de l'analyse"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400",children:"Type de document:"}),i.jsx("p",{className:"text-white",children:j.documentType})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400",children:"Confiance:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5 mr-2",children:i.jsx("div",{className:`h-2.5 rounded-full ${j.confidence>.8?"bg-green-500":j.confidence>.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${j.confidence*100}%`}})}),i.jsxs("span",{className:"text-white whitespace-nowrap",children:[Math.round(j.confidence*100),"%"]})]})]})]})]}),i.jsxs("div",{className:"space-y-4 bg-gray-800/70 border border-gray-700 rounded-lg p-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre de la mission*"}),i.jsx("input",{type:"text",name:"title",value:C.title,onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Entreprise*"}),i.jsx("input",{type:"text",name:"company",value:C.company,onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Localisation*"}),i.jsx("input",{type:"text",name:"location",value:C.location,onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Description*"}),i.jsx("textarea",{name:"description",value:C.description,onChange:E,rows:4,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded resize-none text-white",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de dbut*"}),i.jsx("input",{type:"date",name:"startDate",value:C.startDate?C.startDate.toISOString().split("T")[0]:"",onChange:w,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date de fin*"}),i.jsx("input",{type:"date",name:"endDate",value:C.endDate?C.endDate.toISOString().split("T")[0]:"",onChange:w,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Comptences (spares par des virgules)"}),i.jsx("input",{type:"text",name:"skills",value:(R=C.skills)==null?void 0:R.join(", "),onChange:y,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Taux journalier ()"}),i.jsx("input",{type:"number",name:"dailyRate",value:C.dailyRate||"",onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nombre de travailleurs requis"}),i.jsx("input",{type:"number",name:"requiredWorkers",defaultValue:1,min:1,max:100,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Personne de contact"}),i.jsx("input",{type:"text",name:"contactPerson",value:C.contactPerson,onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email de contact"}),i.jsx("input",{type:"email",name:"contactEmail",value:C.contactEmail,onChange:E,className:"w-full p-2 bg-gray-700 border border-gray-600 rounded text-white"})]})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-600 rounded text-gray-300 hover:bg-gray-700 transition-colors",children:"Annuler"}),i.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-solid border-white border-r-transparent"}),i.jsx("span",{children:"Approbation..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Pe,{size:18}),i.jsx("span",{children:"Approuver la mission"})]})})]})]}):i.jsxs("div",{className:`border-2 border-dashed ${o?"border-primary-500":"border-gray-600"} rounded-lg p-10 text-center transition-colors`,onDragOver:_,onDragLeave:I,onDrop:k,children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"h-16 w-16 mx-auto mb-4 text-gray-400",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-1",children:"Glissez-dposez un document"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"ou cliquez pour slectionner"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Formats supports: PDF, DOCX, TXT"})]}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsx("input",{type:"file",className:"hidden",accept:".pdf,.docx,.txt",onChange:D}),i.jsx("span",{className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors",children:"Choisir un fichier"})]})]})]})]})}):null},qL=[{id:"1",title:"Dveloppeur Full-Stack",client:"Tech Solutions SA",location:"Lyon",startDate:"2024-03-15",endDate:"2024-04-15",status:"open",workers:3,requiredWorkers:5},{id:"2",title:"UX/UI Designer",client:"Digital Express",location:"Paris",startDate:"2024-03-20",endDate:"2024-03-25",status:"in_progress",workers:5,requiredWorkers:5},{id:"3",title:"Data Scientist",client:"HealthTech+",location:"Marseille",startDate:"2024-04-01",endDate:"2024-04-30",status:"open",workers:1,requiredWorkers:3},{id:"4",title:"DevOps Engineer",client:"Cloud Solutions",location:"Bordeaux",startDate:"2024-03-28",endDate:"2024-05-15",status:"in_progress",workers:2,requiredWorkers:2},{id:"5",title:"Product Manager",client:"Startup Nation",location:"Lille",startDate:"2024-04-10",endDate:"2024-04-25",status:"open",workers:0,requiredWorkers:4}],Hs={open:{bg:"bg-emerald-500/10",text:"text-emerald-500",dot:"bg-emerald-500",label:" pourvoir"},in_progress:{bg:"bg-violet/10",text:"text-violet",dot:"bg-violet",label:"En cours"},completed:{bg:"bg-gray-400/10",text:"text-gray-400",dot:"bg-gray-400",label:"Termine"},cancelled:{bg:"bg-red-400/10",text:"text-red-400",dot:"bg-red-400",label:"Annule"}},WL=()=>{const{user:t}=Cn(),[e,n]=A.useState(""),[r,s]=A.useState(null),[a,o]=A.useState(null),[c,u]=A.useState(!1),[d,m]=A.useState(!1),[p,f]=A.useState(!1),[x,j]=A.useState([]),[b,C]=A.useState(!0),[T,_]=A.useState(null);A.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{C(!0);const N=await Vm(t.uid);j(N),_(null)}catch(N){console.error("Erreur lors du chargement des offres:",N),_("Impossible de charger les offres. Veuillez ressayer."),j(qL)}finally{C(!1)}})()},[t==null?void 0:t.uid]);const I=Array.from(new Set(x.map(y=>y.location))),k=x.filter(y=>{const N=e===""||y.title.toLowerCase().includes(e.toLowerCase())||y.company.toLowerCase().includes(e.toLowerCase()),R=r===null||y.status===r,P=a===null||y.location===a;return N&&R&&P}),D=y=>new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short",year:"numeric"}).format(y),L=async()=>{if(t!=null&&t.uid)try{const y=await Vm(t.uid);j(y)}catch(y){console.error("Erreur lors du rechargement des offres:",y)}},E=()=>{L(),u(!1),f(!1)},w=()=>{L(),m(!1)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-bleu",children:"Offres d'emploi"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 text-ivoire rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(x3,{className:"h-5 w-5"}),i.jsx("span",{children:"Approbation Rapide"})]}),i.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-violet hover:bg-violet/80 text-ivoire rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(Qo,{className:"h-5 w-5"}),i.jsx("span",{children:"Importer"})]}),i.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors flex items-center space-x-2",children:[i.jsx(VN,{className:"h-5 w-5"}),i.jsx("span",{children:"Nouvelle offre"})]})]})]}),i.jsx("div",{className:"bg-ivoire rounded-xl p-4 border border-gray-200 shadow-sm",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(An,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",placeholder:"Rechercher une offre...",className:"pl-10 pr-4 py-2 w-full bg-white border border-gray-300 rounded-lg focus:ring-violet focus:border-violet text-bleu",value:e,onChange:y=>n(y.target.value)})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var y;return(y=document.getElementById("status-dropdown"))==null?void 0:y.classList.toggle("hidden")},children:[i.jsx(Mi,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:r?Hs[r].label:"Statut"}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"status-dropdown",className:"absolute mt-2 w-40 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;s(null),(y=document.getElementById("status-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("span",{children:"Tous les statuts"}),r===null&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),Object.entries(Hs).map(([y,{label:N}])=>i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var R;s(y),(R=document.getElementById("status-dropdown"))==null||R.classList.add("hidden")},children:[i.jsx("span",{children:N}),r===y&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]},y))]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 text-bleu",onClick:()=>{var y;return(y=document.getElementById("location-dropdown"))==null?void 0:y.classList.toggle("hidden")},children:[i.jsx(Vi,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:a||"Lieu"}),i.jsx(Ss,{className:"h-4 w-4 ml-2"})]}),i.jsx("div",{id:"location-dropdown",className:"absolute mt-2 w-48 bg-white border border-gray-300 rounded-lg shadow-lg overflow-hidden z-10 hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var y;o(null),(y=document.getElementById("location-dropdown"))==null||y.classList.add("hidden")},children:[i.jsx("span",{children:"Tous les lieux"}),a===null&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]}),I.map(y=>i.jsxs("button",{className:"flex items-center px-3 py-2 w-full text-left rounded hover:bg-gray-100 text-bleu",onClick:()=>{var N;o(y),(N=document.getElementById("location-dropdown"))==null||N.classList.add("hidden")},children:[i.jsx("span",{children:y}),a===y&&i.jsx(Pe,{className:"h-4 w-4 ml-auto"})]},y))]})})]})]})]})}),b&&i.jsxs("div",{className:"flex justify-center items-center py-12",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-solid border-orange border-r-transparent"}),i.jsx("span",{className:"ml-3 text-bleu",children:"Chargement des offres..."})]}),T&&!b&&i.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 mb-4",children:T}),!b&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:k.length>0?k.map(y=>{var N,R,P,S;return i.jsxs("div",{className:"bg-ivoire rounded-xl border border-gray-200 overflow-hidden hover:border-violet/50 transition-colors group shadow-sm",children:[i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-bleu",children:y.title}),i.jsxs("div",{className:`flex items-center ${((N=Hs[y.status])==null?void 0:N.bg)||"bg-gray-400/10"} ${((R=Hs[y.status])==null?void 0:R.text)||"text-gray-400"} px-2.5 py-1 rounded-full text-xs font-medium`,children:[i.jsx("div",{className:`w-2 h-2 ${((P=Hs[y.status])==null?void 0:P.dot)||"bg-gray-400"} rounded-full mr-2`}),((S=Hs[y.status])==null?void 0:S.label)||y.status]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:y.company}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(Vi,{className:"h-4 w-4 text-orange mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-gray-700",children:y.location})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx(pt,{className:"h-4 w-4 text-orange mr-2 flex-shrink-0"}),i.jsxs("span",{className:"text-gray-700",children:[D(y.startDate)," - ",D(y.endDate)]})]})]})]}),i.jsxs("div",{className:"flex border-t border-gray-200",children:[i.jsx("button",{className:"flex-1 py-3 text-center text-sm text-bleu hover:text-violet hover:bg-gray-100 transition-colors",children:"Voir dtails"}),i.jsx("button",{className:"flex-1 py-3 text-center text-sm text-bleu hover:text-violet hover:bg-gray-100 transition-colors border-l border-gray-200",children:"Matching IA"})]})]},y.id)}):i.jsx("div",{className:"col-span-full p-12 text-center text-gray-500 bg-gray-100 rounded-xl border border-gray-200",children:r||a||e?"Aucune offre ne correspond  votre recherche":"Aucune offre disponible. Crez votre premire offre d'emploi !"})}),i.jsx(Xx,{isOpen:c,onClose:()=>u(!1),onMissionAdded:E}),i.jsx($L,{isOpen:d,onClose:()=>m(!1),onMissionApproved:w}),i.jsx(Xx,{isOpen:p,onClose:()=>f(!1),onMissionAdded:E,isNew:!0})]})},HL=()=>i.jsx("div",{className:"w-full",children:i.jsx(WL,{})}),GL=()=>{var x,j;const{id:t}=Mf(),[e,n]=A.useState(null),[r,s]=A.useState(!0),[a,o]=A.useState(!1),[c,u]=A.useState(null),[d,m]=A.useState(null);A.useEffect(()=>{(async()=>{if(!t){u("ID du candidat non spcifi"),s(!1);return}try{const C=await Yu(t);C?n(C):u("Candidat non trouv")}catch(C){console.error("Erreur lors du chargement des donnes:",C),u("Erreur lors du chargement des donnes")}finally{s(!1)}})()},[t]);const p=async()=>{if(e)try{o(!0);const b=await mL(e);m(b)}catch(b){console.error("Erreur lors de l'estimation:",b),u("Erreur lors de l'estimation de la valeur salariale")}finally{o(!1)}},f=(b,C="EUR")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:C,maximumFractionDigits:0}).format(b);return r?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Te,{className:"h-10 w-10 text-orange animate-spin"})}):c||!e?i.jsxs("div",{className:"bg-red-500/10 border border-red-400/20 p-6 rounded-xl text-red-400 flex flex-col items-center justify-center",children:[i.jsx("p",{className:"text-lg",children:c||"Candidat introuvable"}),i.jsxs(je,{to:"/dashboard/candidates",className:"mt-4 px-4 py-2 bg-bleu hover:bg-bleu/80 rounded-lg flex items-center text-ivoire transition-colors",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Retour  la liste"})]})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(je,{to:`/dashboard/candidates/${t}`,className:"mr-4 p-2 rounded-lg hover:bg-ivoire/10 transition-colors",children:i.jsx(zr,{className:"h-5 w-5 text-bleu"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-bleu",children:"Estimation Salariale"}),i.jsxs("p",{className:"text-gray-600",children:[e.firstName," ",e.lastName]})]})]}),i.jsx("button",{onClick:p,disabled:a,className:"px-4 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors flex items-center disabled:opacity-50",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 mr-2 animate-spin"}),i.jsx("span",{children:"Analyse en cours..."})]}):d?i.jsxs(i.Fragment,{children:[i.jsx(Wp,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Actualiser l'estimation"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Estimer la valeur"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 bg-ivoire rounded-xl border border-gray-200 p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-bleu mb-4",children:"Profil du candidat"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-violet/20 flex items-center justify-center text-violet mr-4",children:e.avatar?i.jsx("img",{className:"h-12 w-12 rounded-full",src:e.avatar,alt:""}):i.jsx(Fs,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-bleu font-medium",children:[e.firstName," ",e.lastName]}),i.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Comptences cls"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((b,C)=>i.jsx("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-violet/10 text-violet",children:b},C))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Exprience"}),i.jsx("ul",{className:"space-y-2 text-gray-700",children:((j=(x=e.cvAnalysis)==null?void 0:x.experience)==null?void 0:j.slice(0,3).map((b,C)=>i.jsxs("li",{className:"text-sm",children:[" ",b]},C)))||i.jsx("li",{className:"text-sm text-gray-500",children:"Aucune exprience disponible"})})]})]})]}),i.jsx("div",{className:"lg:col-span-2 bg-ivoire rounded-xl border border-gray-200 p-6 shadow-sm",children:d?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-bleu",children:"Valeur sur le march"}),i.jsx("span",{className:"px-3 py-1 bg-orange/20 text-orange rounded-full text-sm font-medium",children:"Analyse IA"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[i.jsxs("div",{className:"flex-grow p-4 bg-gray-100 rounded-xl border border-gray-200",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Fourchette salariale estime"}),i.jsxs("div",{className:"flex items-center text-bleu font-bold text-2xl",children:[i.jsx(is,{className:"h-6 w-6 text-orange mr-2"}),i.jsxs("span",{children:[f(d.min)," - ",f(d.max)]})]}),i.jsx("div",{className:"mt-1 text-gray-500 text-sm",children:"Salaire annuel brut"})]}),i.jsxs("div",{className:"flex-grow p-4 bg-gray-100 rounded-xl border border-gray-200",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Positionnement march"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-full bg-gray-300 rounded-full h-2.5",children:i.jsx("div",{className:"bg-orange h-2.5 rounded-full",style:{width:"65%"}})}),i.jsx("span",{className:"ml-2 text-orange font-semibold",children:"65%"})]}),i.jsx("div",{className:"mt-1 text-gray-500 text-sm",children:"Par rapport aux profils similaires"})]})]}),i.jsxs("div",{className:"p-5 bg-gray-100 rounded-xl border border-gray-200",children:[i.jsxs("h4",{className:"text-bleu font-medium mb-2 flex items-center",children:[i.jsx(UN,{className:"h-5 w-5 text-violet mr-2"}),"Analyse du march"]}),i.jsx("p",{className:"text-gray-700",children:d.marketAnalysis})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-bleu font-medium mb-3 flex items-center",children:[i.jsx(qp,{className:"h-5 w-5 text-violet mr-2"}),"Atouts valoriss"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg border border-gray-200 flex items-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-violet/20 flex items-center justify-center mr-3",children:i.jsx(Ms,{className:"h-4 w-4 text-violet"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-bleu text-sm font-medium",children:"Exprience pertinente"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"+15% sur la valeur salariale"})]})]}),i.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg border border-gray-200 flex items-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-orange/20 flex items-center justify-center mr-3",children:i.jsx(Qa,{className:"h-4 w-4 text-orange"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-bleu text-sm font-medium",children:"Comptences techniques"}),i.jsx("p",{className:"text-gray-500 text-xs",children:"+12% sur la valeur salariale"})]})]})]})]})]}):i.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center px-6",children:[i.jsx(is,{className:"h-12 w-12 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-bleu text-xl font-medium mb-2",children:"Estimation salariale"}),i.jsx("p",{className:"text-gray-600 mb-6",children:'Cliquez sur "Estimer la valeur" pour analyser le profil du candidat et calculer sa valeur sur le march.'}),i.jsx("button",{onClick:p,disabled:a,className:"px-6 py-2 bg-orange hover:bg-orange/80 text-ivoire rounded-lg transition-colors flex items-center disabled:opacity-50",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 mr-2 animate-spin"}),i.jsx("span",{children:"Analyse en cours..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Estimer la valeur"})]})})]})})]})]})},KL=()=>{const{id:t}=Mf(),[e,n]=A.useState(null),[r,s]=A.useState(!0),[a,o]=A.useState(null),[c,u]=A.useState(!1),[d,m]=A.useState({date:"",time:"",duration:60,type:"remote",location:"",participants:"",notes:""});A.useEffect(()=>{(async()=>{if(!t){o("ID du candidat non spcifi"),s(!1);return}try{const j=await Yu(t);j?n(j):o("Candidat non trouv")}catch(j){console.error("Erreur lors du chargement des donnes:",j),o("Erreur lors du chargement des donnes")}finally{s(!1)}})()},[t]);const p=x=>{const{name:j,value:b}=x.target;m(C=>({...C,[j]:b}))},f=async x=>{x.preventDefault(),u(!0);try{await new Promise(j=>setTimeout(j,1500)),alert("Entretien planifi avec succs!")}catch(j){console.error("Erreur lors de l'enregistrement:",j)}finally{u(!1)}};return r?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(Te,{className:"h-10 w-10 text-orange animate-spin"})}):a||!e?i.jsxs("div",{className:"bg-red-500/10 border border-red-400/20 p-6 rounded-xl text-red-400 flex flex-col items-center justify-center",children:[i.jsx(ks,{className:"h-12 w-12 text-red-400 mb-4"}),i.jsx("p",{className:"text-lg",children:a||"Candidat introuvable"}),i.jsxs(je,{to:"/dashboard/candidates",className:"mt-4 px-4 py-2 bg-bleu hover:bg-bleu/80 rounded-lg flex items-center text-ivoire transition-colors",children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:"Retour  la liste"})]})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(je,{to:`/dashboard/candidates/${t}`,className:"mr-4 p-2 rounded-lg hover:bg-ivoire/10 transition-colors",children:i.jsx(zr,{className:"h-5 w-5 text-bleu"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-bleu",children:"Planifier un entretien"}),i.jsxs("p",{className:"text-gray-600",children:[e.firstName," ",e.lastName]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-ivoire rounded-xl border border-gray-200 p-6 shadow-sm",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-violet/20 flex items-center justify-center text-violet mr-4",children:e.avatar?i.jsx("img",{className:"h-12 w-12 rounded-full",src:e.avatar,alt:""}):i.jsx(Fs,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-bleu font-medium",children:[e.firstName," ",e.lastName]}),i.jsx("p",{className:"text-gray-600 text-sm",children:e.email})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Comptences cls"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.slice(0,5).map((x,j)=>i.jsx("span",{className:"px-2.5 py-1 text-xs font-medium rounded-full bg-violet/10 text-violet",children:x},j))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Disponibilit"}),i.jsx("p",{className:"text-bleu",children:e.availability||"Non spcifie"})]})]})}),i.jsxs("div",{className:"md:col-span-2 bg-ivoire rounded-xl border border-gray-200 p-6 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-bleu mb-4",children:"Dtails de l'entretien"}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-600 mb-1",children:"Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(pt,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"date",id:"date",name:"date",value:d.date,onChange:p,className:"block w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu placeholder-gray-400 focus:outline-none focus:border-violet",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"time",className:"block text-sm font-medium text-gray-600 mb-1",children:"Heure"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vs,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"time",id:"time",name:"time",value:d.time,onChange:p,className:"block w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu placeholder-gray-400 focus:outline-none focus:border-violet",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-600 mb-1",children:"Dure (minutes)"}),i.jsxs("select",{id:"duration",name:"duration",value:d.duration,onChange:p,className:"block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu focus:outline-none focus:border-violet",children:[i.jsx("option",{value:30,children:"30 minutes"}),i.jsx("option",{value:45,children:"45 minutes"}),i.jsx("option",{value:60,children:"60 minutes"}),i.jsx("option",{value:90,children:"90 minutes"}),i.jsx("option",{value:120,children:"120 minutes"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-600 mb-1",children:"Type d'entretien"}),i.jsxs("select",{id:"type",name:"type",value:d.type,onChange:p,className:"block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu focus:outline-none focus:border-violet",children:[i.jsx("option",{value:"remote",children:"Entretien  distance"}),i.jsx("option",{value:"in-person",children:"Entretien en personne"})]})]}),d.type==="in-person"&&i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-600 mb-1",children:"Lieu"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Vi,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",id:"location",name:"location",value:d.location,onChange:p,placeholder:"Adresse de l'entretien",className:"block w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu placeholder-gray-400 focus:outline-none focus:border-violet"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"participants",className:"block text-sm font-medium text-gray-600 mb-1",children:"Participants (spars par des virgules)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ao,{className:"h-5 w-5 text-orange"})}),i.jsx("input",{type:"text",id:"participants",name:"participants",value:d.participants,onChange:p,placeholder:"Ex: Marie Dupont, Jean Martin",className:"block w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu placeholder-gray-400 focus:outline-none focus:border-violet"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-600 mb-1",children:"Notes"}),i.jsx("textarea",{id:"notes",name:"notes",value:d.notes,onChange:p,rows:4,placeholder:"Informations complmentaires, sujets  aborder...",className:"block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg text-bleu placeholder-gray-400 focus:outline-none focus:border-violet resize-none"})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-violet hover:bg-violet/80 text-ivoire rounded-lg transition-colors flex items-center disabled:opacity-50",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"h-5 w-5 mr-2 animate-spin"}),i.jsx("span",{children:"Enregistrement..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(pt,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Planifier l'entretien"})]})})})]})]})]}),i.jsxs("div",{className:"bg-ivoire rounded-xl border border-gray-200 p-6 shadow-sm",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"text-lg font-semibold text-bleu",children:"Entretiens prcdents"})}),i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(pt,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),i.jsx("p",{children:"Aucun entretien prcdent"})]})]})]})},QL=({onCandidatesFound:t})=>{const[e,n]=A.useState(""),[r,s]=A.useState(""),[a,o]=A.useState([]),[c,u]=A.useState(""),[d,m]=A.useState(""),[p,f]=A.useState(!1),[x,j]=A.useState(null),[b,C]=A.useState("guided"),T=()=>{c.trim()&&!a.includes(c.trim())&&(o([...a,c.trim()]),u(""))},_=D=>{o(a.filter(L=>L!==D))},I=async()=>{if(!r&&a.length===0){j("Veuillez spcifier au moins un titre de poste ou une comptence");return}try{f(!0),j(null),await new Promise(L=>setTimeout(L,2e3));const D=Array(5).fill(0).map((L,E)=>({id:`candidate-${E}`,firstName:`Prnom${E+1}`,lastName:`Nom${E+1}`,email:`email${E+1}@example.com`,phone:`0${6+Math.floor(Math.random()*4)}${Array(8).fill(0).map(()=>Math.floor(Math.random()*10)).join("")}`,skills:[...a,"Comptence supplmentaire","Autre comptence"],status:"available",availability:"Immdiate",avatar:null,linkedinProfile:`https://linkedin.com/in/profile${E+1}`,matchScore:Math.floor(Math.random()*30)+70}));t(D)}catch(D){console.error("Erreur lors de la recherche de candidats:",D),j("Une erreur est survenue lors de la recherche. Veuillez ressayer.")}finally{f(!1)}},k=async()=>{if(!e.trim()){j("Veuillez entrer une description du profil recherch");return}try{f(!0),j(null);const D=`
        En tant qu'assistant RH, aide-moi  trouver des candidats qui correspondent  cette description:
        "${e}"
        
        Analyse la requte et extrais:
        1. Le titre du poste
        2. Les comptences requises
        3. L'exprience ncessaire
        4. Tout autre critre important
      `;await new Promise(y=>setTimeout(y,2500));const L=e.includes("dveloppeur")?"Dveloppeur Frontend":"Chef de Projet",E=["React","JavaScript","UI/UX","Communication"],w=Array(3).fill(0).map((y,N)=>({id:`ai-candidate-${N}`,firstName:`AI-Prnom${N+1}`,lastName:`AI-Nom${N+1}`,email:`ai-email${N+1}@example.com`,phone:`0${6+Math.floor(Math.random()*4)}${Array(8).fill(0).map(()=>Math.floor(Math.random()*10)).join("")}`,skills:[...E,"Comptence IA"],status:"available",availability:"Immdiate",avatar:null,linkedinProfile:`https://linkedin.com/in/ai-profile${N+1}`,matchScore:Math.floor(Math.random()*25)+75}));t(w)}catch(D){console.error("Erreur lors de la recherche IA:",D),j("Une erreur est survenue lors de la recherche IA. Veuillez ressayer.")}finally{f(!1)}};return i.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Recherche IA de Candidats"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{className:`px-3 py-1.5 rounded-lg ${b==="guided"?"bg-primary-600 text-white":"bg-gray-700 text-gray-300"}`,onClick:()=>C("guided"),children:[i.jsx(Mi,{className:"h-4 w-4 inline mr-1"})," Guide"]}),i.jsxs("button",{className:`px-3 py-1.5 rounded-lg ${b==="ai"?"bg-primary-600 text-white":"bg-gray-700 text-gray-300"}`,onClick:()=>C("ai"),children:[i.jsx(Qa,{className:"h-4 w-4 inline mr-1"})," IA"]})]})]}),b==="guided"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Titre du poste"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ms,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"ex: Dveloppeur Frontend, Chef de projet...",className:"pl-10 pr-3 py-2 w-full bg-gray-700 border border-gray-600 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-white",value:r,onChange:D=>s(D.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Localisation"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(pt,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"ex: Paris, Lyon, Remote...",className:"pl-10 pr-3 py-2 w-full bg-gray-700 border border-gray-600 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-white",value:d,onChange:D=>m(D.target.value)})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Comptences requises"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(qp,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{type:"text",placeholder:"Ajouter une comptence...",className:"pl-10 pr-3 py-2 w-full bg-gray-700 border border-gray-600 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-white",value:c,onChange:D=>u(D.target.value),onKeyPress:D=>D.key==="Enter"&&T()})]}),i.jsx("button",{onClick:T,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg",children:"Ajouter"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:a.map((D,L)=>i.jsxs("div",{className:"px-3 py-1 bg-primary-500/20 border border-primary-500/30 rounded-full flex items-center",children:[i.jsx("span",{className:"text-primary-300 text-sm",children:D}),i.jsx("button",{onClick:()=>_(D),className:"ml-2 text-primary-300 hover:text-primary-100",children:""})]},L))})]}),i.jsx("button",{onClick:I,disabled:p,className:"w-full px-4 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"animate-spin h-5 w-5 mr-2"}),"Recherche en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"h-5 w-5 mr-2"}),"Rechercher des candidats"]})})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Dcrivez le profil idal"}),i.jsx("div",{className:"relative",children:i.jsx("textarea",{placeholder:"ex: Je recherche un dveloppeur frontend avec 3 ans d'exprience en React et des comptences en UI/UX. La personne doit tre disponible immdiatement et avoir une bonne communication...",className:"p-3 w-full h-32 bg-gray-700 border border-gray-600 rounded-lg focus:ring-primary-500 focus:border-primary-500 text-white",value:e,onChange:D=>n(D.target.value)})})]}),i.jsx("button",{onClick:k,disabled:p,className:"w-full px-4 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Te,{className:"animate-spin h-5 w-5 mr-2"}),"Analyse IA en cours..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"h-5 w-5 mr-2"}),"Recherche intelligente"]})}),i.jsx("div",{className:"text-sm text-gray-400 italic",children:"Notre IA analysera votre description pour trouver les candidats les plus pertinents en fonction du contexte."})]}),x&&i.jsx("div",{className:"p-3 bg-red-500/10 border border-red-400/20 rounded-lg text-red-300 text-sm",children:x})]})};function YL(){const{user:t}=Cn();return i.jsx(QT,{children:i.jsxs(zT,{children:[i.jsx(Oe,{path:"/",element:i.jsx(ts,{to:t?"/dashboard":"/landing"})}),i.jsx(Oe,{path:"/landing",element:t?i.jsx(ts,{to:"/dashboard"}):i.jsx(NL,{})}),i.jsx(Oe,{path:"/login",element:t?i.jsx(ts,{to:"/dashboard"}):i.jsx(B3,{})}),i.jsx(Oe,{path:"/signup",element:t?i.jsx(ts,{to:"/dashboard"}):i.jsx($3,{})}),i.jsx(Oe,{path:"/forgot-password",element:t?i.jsx(ts,{to:"/dashboard"}):i.jsx(q3,{})}),i.jsxs(Oe,{path:"/dashboard",element:t?i.jsx(eL,{}):i.jsx(ts,{to:"/login"}),children:[i.jsx(Oe,{index:!0,element:i.jsx(J3,{})}),i.jsx(Oe,{path:"candidates",element:i.jsx(gL,{})}),i.jsx(Oe,{path:"candidates/:id",element:i.jsx(OL,{})}),i.jsx(Oe,{path:"candidates/:id/value",element:i.jsx(GL,{})}),i.jsx(Oe,{path:"candidates/:id/interview",element:i.jsx(KL,{})}),i.jsx(Oe,{path:"search",element:i.jsx(QL,{onCandidatesFound:()=>{}})}),i.jsx(Oe,{path:"missions",element:i.jsx(HL,{})}),i.jsx(Oe,{path:"documents",element:i.jsx(jL,{})}),i.jsx(Oe,{path:"reports",element:i.jsx(wL,{})}),i.jsx(Oe,{path:"settings",element:i.jsx(bL,{})}),i.jsx(Oe,{path:"ai-chat",element:i.jsx(oL,{})}),i.jsx(Oe,{path:"matching",element:i.jsx(zL,{})}),i.jsx(Oe,{path:"seed-data",element:i.jsx(LL,{})})]}),i.jsx(Oe,{path:"*",element:i.jsx(ts,{to:"/"})})]})})}f1(document.getElementById("root")).render(i.jsx(A.StrictMode,{children:i.jsx(YL,{})}));
